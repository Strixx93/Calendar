(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();function xv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var dd={exports:{}},ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function PA(){if(Wy)return ul;Wy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:h}}return ul.Fragment=t,ul.jsx=i,ul.jsxs=i,ul}var t_;function UA(){return t_||(t_=1,dd.exports=PA()),dd.exports}var It=UA(),md={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function kA(){if(e_)return St;e_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.iterator;function V(C){return C===null||typeof C!="object"?null:(C=D&&C[D]||C["@@iterator"],typeof C=="function"?C:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,it={};function Z(C,Y,et){this.props=C,this.context=Y,this.refs=it,this.updater=et||G}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,Y){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,Y,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Et(){}Et.prototype=Z.prototype;function gt(C,Y,et){this.props=C,this.context=Y,this.refs=it,this.updater=et||G}var ct=gt.prototype=new Et;ct.constructor=gt,$(ct,Z.prototype),ct.isPureReactComponent=!0;var zt=Array.isArray,nt={H:null,A:null,T:null,S:null,V:null},ut=Object.prototype.hasOwnProperty;function O(C,Y,et,J,ht,Rt){return et=Rt.ref,{$$typeof:s,type:C,key:Y,ref:et!==void 0?et:null,props:Rt}}function S(C,Y){return O(C.type,Y,void 0,void 0,void 0,C.props)}function b(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function I(C){var Y={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(et){return Y[et]})}var M=/\/+/g;function P(C,Y){return typeof C=="object"&&C!==null&&C.key!=null?I(""+C.key):Y.toString(36)}function w(){}function ne(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(Y){C.status==="pending"&&(C.status="fulfilled",C.value=Y)},function(Y){C.status==="pending"&&(C.status="rejected",C.reason=Y)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Qt(C,Y,et,J,ht){var Rt=typeof C;(Rt==="undefined"||Rt==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(Rt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case s:case t:vt=!0;break;case A:return vt=C._init,Qt(vt(C._payload),Y,et,J,ht)}}if(vt)return ht=ht(C),vt=J===""?"."+P(C,0):J,zt(ht)?(et="",vt!=null&&(et=vt.replace(M,"$&/")+"/"),Qt(ht,Y,et,"",function(zn){return zn})):ht!=null&&(b(ht)&&(ht=S(ht,et+(ht.key==null||C&&C.key===ht.key?"":(""+ht.key).replace(M,"$&/")+"/")+vt)),Y.push(ht)),1;vt=0;var Ce=J===""?".":J+":";if(zt(C))for(var Jt=0;Jt<C.length;Jt++)J=C[Jt],Rt=Ce+P(J,Jt),vt+=Qt(J,Y,et,Rt,ht);else if(Jt=V(C),typeof Jt=="function")for(C=Jt.call(C),Jt=0;!(J=C.next()).done;)J=J.value,Rt=Ce+P(J,Jt++),vt+=Qt(J,Y,et,Rt,ht);else if(Rt==="object"){if(typeof C.then=="function")return Qt(ne(C),Y,et,J,ht);throw Y=String(C),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return vt}function j(C,Y,et){if(C==null)return C;var J=[],ht=0;return Qt(C,J,"","",function(Rt){return Y.call(et,Rt,ht++)}),J}function tt(C){if(C._status===-1){var Y=C._result;Y=Y(),Y.then(function(et){(C._status===0||C._status===-1)&&(C._status=1,C._result=et)},function(et){(C._status===0||C._status===-1)&&(C._status=2,C._result=et)}),C._status===-1&&(C._status=0,C._result=Y)}if(C._status===1)return C._result.default;throw C._result}var ot=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function xt(){}return St.Children={map:j,forEach:function(C,Y,et){j(C,function(){Y.apply(this,arguments)},et)},count:function(C){var Y=0;return j(C,function(){Y++}),Y},toArray:function(C){return j(C,function(Y){return Y})||[]},only:function(C){if(!b(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},St.Component=Z,St.Fragment=i,St.Profiler=l,St.PureComponent=gt,St.StrictMode=a,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,St.__COMPILER_RUNTIME={__proto__:null,c:function(C){return nt.H.useMemoCache(C)}},St.cache=function(C){return function(){return C.apply(null,arguments)}},St.cloneElement=function(C,Y,et){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var J=$({},C.props),ht=C.key,Rt=void 0;if(Y!=null)for(vt in Y.ref!==void 0&&(Rt=void 0),Y.key!==void 0&&(ht=""+Y.key),Y)!ut.call(Y,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Y.ref===void 0||(J[vt]=Y[vt]);var vt=arguments.length-2;if(vt===1)J.children=et;else if(1<vt){for(var Ce=Array(vt),Jt=0;Jt<vt;Jt++)Ce[Jt]=arguments[Jt+2];J.children=Ce}return O(C.type,ht,void 0,void 0,Rt,J)},St.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:h,_context:C},C},St.createElement=function(C,Y,et){var J,ht={},Rt=null;if(Y!=null)for(J in Y.key!==void 0&&(Rt=""+Y.key),Y)ut.call(Y,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ht[J]=Y[J]);var vt=arguments.length-2;if(vt===1)ht.children=et;else if(1<vt){for(var Ce=Array(vt),Jt=0;Jt<vt;Jt++)Ce[Jt]=arguments[Jt+2];ht.children=Ce}if(C&&C.defaultProps)for(J in vt=C.defaultProps,vt)ht[J]===void 0&&(ht[J]=vt[J]);return O(C,Rt,void 0,void 0,null,ht)},St.createRef=function(){return{current:null}},St.forwardRef=function(C){return{$$typeof:g,render:C}},St.isValidElement=b,St.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:tt}},St.memo=function(C,Y){return{$$typeof:v,type:C,compare:Y===void 0?null:Y}},St.startTransition=function(C){var Y=nt.T,et={};nt.T=et;try{var J=C(),ht=nt.S;ht!==null&&ht(et,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(xt,ot)}catch(Rt){ot(Rt)}finally{nt.T=Y}},St.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},St.use=function(C){return nt.H.use(C)},St.useActionState=function(C,Y,et){return nt.H.useActionState(C,Y,et)},St.useCallback=function(C,Y){return nt.H.useCallback(C,Y)},St.useContext=function(C){return nt.H.useContext(C)},St.useDebugValue=function(){},St.useDeferredValue=function(C,Y){return nt.H.useDeferredValue(C,Y)},St.useEffect=function(C,Y,et){var J=nt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(C,Y)},St.useId=function(){return nt.H.useId()},St.useImperativeHandle=function(C,Y,et){return nt.H.useImperativeHandle(C,Y,et)},St.useInsertionEffect=function(C,Y){return nt.H.useInsertionEffect(C,Y)},St.useLayoutEffect=function(C,Y){return nt.H.useLayoutEffect(C,Y)},St.useMemo=function(C,Y){return nt.H.useMemo(C,Y)},St.useOptimistic=function(C,Y){return nt.H.useOptimistic(C,Y)},St.useReducer=function(C,Y,et){return nt.H.useReducer(C,Y,et)},St.useRef=function(C){return nt.H.useRef(C)},St.useState=function(C){return nt.H.useState(C)},St.useSyncExternalStore=function(C,Y,et){return nt.H.useSyncExternalStore(C,Y,et)},St.useTransition=function(){return nt.H.useTransition()},St.version="19.1.1",St}var n_;function rm(){return n_||(n_=1,md.exports=kA()),md.exports}var xi=rm();const xA=xv(xi);var gd={exports:{}},cl={},pd={exports:{}},yd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function LA(){return i_||(i_=1,function(s){function t(j,tt){var ot=j.length;j.push(tt);t:for(;0<ot;){var xt=ot-1>>>1,C=j[xt];if(0<l(C,tt))j[xt]=tt,j[ot]=C,ot=xt;else break t}}function i(j){return j.length===0?null:j[0]}function a(j){if(j.length===0)return null;var tt=j[0],ot=j.pop();if(ot!==tt){j[0]=ot;t:for(var xt=0,C=j.length,Y=C>>>1;xt<Y;){var et=2*(xt+1)-1,J=j[et],ht=et+1,Rt=j[ht];if(0>l(J,ot))ht<C&&0>l(Rt,J)?(j[xt]=Rt,j[ht]=ot,xt=ht):(j[xt]=J,j[et]=ot,xt=et);else if(ht<C&&0>l(Rt,ot))j[xt]=Rt,j[ht]=ot,xt=ht;else break t}}return tt}function l(j,tt){var ot=j.sortIndex-tt.sortIndex;return ot!==0?ot:j.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var y=[],v=[],A=1,D=null,V=3,G=!1,$=!1,it=!1,Z=!1,Et=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function zt(j){for(var tt=i(v);tt!==null;){if(tt.callback===null)a(v);else if(tt.startTime<=j)a(v),tt.sortIndex=tt.expirationTime,t(y,tt);else break;tt=i(v)}}function nt(j){if(it=!1,zt(j),!$)if(i(y)!==null)$=!0,ut||(ut=!0,P());else{var tt=i(v);tt!==null&&Qt(nt,tt.startTime-j)}}var ut=!1,O=-1,S=5,b=-1;function I(){return Z?!0:!(s.unstable_now()-b<S)}function M(){if(Z=!1,ut){var j=s.unstable_now();b=j;var tt=!0;try{t:{$=!1,it&&(it=!1,gt(O),O=-1),G=!0;var ot=V;try{e:{for(zt(j),D=i(y);D!==null&&!(D.expirationTime>j&&I());){var xt=D.callback;if(typeof xt=="function"){D.callback=null,V=D.priorityLevel;var C=xt(D.expirationTime<=j);if(j=s.unstable_now(),typeof C=="function"){D.callback=C,zt(j),tt=!0;break e}D===i(y)&&a(y),zt(j)}else a(y);D=i(y)}if(D!==null)tt=!0;else{var Y=i(v);Y!==null&&Qt(nt,Y.startTime-j),tt=!1}}break t}finally{D=null,V=ot,G=!1}tt=void 0}}finally{tt?P():ut=!1}}}var P;if(typeof ct=="function")P=function(){ct(M)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ne=w.port2;w.port1.onmessage=M,P=function(){ne.postMessage(null)}}else P=function(){Et(M,0)};function Qt(j,tt){O=Et(function(){j(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(j){j.callback=null},s.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},s.unstable_getCurrentPriorityLevel=function(){return V},s.unstable_next=function(j){switch(V){case 1:case 2:case 3:var tt=3;break;default:tt=V}var ot=V;V=tt;try{return j()}finally{V=ot}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(j,tt){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ot=V;V=j;try{return tt()}finally{V=ot}},s.unstable_scheduleCallback=function(j,tt,ot){var xt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?xt+ot:xt):ot=xt,j){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ot+C,j={id:A++,callback:tt,priorityLevel:j,startTime:ot,expirationTime:C,sortIndex:-1},ot>xt?(j.sortIndex=ot,t(v,j),i(y)===null&&j===i(v)&&(it?(gt(O),O=-1):it=!0,Qt(nt,ot-xt))):(j.sortIndex=C,t(y,j),$||G||($=!0,ut||(ut=!0,P()))),j},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(j){var tt=V;return function(){var ot=V;V=tt;try{return j.apply(this,arguments)}finally{V=ot}}}}(yd)),yd}var r_;function zA(){return r_||(r_=1,pd.exports=LA()),pd.exports}var _d={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function BA(){if(s_)return Fe;s_=1;var s=rm();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,v,A){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:D==null?null:""+D,children:y,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Fe.createPortal=function(y,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(y,v,null,A)},Fe.flushSync=function(y){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=v,a.p=A,a.d.f()}},Fe.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(y,v))},Fe.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Fe.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var A=v.as,D=g(A,v.crossOrigin),V=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:D,integrity:V,fetchPriority:G}):A==="script"&&a.d.X(y,{crossOrigin:D,integrity:V,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Fe.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(y)},Fe.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,D=g(A,v.crossOrigin);a.d.L(y,A,{crossOrigin:D,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Fe.preloadModule=function(y,v){if(typeof y=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(y)},Fe.requestFormReset=function(y){a.d.r(y)},Fe.unstable_batchedUpdates=function(y,v){return y(v)},Fe.useFormState=function(y,v,A){return d.H.useFormState(y,v,A)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.1.1",Fe}var a_;function qA(){if(a_)return _d.exports;a_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),_d.exports=BA(),_d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function jA(){if(o_)return cl;o_=1;var s=zA(),t=rm(),i=qA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){r=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),e;if(f===o)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=c,o=f;else{for(var _=!1,E=c.child;E;){if(E===r){_=!0,r=c,o=f;break}if(E===o){_=!0,o=c,r=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===r){_=!0,r=f,o=c;break}if(E===o){_=!0,o=f,r=c;break}E=E.sibling}if(!_)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,D=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Et=Symbol.for("react.provider"),gt=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),zt=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case Z:return"Profiler";case it:return"StrictMode";case nt:return"Suspense";case ut:return"SuspenseList";case b:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case ct:return(e.displayName||"Context")+".Provider";case gt:return(e._context.displayName||"Context")+".Consumer";case zt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var Qt=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},xt=[],C=-1;function Y(e){return{current:e}}function et(e){0>C||(e.current=xt[C],xt[C]=null,C--)}function J(e,n){C++,xt[C]=e.current,e.current=n}var ht=Y(null),Rt=Y(null),vt=Y(null),Ce=Y(null);function Jt(e,n){switch(J(vt,n),J(Rt,e),J(ht,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Iy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Iy(n),e=Cy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}et(ht),J(ht,e)}function zn(){et(ht),et(Rt),et(vt)}function Ki(e){e.memoizedState!==null&&J(Ce,e);var n=ht.current,r=Cy(n,e.type);n!==r&&(J(Rt,e),J(ht,r))}function hi(e){Rt.current===e&&(et(ht),et(Rt)),Ce.current===e&&(et(Ce),rl._currentValue=ot)}var Hr=Object.prototype.hasOwnProperty,Gr=s.unstable_scheduleCallback,Fr=s.unstable_cancelCallback,to=s.unstable_shouldYield,Bl=s.unstable_requestPaint,gn=s.unstable_now,fh=s.unstable_getCurrentPriorityLevel,eo=s.unstable_ImmediatePriority,Ls=s.unstable_UserBlockingPriority,Qr=s.unstable_NormalPriority,dh=s.unstable_LowPriority,zs=s.unstable_IdlePriority,no=s.log,ql=s.unstable_setDisableYieldValue,oe=null,Ht=null;function an(e){if(typeof no=="function"&&ql(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(oe,e)}catch{}}var He=Math.clz32?Math.clz32:Kr,jl=Math.log,mh=Math.LN2;function Kr(e){return e>>>=0,e===0?32:31-(jl(e)/mh|0)|0}var Yr=256,Xr=4194304;function Nn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Bs(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?c=Nn(o):(_&=E,_!==0?c=Nn(_):r||(r=E&~e,r!==0&&(c=Nn(r))))):(E=o&~f,E!==0?c=Nn(E):_!==0?c=Nn(_):r||(r=o&~e,r!==0&&(c=Nn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function $r(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function io(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ro(){var e=Yr;return Yr<<=1,(Yr&4194048)===0&&(Yr=256),e}function so(){var e=Xr;return Xr<<=1,(Xr&62914560)===0&&(Xr=4194304),e}function fi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function di(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ao(e,n,r,o,c,f){var _=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,L=e.hiddenUpdates;for(r=_&~r;0<r;){var H=31-He(r),Q=1<<H;E[H]=0,R[H]=-1;var z=L[H];if(z!==null)for(L[H]=null,H=0;H<z.length;H++){var B=z[H];B!==null&&(B.lane&=-536870913)}r&=~Q}o!==0&&Bn(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(_&~n))}function Bn(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-He(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194090}function oo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-He(r),c=1<<o;c&n|e[o]&n&&(e[o]|=n),r&=~c}}function Yi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xi(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:Ky(e.type))}function Hl(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var ie=Math.random().toString(36).slice(2),Te="__reactFiber$"+ie,me="__reactProps$"+ie,pn="__reactContainer$"+ie,lo="__reactEvents$"+ie,gh="__reactListeners$"+ie,$i="__reactHandles$"+ie,Gl="__reactResources$"+ie,Zr="__reactMarker$"+ie;function Zi(e){delete e[Te],delete e[me],delete e[lo],delete e[gh],delete e[$i]}function mi(e){var n=e[Te];if(n)return n;for(var r=e.parentNode;r;){if(n=r[pn]||r[Te]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Vy(e);e!==null;){if(r=e[Te])return r;e=Vy(e)}return n}e=r,r=e.parentNode}return null}function qn(e){if(e=e[Te]||e[pn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function jn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function $e(e){var n=e[Gl];return n||(n=e[Gl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(e){e[Zr]=!0}var uo=new Set,js={};function On(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(js[e]=n,e=0;e<n.length;e++)uo.add(n[e])}var Fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ql={},Jr={};function Kl(e){return Hr.call(Jr,e)?!0:Hr.call(Ql,e)?!1:Fl.test(e)?Jr[e]=!0:(Ql[e]=!0,!1)}function Ji(e,n,r){if(Kl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Hn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ue(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}var Wr,Yl;function pi(e){if(Wr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Wr=n&&n[1]||"",Yl=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+e+Yl}var Hs=!1;function Gs(e,n){if(!e||Hs)return"";Hs=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var z=B}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(B){z=B}e.call(Q.prototype)}}else{try{throw Error()}catch(B){z=B}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var R=_.split(`
`),L=E.split(`
`);for(c=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(o===R.length||c===L.length)for(o=R.length-1,c=L.length-1;1<=o&&0<=c&&R[o]!==L[c];)c--;for(;1<=o&&0<=c;o--,c--)if(R[o]!==L[c]){if(o!==1||c!==1)do if(o--,c--,0>c||R[o]!==L[c]){var H=`
`+R[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=c);break}}}finally{Hs=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?pi(r):""}function co(e){switch(e.tag){case 26:case 27:case 5:return pi(e.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Gs(e.type,!1);case 11:return Gs(e.type.render,!1);case 1:return Gs(e.type,!0);case 31:return pi("Activity");default:return""}}function Fs(e){try{var n="";do n+=co(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ho(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ph(e){var n=ho(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(_){o=""+_,f.call(this,_)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qs(e){e._valueTracker||(e._valueTracker=ph(e))}function fo(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=ho(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ts(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yh=/[\n"\\]/g;function ge(e){return e.replace(yh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function on(e,n,r,o,c,f,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),n!=null?_==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ze(n)):e.value!==""+Ze(n)&&(e.value=""+Ze(n)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),n!=null?Wi(e,_,Ze(n)):r!=null?Wi(e,_,Ze(r)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ze(E):e.removeAttribute("name")}function es(e,n,r,o,c,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ze(r):"",n=n!=null?""+Ze(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Wi(e,n,r){n==="number"&&ts(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function yi(e,n,r,o){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ze(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Kt(e,n,r){if(n!=null&&(n=""+Ze(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ze(r):""}function ns(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Qt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ze(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function yn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xl(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||is.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function mo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&r[c]!==o&&Xl(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&Xl(e,f,n[f])}function go(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _h=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ks(e){return vh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _i=null;function _n(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vi=null,Ei=null;function po(e){var n=qn(e);if(n&&(e=n.stateNode)){var r=e[me]||null;t:switch(e=n.stateNode,n.type){case"input":if(on(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var c=o[me]||null;if(!c)throw Error(a(90));on(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&fo(o)}break t;case"textarea":Kt(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&yi(e,!!r.multiple,n,!1)}}}var Gn=!1;function $l(e,n,r){if(Gn)return e(n,r);Gn=!0;try{var o=e(n);return o}finally{if(Gn=!1,(vi!==null||Ei!==null)&&(Hu(),vi&&(n=vi,e=Ei,Ei=vi=null,po(n),e)))for(n=0;n<e.length;n++)po(e[n])}}function rs(e,n){var r=e.stateNode;if(r===null)return null;var o=r[me]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vn=!1;if(Vn)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){vn=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{vn=!1}var Fn=null,tr=null,Ti=null;function yo(){if(Ti)return Ti;var e,n=tr,r=n.length,o,c="value"in Fn?Fn.value:Fn.textContent,f=c.length;for(e=0;e<r&&n[e]===c[e];e++);var _=r-e;for(o=1;o<=_&&n[r-o]===c[f-o];o++);return Ti=c.slice(e,1<o?1-o:void 0)}function Qn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Kn(){return!0}function _o(){return!1}function De(e){function n(r,o,c,f,_){this._reactName=r,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kn:_o,this.isPropagationStopped=_o,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=De(qt),as=A({},qt,{view:0,detail:0}),Zl=De(as),Xs,$s,Yn,os=A({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(Xs=e.screenX-Yn.screenX,$s=e.screenY-Yn.screenY):$s=Xs=0,Yn=e),Xs)},movementY:function(e){return"movementY"in e?e.movementY:$s}}),En=De(os),Jl=A({},os,{dataTransfer:0}),Eh=De(Jl),ls=A({},as,{relatedTarget:0}),Zs=De(ls),vo=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Js=De(vo),Wl=A({},qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ws=De(Wl),Th=A({},qt,{data:0}),Eo=De(Th),us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function To(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=eu[e])?!!n[e]:!1}function cs(){return To}var nu=A({},as,{key:function(e){if(e.key){var n=us[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(e){return e.type==="keypress"?Qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ta=De(nu),iu=A({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=De(iu),Ai=A({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),ru=De(Ai),su=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),au=De(su),ou=A({},os,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ea=De(ou),Je=A({},qt,{newState:0,oldState:0}),lu=De(Je),uu=[9,13,27,32],Xn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,p=Vn&&(!Xn||u&&8<u&&11>=u),T=" ",k=!1;function q(e,n){switch(e){case"keyup":return uu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Ae(e,n){switch(e){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(k=!0,T);case"textInput":return e=n.data,e===T&&k?null:e;default:return null}}function Pt(e,n){if(Mt)return e==="compositionend"||!Xn&&q(e,n)?(e=yo(),Ti=tr=Fn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ne[e.type]:n==="textarea"}function Si(e,n,r,o){vi?Ei?Ei.push(o):Ei=[o]:vi=o,n=Xu(n,"onChange"),0<n.length&&(r=new Ys("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var ke=null,$n=null;function So(e){Ay(e,0)}function cu(e){var n=jn(e);if(fo(n))return e}function Hm(e,n){if(e==="change")return n}var Gm=!1;if(Vn){var Ah;if(Vn){var Sh="oninput"in document;if(!Sh){var Fm=document.createElement("div");Fm.setAttribute("oninput","return;"),Sh=typeof Fm.oninput=="function"}Ah=Sh}else Ah=!1;Gm=Ah&&(!document.documentMode||9<document.documentMode)}function Qm(){ke&&(ke.detachEvent("onpropertychange",Km),$n=ke=null)}function Km(e){if(e.propertyName==="value"&&cu($n)){var n=[];Si(n,$n,e,_n(e)),$l(So,n)}}function c0(e,n,r){e==="focusin"?(Qm(),ke=n,$n=r,ke.attachEvent("onpropertychange",Km)):e==="focusout"&&Qm()}function h0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cu($n)}function f0(e,n){if(e==="click")return cu(n)}function d0(e,n){if(e==="input"||e==="change")return cu(n)}function m0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ln=typeof Object.is=="function"?Object.is:m0;function bo(e,n){if(ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var c=r[o];if(!Hr.call(n,c)||!ln(e[c],n[c]))return!1}return!0}function Ym(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xm(e,n){var r=Ym(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Ym(r)}}function $m(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?$m(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Zm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ts(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ts(e.document)}return n}function bh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var g0=Vn&&"documentMode"in document&&11>=document.documentMode,na=null,Rh=null,Ro=null,wh=!1;function Jm(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wh||na==null||na!==ts(o)||(o=na,"selectionStart"in o&&bh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ro&&bo(Ro,o)||(Ro=o,o=Xu(Rh,"onSelect"),0<o.length&&(n=new Ys("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=na)))}function hs(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ia={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},Ih={},Wm={};Vn&&(Wm=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function fs(e){if(Ih[e])return Ih[e];if(!ia[e])return e;var n=ia[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Wm)return Ih[e]=n[r];return e}var tg=fs("animationend"),eg=fs("animationiteration"),ng=fs("animationstart"),p0=fs("transitionrun"),y0=fs("transitionstart"),_0=fs("transitioncancel"),ig=fs("transitionend"),rg=new Map,Ch="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ch.push("scrollEnd");function Mn(e,n){rg.set(e,n),On(n,[e])}var sg=new WeakMap;function Tn(e,n){if(typeof e=="object"&&e!==null){var r=sg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Fs(n)},sg.set(e,n),n)}return{value:e,source:n,stack:Fs(n)}}var An=[],ra=0,Dh=0;function hu(){for(var e=ra,n=Dh=ra=0;n<e;){var r=An[n];An[n++]=null;var o=An[n];An[n++]=null;var c=An[n];An[n++]=null;var f=An[n];if(An[n++]=null,o!==null&&c!==null){var _=o.pending;_===null?c.next=c:(c.next=_.next,_.next=c),o.pending=c}f!==0&&ag(r,c,f)}}function fu(e,n,r,o){An[ra++]=e,An[ra++]=n,An[ra++]=r,An[ra++]=o,Dh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Nh(e,n,r,o){return fu(e,n,r,o),du(e)}function sa(e,n){return fu(e,null,null,n),du(e)}function ag(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-He(r),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=r|536870912),f):null}function du(e){if(50<$o)throw $o=0,xf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var aa={};function v0(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,n,r,o){return new v0(e,n,r,o)}function Oh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bi(e,n){var r=e.alternate;return r===null?(r=un(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function og(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function mu(e,n,r,o,c,f){var _=0;if(o=e,typeof e=="function")Oh(e)&&(_=1);else if(typeof e=="string")_=TA(e,r,ht.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case b:return e=un(31,r,n,c),e.elementType=b,e.lanes=f,e;case $:return ds(r.children,c,f,n);case it:_=8,c|=24;break;case Z:return e=un(12,r,n,c|2),e.elementType=Z,e.lanes=f,e;case nt:return e=un(13,r,n,c),e.elementType=nt,e.lanes=f,e;case ut:return e=un(19,r,n,c),e.elementType=ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Et:case ct:_=10;break t;case gt:_=9;break t;case zt:_=11;break t;case O:_=14;break t;case S:_=16,o=null;break t}_=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=un(_,r,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function ds(e,n,r,o){return e=un(7,e,o,n),e.lanes=r,e}function Vh(e,n,r){return e=un(6,e,null,n),e.lanes=r,e}function Mh(e,n,r){return n=un(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var oa=[],la=0,gu=null,pu=0,Sn=[],bn=0,ms=null,Ri=1,wi="";function gs(e,n){oa[la++]=pu,oa[la++]=gu,gu=e,pu=n}function lg(e,n,r){Sn[bn++]=Ri,Sn[bn++]=wi,Sn[bn++]=ms,ms=e;var o=Ri;e=wi;var c=32-He(o)-1;o&=~(1<<c),r+=1;var f=32-He(n)+c;if(30<f){var _=c-c%5;f=(o&(1<<_)-1).toString(32),o>>=_,c-=_,Ri=1<<32-He(n)+c|r<<c|o,wi=f+e}else Ri=1<<f|r<<c|o,wi=e}function Ph(e){e.return!==null&&(gs(e,1),lg(e,1,0))}function Uh(e){for(;e===gu;)gu=oa[--la],oa[la]=null,pu=oa[--la],oa[la]=null;for(;e===ms;)ms=Sn[--bn],Sn[bn]=null,wi=Sn[--bn],Sn[bn]=null,Ri=Sn[--bn],Sn[bn]=null}var We=null,le=null,Bt=!1,ps=null,Zn=!1,kh=Error(a(519));function ys(e){var n=Error(a(418,""));throw Co(Tn(n,e)),kh}function ug(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[Te]=e,n[me]=o,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<Jo.length;r++)Dt(Jo[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),es(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Qs(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),ns(n,o.value,o.defaultValue,o.children),Qs(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||wy(n.textContent,r)?(o.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),o.onScroll!=null&&Dt("scroll",n),o.onScrollEnd!=null&&Dt("scrollend",n),o.onClick!=null&&(n.onclick=$u),n=!0):n=!1,n||ys(e)}function cg(e){for(We=e.return;We;)switch(We.tag){case 5:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:We=We.return}}function wo(e){if(e!==We)return!1;if(!Bt)return cg(e),Bt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Wf(e.type,e.memoizedProps)),r=!r),r&&le&&ys(e),cg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){le=Un(e.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}le=null}}else n===27?(n=le,pr(e.type)?(e=id,id=null,le=e):le=n):le=We?Un(e.stateNode.nextSibling):null;return!0}function Io(){le=We=null,Bt=!1}function hg(){var e=ps;return e!==null&&(nn===null?nn=e:nn.push.apply(nn,e),ps=null),e}function Co(e){ps===null?ps=[e]:ps.push(e)}var xh=Y(null),_s=null,Ii=null;function er(e,n,r){J(xh,n._currentValue),n._currentValue=r}function Ci(e){e._currentValue=xh.current,et(xh)}function Lh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function zh(e,n,r,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var _=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Lh(f.return,r,e),o||(_=null);break t}f=E.next}}else if(c.tag===18){if(_=c.return,_===null)throw Error(a(341));_.lanes|=r,f=_.alternate,f!==null&&(f.lanes|=r),Lh(_,r,e),_=null}else _=c.child;if(_!==null)_.return=c;else for(_=c;_!==null;){if(_===e){_=null;break}if(c=_.sibling,c!==null){c.return=_.return,_=c;break}_=_.return}c=_}}function Do(e,n,r,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var _=c.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var E=c.type;ln(c.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(c===Ce.current){if(_=c.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(rl):e=[rl])}c=c.return}e!==null&&zh(n,e,r,o),n.flags|=262144}function yu(e){for(e=e.firstContext;e!==null;){if(!ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function vs(e){_s=e,Ii=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return fg(_s,e)}function _u(e,n){return _s===null&&vs(e),fg(e,n)}function fg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ii===null){if(e===null)throw Error(a(308));Ii=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ii=Ii.next=n;return r}var E0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},T0=s.unstable_scheduleCallback,A0=s.unstable_NormalPriority,be={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bh(){return{controller:new E0,data:new Map,refCount:0}}function No(e){e.refCount--,e.refCount===0&&T0(A0,function(){e.controller.abort()})}var Oo=null,qh=0,ua=0,ca=null;function S0(e,n){if(Oo===null){var r=Oo=[];qh=0,ua=Gf(),ca={status:"pending",value:void 0,then:function(o){r.push(o)}}}return qh++,n.then(dg,dg),n}function dg(){if(--qh===0&&Oo!==null){ca!==null&&(ca.status="fulfilled");var e=Oo;Oo=null,ua=0,ca=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function b0(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),o}var mg=j.S;j.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&S0(e,n),mg!==null&&mg(e,n)};var Es=Y(null);function jh(){var e=Es.current;return e!==null?e:Wt.pooledCache}function vu(e,n){n===null?J(Es,Es.current):J(Es,n.pool)}function gg(){var e=jh();return e===null?null:{parent:be._currentValue,pool:e}}var Vo=Error(a(460)),pg=Error(a(474)),Eu=Error(a(542)),Hh={then:function(){}};function yg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Tu(){}function _g(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Tu,Tu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Eg(e),e;default:if(typeof n.status=="string")n.then(Tu,Tu);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Eg(e),e}throw Mo=n,Vo}}var Mo=null;function vg(){if(Mo===null)throw Error(a(459));var e=Mo;return Mo=null,e}function Eg(e){if(e===Vo||e===Eu)throw Error(a(483))}var nr=!1;function Gh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ir(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=du(e),ag(e,null,r),n}return fu(e,o,n,r),du(e)}function Po(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,oo(e,r)}}function Qh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=_:f=f.next=_,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Kh=!1;function Uo(){if(Kh){var e=ca;if(e!==null)throw e}}function ko(e,n,r,o){Kh=!1;var c=e.updateQueue;nr=!1;var f=c.firstBaseUpdate,_=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,L=R.next;R.next=null,_===null?f=L:_.next=L,_=R;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==_&&(E===null?H.firstBaseUpdate=L:E.next=L,H.lastBaseUpdate=R))}if(f!==null){var Q=c.baseState;_=0,H=L=R=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Ut&z)===z:(o&z)===z){z!==0&&z===ua&&(Kh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=e,dt=E;z=n;var $t=r;switch(dt.tag){case 1:if(yt=dt.payload,typeof yt=="function"){Q=yt.call($t,Q,z);break t}Q=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=dt.payload,z=typeof yt=="function"?yt.call($t,Q,z):yt,z==null)break t;Q=A({},Q,z);break t;case 2:nr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=c.callbacks,B===null?c.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(L=H=B,R=Q):H=H.next=B,_|=z;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);H===null&&(R=Q),c.baseState=R,c.firstBaseUpdate=L,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),fr|=_,e.lanes=_,e.memoizedState=Q}}function Tg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Ag(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Tg(r[e],n)}var ha=Y(null),Au=Y(0);function Sg(e,n){e=Ui,J(Au,e),J(ha,n),Ui=e|n.baseLanes}function Yh(){J(Au,Ui),J(ha,ha.current)}function Xh(){Ui=Au.current,et(ha),et(Au)}var sr=0,bt=null,Yt=null,pe=null,Su=!1,fa=!1,Ts=!1,bu=0,xo=0,da=null,R0=0;function he(){throw Error(a(321))}function $h(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!ln(e[r],n[r]))return!1;return!0}function Zh(e,n,r,o,c,f){return sr=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=e===null||e.memoizedState===null?ap:op,Ts=!1,f=r(o,c),Ts=!1,fa&&(f=Rg(n,r,o,c)),bg(e),f}function bg(e){j.H=Nu;var n=Yt!==null&&Yt.next!==null;if(sr=0,pe=Yt=bt=null,Su=!1,xo=0,da=null,n)throw Error(a(300));e===null||Oe||(e=e.dependencies,e!==null&&yu(e)&&(Oe=!0))}function Rg(e,n,r,o){bt=e;var c=0;do{if(fa&&(da=null),xo=0,fa=!1,25<=c)throw Error(a(301));if(c+=1,pe=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}j.H=V0,f=n(r,o)}while(fa);return f}function w0(){var e=j.H,n=e.useState()[0];return n=typeof n.then=="function"?Lo(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(bt.flags|=1024),n}function Jh(){var e=bu!==0;return bu=0,e}function Wh(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function tf(e){if(Su){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Su=!1}sr=0,pe=Yt=bt=null,fa=!1,xo=bu=0,da=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?bt.memoizedState=pe=e:pe=pe.next=e,pe}function ye(){if(Yt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=pe===null?bt.memoizedState:pe.next;if(n!==null)pe=n,Yt=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},pe===null?bt.memoizedState=pe=e:pe=pe.next=e}return pe}function ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lo(e){var n=xo;return xo+=1,da===null&&(da=[]),e=_g(da,e,n),n=bt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?ap:op),e}function Ru(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lo(e);if(e.$$typeof===ct)return Ge(e)}throw Error(a(438,String(e)))}function nf(e){var n=null,r=bt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ef(),bt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=I;return n.index++,r}function Di(e,n){return typeof n=="function"?n(e):n}function wu(e){var n=ye();return rf(n,Yt,e)}function rf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var _=c.next;c.next=f.next,f.next=_}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=_=null,R=null,L=n,H=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(Ut&Q)===Q:(sr&Q)===Q){var z=L.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===ua&&(H=!0);else if((sr&z)===z){L=L.next,z===ua&&(H=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(E=R=Q,_=f):R=R.next=Q,bt.lanes|=z,fr|=z;Q=L.action,Ts&&r(f,Q),f=L.hasEagerState?L.eagerState:r(f,Q)}else z={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},R===null?(E=R=z,_=f):R=R.next=z,bt.lanes|=Q,fr|=Q;L=L.next}while(L!==null&&L!==n);if(R===null?_=f:R.next=E,!ln(f,e.memoizedState)&&(Oe=!0,H&&(r=ca,r!==null)))throw r;e.memoizedState=f,e.baseState=_,e.baseQueue=R,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function sf(e){var n=ye(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var _=c=c.next;do f=e(f,_.action),_=_.next;while(_!==c);ln(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function wg(e,n,r){var o=bt,c=ye(),f=Bt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var _=!ln((Yt||c).memoizedState,r);_&&(c.memoizedState=r,Oe=!0),c=c.queue;var E=Dg.bind(null,o,c,e);if(zo(2048,8,E,[e]),c.getSnapshot!==n||_||pe!==null&&pe.memoizedState.tag&1){if(o.flags|=2048,ma(9,Iu(),Cg.bind(null,o,c,r,n),null),Wt===null)throw Error(a(349));f||(sr&124)!==0||Ig(o,n,r)}return r}function Ig(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=bt.updateQueue,n===null?(n=ef(),bt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Cg(e,n,r,o){n.value=r,n.getSnapshot=o,Ng(n)&&Og(e)}function Dg(e,n,r){return r(function(){Ng(n)&&Og(e)})}function Ng(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!ln(e,r)}catch{return!0}}function Og(e){var n=sa(e,2);n!==null&&mn(n,e,2)}function af(e){var n=tn();if(typeof e=="function"){var r=e;if(e=r(),Ts){an(!0);try{r()}finally{an(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:e},n}function Vg(e,n,r,o){return e.baseState=r,rf(e,Yt,typeof o=="function"?o:Di)}function I0(e,n,r,o,c){if(Du(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};j.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,Mg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Mg(e,n){var r=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=j.T,_={};j.T=_;try{var E=r(c,o),R=j.S;R!==null&&R(_,E),Pg(e,n,E)}catch(L){of(e,n,L)}finally{j.T=f}}else try{f=r(c,o),Pg(e,n,f)}catch(L){of(e,n,L)}}function Pg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ug(e,n,o)},function(o){return of(e,n,o)}):Ug(e,n,r)}function Ug(e,n,r){n.status="fulfilled",n.value=r,kg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Mg(e,r)))}function of(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,kg(n),n=n.next;while(n!==o)}e.action=null}function kg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function xg(e,n){return n}function Lg(e,n){if(Bt){var r=Wt.formState;if(r!==null){t:{var o=bt;if(Bt){if(le){e:{for(var c=le,f=Zn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=Un(c.nextSibling),o=c.data==="F!";break t}}ys(o)}o=!1}o&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:n},r.queue=o,r=ip.bind(null,bt,o),o.dispatch=r,o=af(!1),f=ff.bind(null,bt,!1,o.queue),o=tn(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,r=I0.bind(null,bt,c,f,r),c.dispatch=r,o.memoizedState=e,[n,r,!1]}function zg(e){var n=ye();return Bg(n,Yt,e)}function Bg(e,n,r){if(n=rf(e,n,xg)[0],e=wu(Di)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Lo(n)}catch(_){throw _===Vo?Eu:_}else o=n;n=ye();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(bt.flags|=2048,ma(9,Iu(),C0.bind(null,c,r),null)),[o,f,e]}function C0(e,n){e.action=n}function qg(e){var n=ye(),r=Yt;if(r!==null)return Bg(n,r,e);ye(),n=n.memoizedState,r=ye();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function ma(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=ef(),bt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Iu(){return{destroy:void 0,resource:void 0}}function jg(){return ye().memoizedState}function Cu(e,n,r,o){var c=tn();o=o===void 0?null:o,bt.flags|=e,c.memoizedState=ma(1|n,Iu(),r,o)}function zo(e,n,r,o){var c=ye();o=o===void 0?null:o;var f=c.memoizedState.inst;Yt!==null&&o!==null&&$h(o,Yt.memoizedState.deps)?c.memoizedState=ma(n,f,r,o):(bt.flags|=e,c.memoizedState=ma(1|n,f,r,o))}function Hg(e,n){Cu(8390656,8,e,n)}function Gg(e,n){zo(2048,8,e,n)}function Fg(e,n){return zo(4,2,e,n)}function Qg(e,n){return zo(4,4,e,n)}function Kg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Yg(e,n,r){r=r!=null?r.concat([e]):null,zo(4,4,Kg.bind(null,n,e),r)}function lf(){}function Xg(e,n){var r=ye();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&$h(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function $g(e,n){var r=ye();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&$h(n,o[1]))return o[0];if(o=e(),Ts){an(!0);try{e()}finally{an(!1)}}return r.memoizedState=[o,n],o}function uf(e,n,r){return r===void 0||(sr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=Wp(),bt.lanes|=e,fr|=e,r)}function Zg(e,n,r,o){return ln(r,n)?r:ha.current!==null?(e=uf(e,r,o),ln(e,n)||(Oe=!0),e):(sr&42)===0?(Oe=!0,e.memoizedState=r):(e=Wp(),bt.lanes|=e,fr|=e,n)}function Jg(e,n,r,o,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var _=j.T,E={};j.T=E,ff(e,!1,n,r);try{var R=c(),L=j.S;if(L!==null&&L(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=b0(R,o);Bo(e,n,H,dn(e))}else Bo(e,n,o,dn(e))}catch(Q){Bo(e,n,{then:function(){},status:"rejected",reason:Q},dn())}finally{tt.p=f,j.T=_}}function D0(){}function cf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var c=Wg(e).queue;Jg(e,c,n,ot,r===null?D0:function(){return tp(e),r(o)})}function Wg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function tp(e){var n=Wg(e).next.queue;Bo(e,n,{},dn())}function hf(){return Ge(rl)}function ep(){return ye().memoizedState}function np(){return ye().memoizedState}function N0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=dn();e=ir(r);var o=rr(n,e,r);o!==null&&(mn(o,n,r),Po(o,n,r)),n={cache:Bh()},e.payload=n;return}n=n.return}}function O0(e,n,r){var o=dn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Du(e)?rp(n,r):(r=Nh(e,n,r,o),r!==null&&(mn(r,e,o),sp(r,n,o)))}function ip(e,n,r){var o=dn();Bo(e,n,r,o)}function Bo(e,n,r,o){var c={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Du(e))rp(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,_))return fu(e,n,c,0),Wt===null&&hu(),!1}catch{}finally{}if(r=Nh(e,n,c,o),r!==null)return mn(r,e,o),sp(r,n,o),!0}return!1}function ff(e,n,r,o){if(o={lane:2,revertLane:Gf(),action:o,hasEagerState:!1,eagerState:null,next:null},Du(e)){if(n)throw Error(a(479))}else n=Nh(e,r,o,2),n!==null&&mn(n,e,2)}function Du(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function rp(e,n){fa=Su=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function sp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,oo(e,r)}}var Nu={readContext:Ge,use:Ru,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},ap={readContext:Ge,use:Ru,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Ge,useEffect:Hg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Cu(4194308,4,Kg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Cu(4194308,4,e,n)},useInsertionEffect:function(e,n){Cu(4,2,e,n)},useMemo:function(e,n){var r=tn();n=n===void 0?null:n;var o=e();if(Ts){an(!0);try{e()}finally{an(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=tn();if(r!==void 0){var c=r(n);if(Ts){an(!0);try{r(n)}finally{an(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=O0.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=af(e);var n=e.queue,r=ip.bind(null,bt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:lf,useDeferredValue:function(e,n){var r=tn();return uf(r,e,n)},useTransition:function(){var e=af(!1);return e=Jg.bind(null,bt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=bt,c=tn();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Wt===null)throw Error(a(349));(Ut&124)!==0||Ig(o,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,Hg(Dg.bind(null,o,f,e),[e]),o.flags|=2048,ma(9,Iu(),Cg.bind(null,o,f,r,n),null),r},useId:function(){var e=tn(),n=Wt.identifierPrefix;if(Bt){var r=wi,o=Ri;r=(o&~(1<<32-He(o)-1)).toString(32)+r,n=""+n+"R"+r,r=bu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=R0++,n=""+n+"r"+r.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:hf,useFormState:Lg,useActionState:Lg,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=ff.bind(null,bt,!0,r),r.dispatch=n,[e,n]},useMemoCache:nf,useCacheRefresh:function(){return tn().memoizedState=N0.bind(null,bt)}},op={readContext:Ge,use:Ru,useCallback:Xg,useContext:Ge,useEffect:Gg,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Qg,useMemo:$g,useReducer:wu,useRef:jg,useState:function(){return wu(Di)},useDebugValue:lf,useDeferredValue:function(e,n){var r=ye();return Zg(r,Yt.memoizedState,e,n)},useTransition:function(){var e=wu(Di)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Lo(e),n]},useSyncExternalStore:wg,useId:ep,useHostTransitionStatus:hf,useFormState:zg,useActionState:zg,useOptimistic:function(e,n){var r=ye();return Vg(r,Yt,e,n)},useMemoCache:nf,useCacheRefresh:np},V0={readContext:Ge,use:Ru,useCallback:Xg,useContext:Ge,useEffect:Gg,useImperativeHandle:Yg,useInsertionEffect:Fg,useLayoutEffect:Qg,useMemo:$g,useReducer:sf,useRef:jg,useState:function(){return sf(Di)},useDebugValue:lf,useDeferredValue:function(e,n){var r=ye();return Yt===null?uf(r,e,n):Zg(r,Yt.memoizedState,e,n)},useTransition:function(){var e=sf(Di)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Lo(e),n]},useSyncExternalStore:wg,useId:ep,useHostTransitionStatus:hf,useFormState:qg,useActionState:qg,useOptimistic:function(e,n){var r=ye();return Yt!==null?Vg(r,Yt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:nf,useCacheRefresh:np},ga=null,qo=0;function Ou(e){var n=qo;return qo+=1,ga===null&&(ga=[]),_g(ga,e,n)}function jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vu(e,n){throw n.$$typeof===D?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function lp(e){var n=e._init;return n(e._payload)}function up(e){function n(U,N){if(e){var x=U.deletions;x===null?(U.deletions=[N],U.flags|=16):x.push(N)}}function r(U,N){if(!e)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function o(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function c(U,N){return U=bi(U,N),U.index=0,U.sibling=null,U}function f(U,N,x){return U.index=x,e?(x=U.alternate,x!==null?(x=x.index,x<N?(U.flags|=67108866,N):x):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,N,x,F){return N===null||N.tag!==6?(N=Vh(x,U.mode,F),N.return=U,N):(N=c(N,x),N.return=U,N)}function R(U,N,x,F){var st=x.type;return st===$?H(U,N,x.props.children,F,x.key):N!==null&&(N.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&lp(st)===N.type)?(N=c(N,x.props),jo(N,x),N.return=U,N):(N=mu(x.type,x.key,x.props,null,U.mode,F),jo(N,x),N.return=U,N)}function L(U,N,x,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==x.containerInfo||N.stateNode.implementation!==x.implementation?(N=Mh(x,U.mode,F),N.return=U,N):(N=c(N,x.children||[]),N.return=U,N)}function H(U,N,x,F,st){return N===null||N.tag!==7?(N=ds(x,U.mode,F,st),N.return=U,N):(N=c(N,x),N.return=U,N)}function Q(U,N,x){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Vh(""+N,U.mode,x),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case V:return x=mu(N.type,N.key,N.props,null,U.mode,x),jo(x,N),x.return=U,x;case G:return N=Mh(N,U.mode,x),N.return=U,N;case S:var F=N._init;return N=F(N._payload),Q(U,N,x)}if(Qt(N)||P(N))return N=ds(N,U.mode,x,null),N.return=U,N;if(typeof N.then=="function")return Q(U,Ou(N),x);if(N.$$typeof===ct)return Q(U,_u(U,N),x);Vu(U,N)}return null}function z(U,N,x,F){var st=N!==null?N.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return st!==null?null:E(U,N,""+x,F);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case V:return x.key===st?R(U,N,x,F):null;case G:return x.key===st?L(U,N,x,F):null;case S:return st=x._init,x=st(x._payload),z(U,N,x,F)}if(Qt(x)||P(x))return st!==null?null:H(U,N,x,F,null);if(typeof x.then=="function")return z(U,N,Ou(x),F);if(x.$$typeof===ct)return z(U,N,_u(U,x),F);Vu(U,x)}return null}function B(U,N,x,F,st){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(x)||null,E(N,U,""+F,st);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case V:return U=U.get(F.key===null?x:F.key)||null,R(N,U,F,st);case G:return U=U.get(F.key===null?x:F.key)||null,L(N,U,F,st);case S:var wt=F._init;return F=wt(F._payload),B(U,N,x,F,st)}if(Qt(F)||P(F))return U=U.get(x)||null,H(N,U,F,st,null);if(typeof F.then=="function")return B(U,N,x,Ou(F),st);if(F.$$typeof===ct)return B(U,N,x,_u(N,F),st);Vu(N,F)}return null}function yt(U,N,x,F){for(var st=null,wt=null,lt=N,mt=N=0,Me=null;lt!==null&&mt<x.length;mt++){lt.index>mt?(Me=lt,lt=null):Me=lt.sibling;var Lt=z(U,lt,x[mt],F);if(Lt===null){lt===null&&(lt=Me);break}e&&lt&&Lt.alternate===null&&n(U,lt),N=f(Lt,N,mt),wt===null?st=Lt:wt.sibling=Lt,wt=Lt,lt=Me}if(mt===x.length)return r(U,lt),Bt&&gs(U,mt),st;if(lt===null){for(;mt<x.length;mt++)lt=Q(U,x[mt],F),lt!==null&&(N=f(lt,N,mt),wt===null?st=lt:wt.sibling=lt,wt=lt);return Bt&&gs(U,mt),st}for(lt=o(lt);mt<x.length;mt++)Me=B(lt,U,mt,x[mt],F),Me!==null&&(e&&Me.alternate!==null&&lt.delete(Me.key===null?mt:Me.key),N=f(Me,N,mt),wt===null?st=Me:wt.sibling=Me,wt=Me);return e&&lt.forEach(function(Tr){return n(U,Tr)}),Bt&&gs(U,mt),st}function dt(U,N,x,F){if(x==null)throw Error(a(151));for(var st=null,wt=null,lt=N,mt=N=0,Me=null,Lt=x.next();lt!==null&&!Lt.done;mt++,Lt=x.next()){lt.index>mt?(Me=lt,lt=null):Me=lt.sibling;var Tr=z(U,lt,Lt.value,F);if(Tr===null){lt===null&&(lt=Me);break}e&&lt&&Tr.alternate===null&&n(U,lt),N=f(Tr,N,mt),wt===null?st=Tr:wt.sibling=Tr,wt=Tr,lt=Me}if(Lt.done)return r(U,lt),Bt&&gs(U,mt),st;if(lt===null){for(;!Lt.done;mt++,Lt=x.next())Lt=Q(U,Lt.value,F),Lt!==null&&(N=f(Lt,N,mt),wt===null?st=Lt:wt.sibling=Lt,wt=Lt);return Bt&&gs(U,mt),st}for(lt=o(lt);!Lt.done;mt++,Lt=x.next())Lt=B(lt,U,mt,Lt.value,F),Lt!==null&&(e&&Lt.alternate!==null&&lt.delete(Lt.key===null?mt:Lt.key),N=f(Lt,N,mt),wt===null?st=Lt:wt.sibling=Lt,wt=Lt);return e&&lt.forEach(function(MA){return n(U,MA)}),Bt&&gs(U,mt),st}function $t(U,N,x,F){if(typeof x=="object"&&x!==null&&x.type===$&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case V:t:{for(var st=x.key;N!==null;){if(N.key===st){if(st=x.type,st===$){if(N.tag===7){r(U,N.sibling),F=c(N,x.props.children),F.return=U,U=F;break t}}else if(N.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===S&&lp(st)===N.type){r(U,N.sibling),F=c(N,x.props),jo(F,x),F.return=U,U=F;break t}r(U,N);break}else n(U,N);N=N.sibling}x.type===$?(F=ds(x.props.children,U.mode,F,x.key),F.return=U,U=F):(F=mu(x.type,x.key,x.props,null,U.mode,F),jo(F,x),F.return=U,U=F)}return _(U);case G:t:{for(st=x.key;N!==null;){if(N.key===st)if(N.tag===4&&N.stateNode.containerInfo===x.containerInfo&&N.stateNode.implementation===x.implementation){r(U,N.sibling),F=c(N,x.children||[]),F.return=U,U=F;break t}else{r(U,N);break}else n(U,N);N=N.sibling}F=Mh(x,U.mode,F),F.return=U,U=F}return _(U);case S:return st=x._init,x=st(x._payload),$t(U,N,x,F)}if(Qt(x))return yt(U,N,x,F);if(P(x)){if(st=P(x),typeof st!="function")throw Error(a(150));return x=st.call(x),dt(U,N,x,F)}if(typeof x.then=="function")return $t(U,N,Ou(x),F);if(x.$$typeof===ct)return $t(U,N,_u(U,x),F);Vu(U,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,N!==null&&N.tag===6?(r(U,N.sibling),F=c(N,x),F.return=U,U=F):(r(U,N),F=Vh(x,U.mode,F),F.return=U,U=F),_(U)):r(U,N)}return function(U,N,x,F){try{qo=0;var st=$t(U,N,x,F);return ga=null,st}catch(lt){if(lt===Vo||lt===Eu)throw lt;var wt=un(29,lt,null,U.mode);return wt.lanes=F,wt.return=U,wt}finally{}}}var pa=up(!0),cp=up(!1),Rn=Y(null),Jn=null;function ar(e){var n=e.alternate;J(Re,Re.current&1),J(Rn,e),Jn===null&&(n===null||ha.current!==null||n.memoizedState!==null)&&(Jn=e)}function hp(e){if(e.tag===22){if(J(Re,Re.current),J(Rn,e),Jn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Jn=e)}}else or()}function or(){J(Re,Re.current),J(Rn,Rn.current)}function Ni(e){et(Rn),Jn===e&&(Jn=null),et(Re)}var Re=Y(0);function Mu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||nd(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function df(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var mf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=dn(),c=ir(o);c.payload=n,r!=null&&(c.callback=r),n=rr(e,c,o),n!==null&&(mn(n,e,o),Po(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=dn(),c=ir(o);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=rr(e,c,o),n!==null&&(mn(n,e,o),Po(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=dn(),o=ir(r);o.tag=2,n!=null&&(o.callback=n),n=rr(e,o,r),n!==null&&(mn(n,e,r),Po(n,e,r))}};function fp(e,n,r,o,c,f,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,_):n.prototype&&n.prototype.isPureReactComponent?!bo(r,o)||!bo(c,f):!0}function dp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&mf.enqueueReplaceState(n,n.state,null)}function As(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}var Pu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function mp(e){Pu(e)}function gp(e){console.error(e)}function pp(e){Pu(e)}function Uu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function yp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function gf(e,n,r){return r=ir(r),r.tag=3,r.payload={element:null},r.callback=function(){Uu(e,n)},r}function _p(e){return e=ir(e),e.tag=3,e}function vp(e,n,r,o){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){yp(n,r,o)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){yp(n,r,o),typeof c!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function M0(e,n,r,o,c){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Do(n,r,c,!0),r=Rn.current,r!==null){switch(r.tag){case 13:return Jn===null?zf():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=c,o===Hh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),qf(e,o,c)),!1;case 22:return r.flags|=65536,o===Hh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),qf(e,o,c)),!1}throw Error(a(435,r.tag))}return qf(e,o,c),zf(),!1}if(Bt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==kh&&(e=Error(a(422),{cause:o}),Co(Tn(e,r)))):(o!==kh&&(n=Error(a(423),{cause:o}),Co(Tn(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Tn(o,r),c=gf(e.stateNode,o,c),Qh(e,c),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=Tn(f,r),Xo===null?Xo=[f]:Xo.push(f),ue!==4&&(ue=2),n===null)return!0;o=Tn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=gf(r.stateNode,o,e),Qh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(dr===null||!dr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=_p(c),vp(c,e,r,o),Qh(r,c),!1}r=r.return}while(r!==null);return!1}var Ep=Error(a(461)),Oe=!1;function xe(e,n,r,o){n.child=e===null?cp(n,null,r,o):pa(n,e.child,r,o)}function Tp(e,n,r,o,c){r=r.render;var f=n.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return vs(n),o=Zh(e,n,r,_,f,c),E=Jh(),e!==null&&!Oe?(Wh(e,n,c),Oi(e,n,c)):(Bt&&E&&Ph(n),n.flags|=1,xe(e,n,o,c),n.child)}function Ap(e,n,r,o,c){if(e===null){var f=r.type;return typeof f=="function"&&!Oh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Sp(e,n,f,o,c)):(e=mu(r.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Sf(e,c)){var _=f.memoizedProps;if(r=r.compare,r=r!==null?r:bo,r(_,o)&&e.ref===n.ref)return Oi(e,n,c)}return n.flags|=1,e=bi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Sp(e,n,r,o,c){if(e!==null){var f=e.memoizedProps;if(bo(f,o)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=o=f,Sf(e,c))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,Oi(e,n,c)}return pf(e,n,r,o,c)}function bp(e,n,r){var o=n.pendingProps,c=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|r:r,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return Rp(e,n,o,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&vu(n,f!==null?f.cachePool:null),f!==null?Sg(n,f):Yh(),hp(n);else return n.lanes=n.childLanes=536870912,Rp(e,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(vu(n,f.cachePool),Sg(n,f),or(),n.memoizedState=null):(e!==null&&vu(n,null),Yh(),or());return xe(e,n,c,r),n.child}function Rp(e,n,r,o){var c=jh();return c=c===null?null:{parent:be._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},e!==null&&vu(n,null),Yh(),hp(n),e!==null&&Do(e,n,o,!0),null}function ku(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function pf(e,n,r,o,c){return vs(n),r=Zh(e,n,r,o,void 0,c),o=Jh(),e!==null&&!Oe?(Wh(e,n,c),Oi(e,n,c)):(Bt&&o&&Ph(n),n.flags|=1,xe(e,n,r,c),n.child)}function wp(e,n,r,o,c,f){return vs(n),n.updateQueue=null,r=Rg(n,o,r,c),bg(e),o=Jh(),e!==null&&!Oe?(Wh(e,n,f),Oi(e,n,f)):(Bt&&o&&Ph(n),n.flags|=1,xe(e,n,r,f),n.child)}function Ip(e,n,r,o,c){if(vs(n),n.stateNode===null){var f=aa,_=r.contextType;typeof _=="object"&&_!==null&&(f=Ge(_)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Gh(n),_=r.contextType,f.context=typeof _=="object"&&_!==null?Ge(_):aa,f.state=n.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(df(n,r,_,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&mf.enqueueReplaceState(f,f.state,null),ko(n,o,f,c),Uo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=As(r,E);f.props=R;var L=f.context,H=r.contextType;_=aa,typeof H=="object"&&H!==null&&(_=Ge(H));var Q=r.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==_)&&dp(n,f,o,_),nr=!1;var z=n.memoizedState;f.state=z,ko(n,o,f,c),Uo(),L=n.memoizedState,E||z!==L||nr?(typeof Q=="function"&&(df(n,r,Q,o),L=n.memoizedState),(R=nr||fp(n,r,R,o,z,L,_))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=_,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Fh(e,n),_=n.memoizedProps,H=As(r,_),f.props=H,Q=n.pendingProps,z=f.context,L=r.contextType,R=aa,typeof L=="object"&&L!==null&&(R=Ge(L)),E=r.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==Q||z!==R)&&dp(n,f,o,R),nr=!1,z=n.memoizedState,f.state=z,ko(n,o,f,c),Uo();var B=n.memoizedState;_!==Q||z!==B||nr||e!==null&&e.dependencies!==null&&yu(e.dependencies)?(typeof E=="function"&&(df(n,r,E,o),B=n.memoizedState),(H=nr||fp(n,r,H,o,z,B,R)||e!==null&&e.dependencies!==null&&yu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=R,o=H):(typeof f.componentDidUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=pa(n,e.child,null,c),n.child=pa(n,null,r,c)):xe(e,n,r,c),n.memoizedState=f.state,e=n.child):e=Oi(e,n,c),e}function Cp(e,n,r,o){return Io(),n.flags|=256,xe(e,n,r,o),n.child}var yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _f(e){return{baseLanes:e,cachePool:gg()}}function vf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=wn),e}function Dp(e,n,r){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=e!==null&&e.memoizedState===null?!1:(Re.current&2)!==0),_&&(c=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(c?ar(n):or(),Bt){var E=le,R;if(R=E){t:{for(R=E,E=Zn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Un(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:ms!==null?{id:Ri,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},R=un(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,We=n,le=null,R=!0):R=!1}R||ys(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return nd(E)?n.lanes=32:n.lanes=536870912,null;Ni(n)}return E=o.children,o=o.fallback,c?(or(),c=n.mode,E=xu({mode:"hidden",children:E},c),o=ds(o,c,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,c=n.child,c.memoizedState=_f(r),c.childLanes=vf(e,_,r),n.memoizedState=yf,o):(ar(n),Ef(n,E))}if(R=e.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(ar(n),n.flags&=-257,n=Tf(e,n,r)):n.memoizedState!==null?(or(),n.child=e.child,n.flags|=128,n=null):(or(),c=o.fallback,E=n.mode,o=xu({mode:"visible",children:o.children},E),c=ds(c,E,r,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,pa(n,e.child,null,r),o=n.child,o.memoizedState=_f(r),o.childLanes=vf(e,_,r),n.memoizedState=yf,n=c);else if(ar(n),nd(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var L=_.dgst;_=L,o=Error(a(419)),o.stack="",o.digest=_,Co({value:o,source:null,stack:null}),n=Tf(e,n,r)}else if(Oe||Do(e,n,r,!1),_=(r&e.childLanes)!==0,Oe||_){if(_=Wt,_!==null&&(o=r&-r,o=(o&42)!==0?1:Yi(o),o=(o&(_.suspendedLanes|r))!==0?0:o,o!==0&&o!==R.retryLane))throw R.retryLane=o,sa(e,o),mn(_,e,o),Ep;E.data==="$?"||zf(),n=Tf(e,n,r)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,le=Un(E.nextSibling),We=n,Bt=!0,ps=null,Zn=!1,e!==null&&(Sn[bn++]=Ri,Sn[bn++]=wi,Sn[bn++]=ms,Ri=e.id,wi=e.overflow,ms=n),n=Ef(n,o.children),n.flags|=4096);return n}return c?(or(),c=o.fallback,E=n.mode,R=e.child,L=R.sibling,o=bi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,L!==null?c=bi(L,c):(c=ds(c,E,r,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,E=e.child.memoizedState,E===null?E=_f(r):(R=E.cachePool,R!==null?(L=be._currentValue,R=R.parent!==L?{parent:L,pool:L}:R):R=gg(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=vf(e,_,r),n.memoizedState=yf,o):(ar(n),r=e.child,e=r.sibling,r=bi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(_=n.deletions,_===null?(n.deletions=[e],n.flags|=16):_.push(e)),n.child=r,n.memoizedState=null,r)}function Ef(e,n){return n=xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function xu(e,n){return e=un(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Tf(e,n,r){return pa(n,e.child,null,r),e=Ef(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Np(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Lh(e.return,n,r)}function Af(e,n,r,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=r,f.tailMode=c)}function Op(e,n,r){var o=n.pendingProps,c=o.revealOrder,f=o.tail;if(xe(e,n,o.children,r),o=Re.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Np(e,r,n);else if(e.tag===19)Np(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(J(Re,o),c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&Mu(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Af(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Mu(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Af(n,!0,r,null,f);break;case"together":Af(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Oi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),fr|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Do(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=bi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=bi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Sf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&yu(e)))}function P0(e,n,r){switch(n.tag){case 3:Jt(n,n.stateNode.containerInfo),er(n,be,e.memoizedState.cache),Io();break;case 27:case 5:Ki(n);break;case 4:Jt(n,n.stateNode.containerInfo);break;case 10:er(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ar(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Dp(e,n,r):(ar(n),e=Oi(e,n,r),e!==null?e.sibling:null);ar(n);break;case 19:var c=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Do(e,n,r,!1),o=(r&n.childLanes)!==0),c){if(o)return Op(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Re,Re.current),o)break;return null;case 22:case 23:return n.lanes=0,bp(e,n,r);case 24:er(n,be,e.memoizedState.cache)}return Oi(e,n,r)}function Vp(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Sf(e,r)&&(n.flags&128)===0)return Oe=!1,P0(e,n,r);Oe=(e.flags&131072)!==0}else Oe=!1,Bt&&(n.flags&1048576)!==0&&lg(n,pu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")Oh(o)?(e=As(o,e),n.tag=1,n=Ip(null,n,o,e,r)):(n.tag=0,n=pf(null,n,o,e,r));else{if(o!=null){if(c=o.$$typeof,c===zt){n.tag=11,n=Tp(null,n,o,e,r);break t}else if(c===O){n.tag=14,n=Ap(null,n,o,e,r);break t}}throw n=ne(o)||o,Error(a(306,n,""))}}return n;case 0:return pf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,c=As(o,n.pendingProps),Ip(e,n,o,c,r);case 3:t:{if(Jt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,Fh(e,n),ko(n,o,null,r);var _=n.memoizedState;if(o=_.cache,er(n,be,o),o!==f.cache&&zh(n,[be],r,!0),Uo(),o=_.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Cp(e,n,o,r);break t}else if(o!==c){c=Tn(Error(a(424)),n),Co(c),n=Cp(e,n,o,r);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(le=Un(e.firstChild),We=n,Bt=!0,ps=null,Zn=!0,r=cp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Io(),o===c){n=Oi(e,n,r);break t}xe(e,n,o,r)}n=n.child}return n;case 26:return ku(e,n),e===null?(r=ky(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,e=n.pendingProps,o=Zu(vt.current).createElement(r),o[Te]=n,o[me]=e,ze(o,r,e),ce(o),n.stateNode=o):n.memoizedState=ky(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ki(n),e===null&&Bt&&(o=n.stateNode=My(n.type,n.pendingProps,vt.current),We=n,Zn=!0,c=le,pr(n.type)?(id=c,le=Un(o.firstChild)):le=c),xe(e,n,n.pendingProps.children,r),ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((c=o=le)&&(o=lA(o,n.type,n.pendingProps,Zn),o!==null?(n.stateNode=o,We=n,le=Un(o.firstChild),Zn=!1,c=!0):c=!1),c||ys(n)),Ki(n),c=n.type,f=n.pendingProps,_=e!==null?e.memoizedProps:null,o=f.children,Wf(c,f)?o=null:_!==null&&Wf(c,_)&&(n.flags|=32),n.memoizedState!==null&&(c=Zh(e,n,w0,null,null,r),rl._currentValue=c),ku(e,n),xe(e,n,o,r),n.child;case 6:return e===null&&Bt&&((e=r=le)&&(r=uA(r,n.pendingProps,Zn),r!==null?(n.stateNode=r,We=n,le=null,e=!0):e=!1),e||ys(n)),null;case 13:return Dp(e,n,r);case 4:return Jt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=pa(n,null,o,r):xe(e,n,o,r),n.child;case 11:return Tp(e,n,n.type,n.pendingProps,r);case 7:return xe(e,n,n.pendingProps,r),n.child;case 8:return xe(e,n,n.pendingProps.children,r),n.child;case 12:return xe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,er(n,n.type,o.value),xe(e,n,o.children,r),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,vs(n),c=Ge(c),o=o(c),n.flags|=1,xe(e,n,o,r),n.child;case 14:return Ap(e,n,n.type,n.pendingProps,r);case 15:return Sp(e,n,n.type,n.pendingProps,r);case 19:return Op(e,n,r);case 31:return o=n.pendingProps,r=n.mode,o={mode:o.mode,children:o.children},e===null?(r=xu(o,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=bi(e.child,o),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return bp(e,n,r);case 24:return vs(n),o=Ge(be),e===null?(c=jh(),c===null&&(c=Wt,f=Bh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:o,cache:c},Gh(n),er(n,be,c)):((e.lanes&r)!==0&&(Fh(e,n),ko(n,null,null,r),Uo()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),er(n,be,o)):(o=f.cache,er(n,be,o),o!==c.cache&&zh(n,[be],r,!0))),xe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Vi(e){e.flags|=4}function Mp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!qy(n)){if(n=Rn.current,n!==null&&((Ut&4194048)===Ut?Jn!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==Jn))throw Mo=Hh,pg;e.flags|=8192}}function Lu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?so():536870912,e.lanes|=n,Ea|=n)}function Ho(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function U0(e,n,r){var o=n.pendingProps;switch(Uh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ci(be),zn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wo(n)?Vi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hg())),se(n),null;case 26:return r=n.memoizedState,e===null?(Vi(n),r!==null?(se(n),Mp(n,r)):(se(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Vi(n),se(n),Mp(n,r)):(se(n),n.flags&=-16777217):(e.memoizedProps!==o&&Vi(n),se(n),n.flags&=-16777217),null;case 27:hi(n),r=vt.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Vi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=ht.current,wo(n)?ug(n):(e=My(c,o,r),n.stateNode=e,Vi(n))}return se(n),null;case 5:if(hi(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Vi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(e=ht.current,wo(n))ug(n);else{switch(c=Zu(vt.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(r,{is:o.is}):c.createElement(r)}}e[Te]=n,e[me]=o;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;t:switch(ze(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Vi(n)}}return se(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Vi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=vt.current,wo(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,c=We,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[Te]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||wy(e.nodeValue,r)),e||ys(n)}else e=Zu(e).createTextNode(o),e[Te]=n,n.stateNode=e}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=wo(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Te]=n}else Io(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),c=!1}else c=hg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ni(n),n):(Ni(n),null)}if(Ni(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),Lu(n,n.updateQueue),se(n),null;case 4:return zn(),e===null&&Yf(n.stateNode.containerInfo),se(n),null;case 10:return Ci(n.type),se(n),null;case 19:if(et(Re),c=n.memoizedState,c===null)return se(n),null;if(o=(n.flags&128)!==0,f=c.rendering,f===null)if(o)Ho(c,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Mu(e),f!==null){for(n.flags|=128,Ho(c,!1),e=f.updateQueue,n.updateQueue=e,Lu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)og(r,e),r=r.sibling;return J(Re,Re.current&1|2),n.child}e=e.sibling}c.tail!==null&&gn()>qu&&(n.flags|=128,o=!0,Ho(c,!1),n.lanes=4194304)}else{if(!o)if(e=Mu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Lu(n,e),Ho(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return se(n),null}else 2*gn()-c.renderingStartTime>qu&&r!==536870912&&(n.flags|=128,o=!0,Ho(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=gn(),n.sibling=null,e=Re.current,J(Re,o?e&1|2:e&1),n):(se(n),null);case 22:case 23:return Ni(n),Xh(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),r=n.updateQueue,r!==null&&Lu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&et(Es),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ci(be),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function k0(e,n){switch(Uh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ci(be),zn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return hi(n),null;case 13:if(Ni(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Io()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return et(Re),null;case 4:return zn(),null;case 10:return Ci(n.type),null;case 22:case 23:return Ni(n),Xh(),e!==null&&et(Es),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ci(be),null;case 25:return null;default:return null}}function Pp(e,n){switch(Uh(n),n.tag){case 3:Ci(be),zn();break;case 26:case 27:case 5:hi(n);break;case 4:zn();break;case 13:Ni(n);break;case 19:et(Re);break;case 10:Ci(n.type);break;case 22:case 23:Ni(n),Xh(),e!==null&&et(Es);break;case 24:Ci(be)}}function Go(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){o=void 0;var f=r.create,_=r.inst;o=f(),_.destroy=o}r=r.next}while(r!==c)}}catch(E){Zt(n,n.return,E)}}function lr(e,n,r){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,c=n;var R=r,L=E;try{L()}catch(H){Zt(c,R,H)}}}o=o.next}while(o!==f)}}catch(H){Zt(n,n.return,H)}}function Up(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Ag(n,r)}catch(o){Zt(e,e.return,o)}}}function kp(e,n,r){r.props=As(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Zt(e,n,o)}}function Fo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(c){Zt(e,n,c)}}function Wn(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(c){Zt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Zt(e,n,c)}else r.current=null}function xp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(c){Zt(e,e.return,c)}}function bf(e,n,r){try{var o=e.stateNode;iA(o,e.type,r,n),o[me]=n}catch(c){Zt(e,e.return,c)}}function Lp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&pr(e.type)||e.tag===4}function Rf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Lp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=$u));else if(o!==4&&(o===27&&pr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(wf(e,n,r),e=e.sibling;e!==null;)wf(e,n,r),e=e.sibling}function zu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&pr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(zu(e,n,r),e=e.sibling;e!==null;)zu(e,n,r),e=e.sibling}function zp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,o,r),n[Te]=e,n[me]=r}catch(f){Zt(e,e.return,f)}}var Mi=!1,fe=!1,If=!1,Bp=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function x0(e,n){if(e=e.containerInfo,Zf=ic,e=Zm(e),bh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var _=0,E=-1,R=-1,L=0,H=0,Q=e,z=null;e:for(;;){for(var B;Q!==r||c!==0&&Q.nodeType!==3||(E=_+c),Q!==f||o!==0&&Q.nodeType!==3||(R=_+o),Q.nodeType===3&&(_+=Q.nodeValue.length),(B=Q.firstChild)!==null;)z=Q,Q=B;for(;;){if(Q===e)break e;if(z===r&&++L===c&&(E=_),z===f&&++H===o&&(R=_),(B=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=B}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jf={focusedElem:e,selectionRange:r},ic=!1,Ve=n;Ve!==null;)if(n=Ve,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Ve=e;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var yt=As(r.type,c,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(yt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Zt(r,r.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)ed(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ed(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ve=e;break}Ve=n.return}}function qp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ur(e,r),o&4&&Go(5,r);break;case 1:if(ur(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(_){Zt(r,r.return,_)}else{var c=As(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Zt(r,r.return,_)}}o&64&&Up(r),o&512&&Fo(r,r.return);break;case 3:if(ur(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Ag(e,n)}catch(_){Zt(r,r.return,_)}}break;case 27:n===null&&o&4&&zp(r);case 26:case 5:ur(e,r),n===null&&o&4&&xp(r),o&512&&Fo(r,r.return);break;case 12:ur(e,r);break;case 13:ur(e,r),o&4&&Gp(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Q0.bind(null,r),cA(e,r))));break;case 22:if(o=r.memoizedState!==null||Mi,!o){n=n!==null&&n.memoizedState!==null||fe,c=Mi;var f=fe;Mi=o,(fe=n)&&!f?cr(e,r,(r.subtreeFlags&8772)!==0):ur(e,r),Mi=c,fe=f}break;case 30:break;default:ur(e,r)}}function jp(e){var n=e.alternate;n!==null&&(e.alternate=null,jp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Zi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var re=null,en=!1;function Pi(e,n,r){for(r=r.child;r!==null;)Hp(e,n,r),r=r.sibling}function Hp(e,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(oe,r)}catch{}switch(r.tag){case 26:fe||Wn(r,n),Pi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:fe||Wn(r,n);var o=re,c=en;pr(r.type)&&(re=r.stateNode,en=!1),Pi(e,n,r),tl(r.stateNode),re=o,en=c;break;case 5:fe||Wn(r,n);case 6:if(o=re,c=en,re=null,Pi(e,n,r),re=o,en=c,re!==null)if(en)try{(re.nodeType===9?re.body:re.nodeName==="HTML"?re.ownerDocument.body:re).removeChild(r.stateNode)}catch(f){Zt(r,n,f)}else try{re.removeChild(r.stateNode)}catch(f){Zt(r,n,f)}break;case 18:re!==null&&(en?(e=re,Oy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ll(e)):Oy(re,r.stateNode));break;case 4:o=re,c=en,re=r.stateNode.containerInfo,en=!0,Pi(e,n,r),re=o,en=c;break;case 0:case 11:case 14:case 15:fe||lr(2,r,n),fe||lr(4,r,n),Pi(e,n,r);break;case 1:fe||(Wn(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&kp(r,n,o)),Pi(e,n,r);break;case 21:Pi(e,n,r);break;case 22:fe=(o=fe)||r.memoizedState!==null,Pi(e,n,r),fe=o;break;default:Pi(e,n,r)}}function Gp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ll(e)}catch(r){Zt(n,n.return,r)}}function L0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Bp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Bp),n;default:throw Error(a(435,e.tag))}}function Cf(e,n){var r=L0(e);n.forEach(function(o){var c=K0.bind(null,e,o);r.has(o)||(r.add(o),o.then(c,c))})}function cn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var c=r[o],f=e,_=n,E=_;t:for(;E!==null;){switch(E.tag){case 27:if(pr(E.type)){re=E.stateNode,en=!1;break t}break;case 5:re=E.stateNode,en=!1;break t;case 3:case 4:re=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(re===null)throw Error(a(160));Hp(f,_,c),re=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Fp(n,e),n=n.sibling}var Pn=null;function Fp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(n,e),hn(e),o&4&&(lr(3,e,e.return),Go(3,e),lr(5,e,e.return));break;case 1:cn(n,e),hn(e),o&512&&(fe||r===null||Wn(r,r.return)),o&64&&Mi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var c=Pn;if(cn(n,e),hn(e),o&512&&(fe||r===null||Wn(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Zr]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,o,r),f[Te]=e,ce(f),o=f;break t;case"link":var _=zy("link","href",c).get(o+(r.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(E,1);break e}}f=c.createElement(o),ze(f,o,r),c.head.appendChild(f);break;case"meta":if(_=zy("meta","content",c).get(o+(r.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(E,1);break e}}f=c.createElement(o),ze(f,o,r),c.head.appendChild(f);break;default:throw Error(a(468,o))}f[Te]=e,ce(f),o=f}e.stateNode=o}else By(c,e.type,e.stateNode);else e.stateNode=Ly(c,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?By(c,e.type,e.stateNode):Ly(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&bf(e,e.memoizedProps,r.memoizedProps)}break;case 27:cn(n,e),hn(e),o&512&&(fe||r===null||Wn(r,r.return)),r!==null&&o&4&&bf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(cn(n,e),hn(e),o&512&&(fe||r===null||Wn(r,r.return)),e.flags&32){c=e.stateNode;try{yn(c,"")}catch(B){Zt(e,e.return,B)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,bf(e,c,r!==null?r.memoizedProps:c)),o&1024&&(If=!0);break;case 6:if(cn(n,e),hn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(B){Zt(e,e.return,B)}}break;case 3:if(tc=null,c=Pn,Pn=Ju(n.containerInfo),cn(n,e),Pn=c,hn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ll(n.containerInfo)}catch(B){Zt(e,e.return,B)}If&&(If=!1,Qp(e));break;case 4:o=Pn,Pn=Ju(e.stateNode.containerInfo),cn(n,e),hn(e),Pn=o;break;case 12:cn(n,e),hn(e);break;case 13:cn(n,e),hn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Pf=gn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Cf(e,o)));break;case 22:c=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,L=Mi,H=fe;if(Mi=L||c,fe=H||R,cn(n,e),fe=H,Mi=L,hn(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||R||Mi||fe||Ss(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,c)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){Zt(R,R.return,B)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(B){Zt(R,R.return,B)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Cf(e,r))));break;case 19:cn(n,e),hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Cf(e,o)));break;case 30:break;case 21:break;default:cn(n,e),hn(e)}}function hn(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(Lp(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Rf(e);zu(e,f,c);break;case 5:var _=r.stateNode;r.flags&32&&(yn(_,""),r.flags&=-33);var E=Rf(e);zu(e,E,_);break;case 3:case 4:var R=r.stateNode.containerInfo,L=Rf(e);wf(e,L,R);break;default:throw Error(a(161))}}catch(H){Zt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Qp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Qp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ur(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)qp(e,n.alternate,n),n=n.sibling}function Ss(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:lr(4,n,n.return),Ss(n);break;case 1:Wn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&kp(n,n.return,r),Ss(n);break;case 27:tl(n.stateNode);case 26:case 5:Wn(n,n.return),Ss(n);break;case 22:n.memoizedState===null&&Ss(n);break;case 30:Ss(n);break;default:Ss(n)}e=e.sibling}}function cr(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:cr(c,f,r),Go(4,f);break;case 1:if(cr(c,f,r),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){Zt(o,o.return,L)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Tg(R[c],E)}catch(L){Zt(o,o.return,L)}}r&&_&64&&Up(f),Fo(f,f.return);break;case 27:zp(f);case 26:case 5:cr(c,f,r),r&&o===null&&_&4&&xp(f),Fo(f,f.return);break;case 12:cr(c,f,r);break;case 13:cr(c,f,r),r&&_&4&&Gp(c,f);break;case 22:f.memoizedState===null&&cr(c,f,r),Fo(f,f.return);break;case 30:break;default:cr(c,f,r)}n=n.sibling}}function Df(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&No(r))}function Nf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&No(e))}function ti(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Kp(e,n,r,o),n=n.sibling}function Kp(e,n,r,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ti(e,n,r,o),c&2048&&Go(9,n);break;case 1:ti(e,n,r,o);break;case 3:ti(e,n,r,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&No(e)));break;case 12:if(c&2048){ti(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Zt(n,n.return,R)}}else ti(e,n,r,o);break;case 13:ti(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?ti(e,n,r,o):Qo(e,n):f._visibility&2?ti(e,n,r,o):(f._visibility|=2,ya(e,n,r,o,(n.subtreeFlags&10256)!==0)),c&2048&&Df(_,n);break;case 24:ti(e,n,r,o),c&2048&&Nf(n.alternate,n);break;default:ti(e,n,r,o)}}function ya(e,n,r,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,_=n,E=r,R=o,L=_.flags;switch(_.tag){case 0:case 11:case 15:ya(f,_,E,R,c),Go(8,_);break;case 23:break;case 22:var H=_.stateNode;_.memoizedState!==null?H._visibility&2?ya(f,_,E,R,c):Qo(f,_):(H._visibility|=2,ya(f,_,E,R,c)),c&&L&2048&&Df(_.alternate,_);break;case 24:ya(f,_,E,R,c),c&&L&2048&&Nf(_.alternate,_);break;default:ya(f,_,E,R,c)}n=n.sibling}}function Qo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,c=o.flags;switch(o.tag){case 22:Qo(r,o),c&2048&&Df(o.alternate,o);break;case 24:Qo(r,o),c&2048&&Nf(o.alternate,o);break;default:Qo(r,o)}n=n.sibling}}var Ko=8192;function _a(e){if(e.subtreeFlags&Ko)for(e=e.child;e!==null;)Yp(e),e=e.sibling}function Yp(e){switch(e.tag){case 26:_a(e),e.flags&Ko&&e.memoizedState!==null&&SA(Pn,e.memoizedState,e.memoizedProps);break;case 5:_a(e);break;case 3:case 4:var n=Pn;Pn=Ju(e.stateNode.containerInfo),_a(e),Pn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ko,Ko=16777216,_a(e),Ko=n):_a(e));break;default:_a(e)}}function Xp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Yo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ve=o,Zp(o,e)}Xp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$p(e),e=e.sibling}function $p(e){switch(e.tag){case 0:case 11:case 15:Yo(e),e.flags&2048&&lr(9,e,e.return);break;case 3:Yo(e);break;case 12:Yo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Bu(e)):Yo(e);break;default:Yo(e)}}function Bu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Ve=o,Zp(o,e)}Xp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:lr(8,n,n.return),Bu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Bu(n));break;default:Bu(n)}e=e.sibling}}function Zp(e,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:lr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:No(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Ve=o;else t:for(r=e;Ve!==null;){o=Ve;var c=o.sibling,f=o.return;if(jp(o),o===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var z0={getCacheForType:function(e){var n=Ge(be),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},B0=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,Ct=null,Ut=0,Ft=0,fn=null,hr=!1,va=!1,Of=!1,Ui=0,ue=0,fr=0,bs=0,Vf=0,wn=0,Ea=0,Xo=null,nn=null,Mf=!1,Pf=0,qu=1/0,ju=null,dr=null,Le=0,mr=null,Ta=null,Aa=0,Uf=0,kf=null,Jp=null,$o=0,xf=null;function dn(){if((Gt&2)!==0&&Ut!==0)return Ut&-Ut;if(j.T!==null){var e=ua;return e!==0?e:Gf()}return Xi()}function Wp(){wn===0&&(wn=(Ut&536870912)===0||Bt?ro():536870912);var e=Rn.current;return e!==null&&(e.flags|=32),wn}function mn(e,n,r){(e===Wt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Sa(e,0),gr(e,Ut,wn,!1)),di(e,r),((Gt&2)===0||e!==Wt)&&(e===Wt&&((Gt&2)===0&&(bs|=r),ue===4&&gr(e,Ut,wn,!1)),ei(e))}function ty(e,n,r){if((Gt&6)!==0)throw Error(a(327));var o=!r&&(n&124)===0&&(n&e.expiredLanes)===0||$r(e,n),c=o?H0(e,n):Bf(e,n,!0),f=o;do{if(c===0){va&&!o&&gr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!q0(r)){c=Bf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var E=e;c=Xo;var R=E.current.memoizedState.isDehydrated;if(R&&(Sa(E,_).flags|=256),_=Bf(E,_,!1),_!==2){if(Of&&!R){E.errorRecoveryDisabledLanes|=f,bs|=f,c=4;break t}f=nn,nn=c,f!==null&&(nn===null?nn=f:nn.push.apply(nn,f))}c=_}if(f=!1,c!==2)continue}}if(c===1){Sa(e,0),gr(e,n,0,!0);break}t:{switch(o=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:gr(o,n,wn,!hr);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Pf+300-gn(),10<c)){if(gr(o,n,wn,!hr),Bs(o,0,!0)!==0)break t;o.timeoutHandle=Dy(ey.bind(null,o,r,nn,ju,Mf,n,wn,bs,Ea,hr,f,2,-0,0),c);break t}ey(o,r,nn,ju,Mf,n,wn,bs,Ea,hr,f,0,-0,0)}}break}while(!0);ei(e)}function ey(e,n,r,o,c,f,_,E,R,L,H,Q,z,B){if(e.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(il={stylesheets:null,count:0,unsuspend:AA},Yp(n),Q=bA(),Q!==null)){e.cancelPendingCommit=Q(ly.bind(null,e,n,f,r,o,c,_,E,R,H,1,z,B)),gr(e,f,_,!L);return}ly(e,n,f,r,o,c,_,E,R)}function q0(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var c=r[o],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function gr(e,n,r,o){n&=~Vf,n&=~bs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-He(c),_=1<<f;o[f]=-1,c&=~_}r!==0&&Bn(e,r,n)}function Hu(){return(Gt&6)===0?(Zo(0),!1):!0}function Lf(){if(Ct!==null){if(Ft===0)var e=Ct.return;else e=Ct,Ii=_s=null,tf(e),ga=null,qo=0,e=Ct;for(;e!==null;)Pp(e.alternate,e),e=e.return;Ct=null}}function Sa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,sA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Lf(),Wt=e,Ct=r=bi(e.current,null),Ut=n,Ft=0,fn=null,hr=!1,va=$r(e,n),Of=!1,Ea=wn=Vf=bs=fr=ue=0,nn=Xo=null,Mf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-He(o),f=1<<c;n|=e[c],o&=~f}return Ui=n,hu(),r}function ny(e,n){bt=null,j.H=Nu,n===Vo||n===Eu?(n=vg(),Ft=3):n===pg?(n=vg(),Ft=4):Ft=n===Ep?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,Ct===null&&(ue=1,Uu(e,Tn(n,e.current)))}function iy(){var e=j.H;return j.H=Nu,e===null?Nu:e}function ry(){var e=j.A;return j.A=z0,e}function zf(){ue=4,hr||(Ut&4194048)!==Ut&&Rn.current!==null||(va=!0),(fr&134217727)===0&&(bs&134217727)===0||Wt===null||gr(Wt,Ut,wn,!1)}function Bf(e,n,r){var o=Gt;Gt|=2;var c=iy(),f=ry();(Wt!==e||Ut!==n)&&(ju=null,Sa(e,n)),n=!1;var _=ue;t:do try{if(Ft!==0&&Ct!==null){var E=Ct,R=fn;switch(Ft){case 8:Lf(),_=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var L=Ft;if(Ft=0,fn=null,ba(e,E,R,L),r&&va){_=0;break t}break;default:L=Ft,Ft=0,fn=null,ba(e,E,R,L)}}j0(),_=ue;break}catch(H){ny(e,H)}while(!0);return n&&e.shellSuspendCounter++,Ii=_s=null,Gt=o,j.H=c,j.A=f,Ct===null&&(Wt=null,Ut=0,hu()),_}function j0(){for(;Ct!==null;)sy(Ct)}function H0(e,n){var r=Gt;Gt|=2;var o=iy(),c=ry();Wt!==e||Ut!==n?(ju=null,qu=gn()+500,Sa(e,n)):va=$r(e,n);t:do try{if(Ft!==0&&Ct!==null){n=Ct;var f=fn;e:switch(Ft){case 1:Ft=0,fn=null,ba(e,n,f,1);break;case 2:case 9:if(yg(f)){Ft=0,fn=null,ay(n);break}n=function(){Ft!==2&&Ft!==9||Wt!==e||(Ft=7),ei(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:yg(f)?(Ft=0,fn=null,ay(n)):(Ft=0,fn=null,ba(e,n,f,7));break;case 5:var _=null;switch(Ct.tag){case 26:_=Ct.memoizedState;case 5:case 27:var E=Ct;if(!_||qy(_)){Ft=0,fn=null;var R=E.sibling;if(R!==null)Ct=R;else{var L=E.return;L!==null?(Ct=L,Gu(L)):Ct=null}break e}}Ft=0,fn=null,ba(e,n,f,5);break;case 6:Ft=0,fn=null,ba(e,n,f,6);break;case 8:Lf(),ue=6;break t;default:throw Error(a(462))}}G0();break}catch(H){ny(e,H)}while(!0);return Ii=_s=null,j.H=o,j.A=c,Gt=r,Ct!==null?0:(Wt=null,Ut=0,hu(),ue)}function G0(){for(;Ct!==null&&!to();)sy(Ct)}function sy(e){var n=Vp(e.alternate,e,Ui);e.memoizedProps=e.pendingProps,n===null?Gu(e):Ct=n}function ay(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=wp(r,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=wp(r,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:tf(n);default:Pp(r,n),n=Ct=og(n,Ui),n=Vp(r,n,Ui)}e.memoizedProps=e.pendingProps,n===null?Gu(e):Ct=n}function ba(e,n,r,o){Ii=_s=null,tf(n),ga=null,qo=0;var c=n.return;try{if(M0(e,c,n,r,Ut)){ue=1,Uu(e,Tn(r,e.current)),Ct=null;return}}catch(f){if(c!==null)throw Ct=c,f;ue=1,Uu(e,Tn(r,e.current)),Ct=null;return}n.flags&32768?(Bt||o===1?e=!0:va||(Ut&536870912)!==0?e=!1:(hr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),oy(n,e)):Gu(n)}function Gu(e){var n=e;do{if((n.flags&32768)!==0){oy(n,hr);return}e=n.return;var r=U0(n.alternate,n,Ui);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);ue===0&&(ue=5)}function oy(e,n){do{var r=k0(e.alternate,e);if(r!==null){r.flags&=32767,Ct=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=r}while(e!==null);ue=6,Ct=null}function ly(e,n,r,o,c,f,_,E,R){e.cancelPendingCommit=null;do Fu();while(Le!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Dh,ao(e,r,f,_,E,R),e===Wt&&(Ct=Wt=null,Ut=0),Ta=n,mr=e,Aa=r,Uf=f,kf=c,Jp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Y0(Qr,function(){return dy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=j.T,j.T=null,c=tt.p,tt.p=2,_=Gt,Gt|=4;try{x0(e,n,r)}finally{Gt=_,tt.p=c,j.T=o}}Le=1,uy(),cy(),hy()}}function uy(){if(Le===1){Le=0;var e=mr,n=Ta,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=j.T,j.T=null;var o=tt.p;tt.p=2;var c=Gt;Gt|=4;try{Fp(n,e);var f=Jf,_=Zm(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&$m(E.ownerDocument.documentElement,E)){if(R!==null&&bh(E)){var L=R.start,H=R.end;if(H===void 0&&(H=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(H,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var B=z.getSelection(),yt=E.textContent.length,dt=Math.min(R.start,yt),$t=R.end===void 0?dt:Math.min(R.end,yt);!B.extend&&dt>$t&&(_=$t,$t=dt,dt=_);var U=Xm(E,dt),N=Xm(E,$t);if(U&&N&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var x=Q.createRange();x.setStart(U.node,U.offset),B.removeAllRanges(),dt>$t?(B.addRange(x),B.extend(N.node,N.offset)):(x.setEnd(N.node,N.offset),B.addRange(x))}}}}for(Q=[],B=E;B=B.parentNode;)B.nodeType===1&&Q.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}ic=!!Zf,Jf=Zf=null}finally{Gt=c,tt.p=o,j.T=r}}e.current=n,Le=2}}function cy(){if(Le===2){Le=0;var e=mr,n=Ta,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=j.T,j.T=null;var o=tt.p;tt.p=2;var c=Gt;Gt|=4;try{qp(e,n.alternate,n)}finally{Gt=c,tt.p=o,j.T=r}}Le=3}}function hy(){if(Le===4||Le===3){Le=0,Bl();var e=mr,n=Ta,r=Aa,o=Jp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Ta=mr=null,fy(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(dr=null),qs(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(oe,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=j.T,c=tt.p,tt.p=2,j.T=null;try{for(var f=e.onRecoverableError,_=0;_<o.length;_++){var E=o[_];f(E.value,{componentStack:E.stack})}}finally{j.T=n,tt.p=c}}(Aa&3)!==0&&Fu(),ei(e),c=e.pendingLanes,(r&4194090)!==0&&(c&42)!==0?e===xf?$o++:($o=0,xf=e):$o=0,Zo(0)}}function fy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,No(n)))}function Fu(e){return uy(),cy(),hy(),dy()}function dy(){if(Le!==5)return!1;var e=mr,n=Uf;Uf=0;var r=qs(Aa),o=j.T,c=tt.p;try{tt.p=32>r?32:r,j.T=null,r=kf,kf=null;var f=mr,_=Aa;if(Le=0,Ta=mr=null,Aa=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,$p(f.current),Kp(f,f.current,_,r),Gt=E,Zo(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(oe,f)}catch{}return!0}finally{tt.p=c,j.T=o,fy(e,n)}}function my(e,n,r){n=Tn(r,n),n=gf(e.stateNode,n,2),e=rr(e,n,2),e!==null&&(di(e,2),ei(e))}function Zt(e,n,r){if(e.tag===3)my(e,e,r);else for(;n!==null;){if(n.tag===3){my(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(dr===null||!dr.has(o))){e=Tn(r,e),r=_p(2),o=rr(n,r,2),o!==null&&(vp(r,o,n,e),di(o,2),ei(o));break}}n=n.return}}function qf(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new B0;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(r)||(Of=!0,c.add(r),e=F0.bind(null,e,n,r),n.then(e,e))}function F0(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Wt===e&&(Ut&r)===r&&(ue===4||ue===3&&(Ut&62914560)===Ut&&300>gn()-Pf?(Gt&2)===0&&Sa(e,0):Vf|=r,Ea===Ut&&(Ea=0)),ei(e)}function gy(e,n){n===0&&(n=so()),e=sa(e,n),e!==null&&(di(e,n),ei(e))}function Q0(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),gy(e,r)}function K0(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),gy(e,r)}function Y0(e,n){return Gr(e,n)}var Qu=null,Ra=null,jf=!1,Ku=!1,Hf=!1,Rs=0;function ei(e){e!==Ra&&e.next===null&&(Ra===null?Qu=Ra=e:Ra=Ra.next=e),Ku=!0,jf||(jf=!0,$0())}function Zo(e,n){if(!Hf&&Ku){Hf=!0;do for(var r=!1,o=Qu;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var _=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-He(42|e)+1)-1,f&=c&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,vy(o,f))}else f=Ut,f=Bs(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||$r(o,f)||(r=!0,vy(o,f));o=o.next}while(r);Hf=!1}}function X0(){py()}function py(){Ku=jf=!1;var e=0;Rs!==0&&(rA()&&(e=Rs),Rs=0);for(var n=gn(),r=null,o=Qu;o!==null;){var c=o.next,f=yy(o,n);f===0?(o.next=null,r===null?Qu=c:r.next=c,c===null&&(Ra=r)):(r=o,(e!==0||(f&3)!==0)&&(Ku=!0)),o=c}Zo(e)}function yy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var _=31-He(f),E=1<<_,R=c[_];R===-1?((E&r)===0||(E&o)!==0)&&(c[_]=io(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,r=Ut,r=Bs(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Fr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||$r(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Fr(o),qs(r)){case 2:case 8:r=Ls;break;case 32:r=Qr;break;case 268435456:r=zs;break;default:r=Qr}return o=_y.bind(null,e),r=Gr(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Fr(o),e.callbackPriority=2,e.callbackNode=null,2}function _y(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Fu()&&e.callbackNode!==r)return null;var o=Ut;return o=Bs(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ty(e,o,n),yy(e,gn()),e.callbackNode!=null&&e.callbackNode===r?_y.bind(null,e):null)}function vy(e,n){if(Fu())return null;ty(e,n,!0)}function $0(){aA(function(){(Gt&6)!==0?Gr(eo,X0):py()})}function Gf(){return Rs===0&&(Rs=ro()),Rs}function Ey(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ks(""+e)}function Ty(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function Z0(e,n,r,o,c){if(n==="submit"&&r&&r.stateNode===c){var f=Ey((c[me]||null).action),_=o.submitter;_&&(n=(n=_[me]||null)?Ey(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new Ys("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Rs!==0){var R=_?Ty(c,_):new FormData(c);cf(r,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=_?Ty(c,_):new FormData(c),cf(r,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var Ff=0;Ff<Ch.length;Ff++){var Qf=Ch[Ff],J0=Qf.toLowerCase(),W0=Qf[0].toUpperCase()+Qf.slice(1);Mn(J0,"on"+W0)}Mn(tg,"onAnimationEnd"),Mn(eg,"onAnimationIteration"),Mn(ng,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(p0,"onTransitionRun"),Mn(y0,"onTransitionStart"),Mn(_0,"onTransitionCancel"),Mn(ig,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),On("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),On("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),On("onBeforeInput",["compositionend","keypress","textInput","paste"]),On("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),On("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function Ay(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var _=o.length-1;0<=_;_--){var E=o[_],R=E.instance,L=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(H){Pu(H)}c.currentTarget=null,f=R}else for(_=0;_<o.length;_++){if(E=o[_],R=E.instance,L=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(H){Pu(H)}c.currentTarget=null,f=R}}}}function Dt(e,n){var r=n[lo];r===void 0&&(r=n[lo]=new Set);var o=e+"__bubble";r.has(o)||(Sy(n,e,2,!1),r.add(o))}function Kf(e,n,r){var o=0;n&&(o|=4),Sy(r,e,o,n)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function Yf(e){if(!e[Yu]){e[Yu]=!0,uo.forEach(function(r){r!=="selectionchange"&&(tA.has(r)||Kf(r,!1,e),Kf(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Yu]||(n[Yu]=!0,Kf("selectionchange",!1,n))}}function Sy(e,n,r,o){switch(Ky(n)){case 2:var c=IA;break;case 8:c=CA;break;default:c=ld}r=c.bind(null,n,r,e),c=void 0,!vn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function Xf(e,n,r,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===c)break;if(_===4)for(_=o.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===c)return;_=_.return}for(;E!==null;){if(_=mi(E),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){o=f=_;continue t}E=E.parentNode}}o=o.return}$l(function(){var L=f,H=_n(r),Q=[];t:{var z=rg.get(e);if(z!==void 0){var B=Ys,yt=e;switch(e){case"keypress":if(Qn(r)===0)break t;case"keydown":case"keyup":B=ta;break;case"focusin":yt="focus",B=Zs;break;case"focusout":yt="blur",B=Zs;break;case"beforeblur":case"afterblur":B=Zs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=En;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=ru;break;case tg:case eg:case ng:B=Js;break;case ig:B=au;break;case"scroll":case"scrollend":B=Zl;break;case"wheel":B=ea;break;case"copy":case"cut":case"paste":B=Ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Ao;break;case"toggle":case"beforetoggle":B=lu}var dt=(n&4)!==0,$t=!dt&&(e==="scroll"||e==="scrollend"),U=dt?z!==null?z+"Capture":null:z;dt=[];for(var N=L,x;N!==null;){var F=N;if(x=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||x===null||U===null||(F=rs(N,U),F!=null&&dt.push(Wo(N,F,x))),$t)break;N=N.return}0<dt.length&&(z=new B(z,yt,null,r,H),Q.push({event:z,listeners:dt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&r!==_i&&(yt=r.relatedTarget||r.fromElement)&&(mi(yt)||yt[pn]))break t;if((B||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,B?(yt=r.relatedTarget||r.toElement,B=L,yt=yt?mi(yt):null,yt!==null&&($t=h(yt),dt=yt.tag,yt!==$t||dt!==5&&dt!==27&&dt!==6)&&(yt=null)):(B=null,yt=L),B!==yt)){if(dt=En,F="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Ao,F="onPointerLeave",U="onPointerEnter",N="pointer"),$t=B==null?z:jn(B),x=yt==null?z:jn(yt),z=new dt(F,N+"leave",B,r,H),z.target=$t,z.relatedTarget=x,F=null,mi(H)===L&&(dt=new dt(U,N+"enter",yt,r,H),dt.target=x,dt.relatedTarget=$t,F=dt),$t=F,B&&yt)e:{for(dt=B,U=yt,N=0,x=dt;x;x=wa(x))N++;for(x=0,F=U;F;F=wa(F))x++;for(;0<N-x;)dt=wa(dt),N--;for(;0<x-N;)U=wa(U),x--;for(;N--;){if(dt===U||U!==null&&dt===U.alternate)break e;dt=wa(dt),U=wa(U)}dt=null}else dt=null;B!==null&&by(Q,z,B,dt,!1),yt!==null&&$t!==null&&by(Q,$t,yt,dt,!0)}}t:{if(z=L?jn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var st=Hm;else if(Se(z))if(Gm)st=d0;else{st=h0;var wt=c0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&go(L.elementType)&&(st=Hm):st=f0;if(st&&(st=st(e,L))){Si(Q,st,r,H);break t}wt&&wt(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Wi(z,"number",z.value)}switch(wt=L?jn(L):window,e){case"focusin":(Se(wt)||wt.contentEditable==="true")&&(na=wt,Rh=L,Ro=null);break;case"focusout":Ro=Rh=na=null;break;case"mousedown":wh=!0;break;case"contextmenu":case"mouseup":case"dragend":wh=!1,Jm(Q,r,H);break;case"selectionchange":if(g0)break;case"keydown":case"keyup":Jm(Q,r,H)}var lt;if(Xn)t:{switch(e){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Mt?q(e,r)&&(mt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(mt="onCompositionStart");mt&&(p&&r.locale!=="ko"&&(Mt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Mt&&(lt=yo()):(Fn=H,tr="value"in Fn?Fn.value:Fn.textContent,Mt=!0)),wt=Xu(L,mt),0<wt.length&&(mt=new Eo(mt,e,null,r,H),Q.push({event:mt,listeners:wt}),lt?mt.data=lt:(lt=W(r),lt!==null&&(mt.data=lt)))),(lt=m?Ae(e,r):Pt(e,r))&&(mt=Xu(L,"onBeforeInput"),0<mt.length&&(wt=new Eo("onBeforeInput","beforeinput",null,r,H),Q.push({event:wt,listeners:mt}),wt.data=lt)),Z0(Q,e,L,r,H)}Ay(Q,n)})}function Wo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Xu(e,n){for(var r=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=rs(e,r),c!=null&&o.unshift(Wo(e,c,f)),c=rs(e,n),c!=null&&o.push(Wo(e,c,f))),e.tag===3)return o;e=e.return}return[]}function wa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function by(e,n,r,o,c){for(var f=n._reactName,_=[];r!==null&&r!==o;){var E=r,R=E.alternate,L=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||L===null||(R=L,c?(L=rs(r,f),L!=null&&_.unshift(Wo(r,L,R))):c||(L=rs(r,f),L!=null&&_.push(Wo(r,L,R)))),r=r.return}_.length!==0&&e.push({event:n,listeners:_})}var eA=/\r\n?/g,nA=/\u0000|\uFFFD/g;function Ry(e){return(typeof e=="string"?e:""+e).replace(eA,`
`).replace(nA,"")}function wy(e,n){return n=Ry(n),Ry(e)===n}function $u(){}function Xt(e,n,r,o,c,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||yn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&yn(e,""+o);break;case"className":Hn(e,"class",o);break;case"tabIndex":Hn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Hn(e,r,o);break;case"style":mo(e,o,f);break;case"data":if(n!=="object"){Hn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ks(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Xt(e,n,"name",c.name,c,null),Xt(e,n,"formEncType",c.formEncType,c,null),Xt(e,n,"formMethod",c.formMethod,c,null),Xt(e,n,"formTarget",c.formTarget,c,null)):(Xt(e,n,"encType",c.encType,c,null),Xt(e,n,"method",c.method,c,null),Xt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ks(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=$u);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Ks(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),Ji(e,"popover",o);break;case"xlinkActuate":Ue(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ue(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ue(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ue(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ue(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ue(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ue(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ji(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=_h.get(r)||r,Ji(e,r,o))}}function $f(e,n,r,o,c,f){switch(r){case"style":mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?yn(e,o):(typeof o=="number"||typeof o=="bigint")&&yn(e,""+o);break;case"onScroll":o!=null&&Dt("scroll",e);break;case"onScrollEnd":o!=null&&Dt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=$u);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!js.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=e[me]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,c);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Ji(e,r,o)}}}function ze(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var o=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var _=r[f];if(_!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,f,_,r,null)}}c&&Xt(e,n,"srcSet",r.srcSet,r,null),o&&Xt(e,n,"src",r.src,r,null);return;case"input":Dt("invalid",e);var E=f=_=c=null,R=null,L=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":c=H;break;case"type":_=H;break;case"checked":R=H;break;case"defaultChecked":L=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Xt(e,n,o,H,r,null)}}es(e,f,E,R,L,_,c,!1),Qs(e);return;case"select":Dt("invalid",e),o=_=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:Xt(e,n,c,E,r,null)}n=f,r=_,e.multiple=!!o,n!=null?yi(e,!!o,n,!1):r!=null&&yi(e,!!o,r,!0);return;case"textarea":Dt("invalid",e),f=c=o=null;for(_ in r)if(r.hasOwnProperty(_)&&(E=r[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,_,E,r,null)}ns(e,o,c,f),Qs(e);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(o=r[R],o!=null))switch(R){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(e,n,R,o,r,null)}return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(o=0;o<Jo.length;o++)Dt(Jo[o],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(o=r[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,L,o,r,null)}return;default:if(go(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&$f(e,n,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Xt(e,n,E,o,r,null))}function iA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,_=null,E=null,R=null,L=null,H=null;for(B in r){var Q=r[B];if(r.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(B)||Xt(e,n,B,null,o,Q)}}for(var z in o){var B=o[z];if(Q=r[z],o.hasOwnProperty(z)&&(B!=null||Q!=null))switch(z){case"type":f=B;break;case"name":c=B;break;case"checked":L=B;break;case"defaultChecked":H=B;break;case"value":_=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Q&&Xt(e,n,z,B,o,Q)}}on(e,_,E,R,L,H,f,c);return;case"select":B=_=E=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,R)}for(c in o)if(f=o[c],R=r[c],o.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==R&&Xt(e,n,c,f,o,R)}n=E,r=_,o=B,z!=null?yi(e,!!r,z,!1):!!o!=!!r&&(n!=null?yi(e,!!r,n,!0):yi(e,!!r,r?[]:"",!1));return;case"textarea":B=z=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,c)}for(_ in o)if(c=o[_],f=r[_],o.hasOwnProperty(_)&&(c!=null||f!=null))switch(_){case"value":z=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Xt(e,n,_,c,o,f)}Kt(e,z,B);return;case"option":for(var yt in r)if(z=r[yt],r.hasOwnProperty(yt)&&z!=null&&!o.hasOwnProperty(yt))switch(yt){case"selected":e.selected=!1;break;default:Xt(e,n,yt,null,o,z)}for(R in o)if(z=o[R],B=r[R],o.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null))switch(R){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Xt(e,n,R,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in r)z=r[dt],r.hasOwnProperty(dt)&&z!=null&&!o.hasOwnProperty(dt)&&Xt(e,n,dt,null,o,z);for(L in o)if(z=o[L],B=r[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Xt(e,n,L,z,o,B)}return;default:if(go(n)){for(var $t in r)z=r[$t],r.hasOwnProperty($t)&&z!==void 0&&!o.hasOwnProperty($t)&&$f(e,n,$t,void 0,o,z);for(H in o)z=o[H],B=r[H],!o.hasOwnProperty(H)||z===B||z===void 0&&B===void 0||$f(e,n,H,z,o,B);return}}for(var U in r)z=r[U],r.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Xt(e,n,U,null,o,z);for(Q in o)z=o[Q],B=r[Q],!o.hasOwnProperty(Q)||z===B||z==null&&B==null||Xt(e,n,Q,z,o,B)}var Zf=null,Jf=null;function Zu(e){return e.nodeType===9?e:e.ownerDocument}function Iy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Wf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var td=null;function rA(){var e=window.event;return e&&e.type==="popstate"?e===td?!1:(td=e,!0):(td=null,!1)}var Dy=typeof setTimeout=="function"?setTimeout:void 0,sA=typeof clearTimeout=="function"?clearTimeout:void 0,Ny=typeof Promise=="function"?Promise:void 0,aA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ny<"u"?function(e){return Ny.resolve(null).then(e).catch(oA)}:Dy;function oA(e){setTimeout(function(){throw e})}function pr(e){return e==="head"}function Oy(e,n){var r=n,o=0,c=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<o&&8>o){r=o;var _=e.ownerDocument;if(r&1&&tl(_.documentElement),r&2&&tl(_.body),r&4)for(r=_.head,tl(r),_=r.firstChild;_;){var E=_.nextSibling,R=_.nodeName;_[Zr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||r.removeChild(_),_=E}}if(c===0){e.removeChild(f),ll(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:o=r.charCodeAt(0)-48;else o=0;r=f}while(r);ll(n)}function ed(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ed(r),Zi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function lA(e,n,r,o){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Zr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function uA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Un(e.nextSibling),e===null))return null;return e}function nd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function cA(e,n){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var id=null;function Vy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function My(e,n,r){switch(n=Zu(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function tl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Zi(e)}var In=new Map,Py=new Set;function Ju(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ki=tt.d;tt.d={f:hA,r:fA,D:dA,C:mA,L:gA,m:pA,X:_A,S:yA,M:vA};function hA(){var e=ki.f(),n=Hu();return e||n}function fA(e){var n=qn(e);n!==null&&n.tag===5&&n.type==="form"?tp(n):ki.r(e)}var Ia=typeof document>"u"?null:document;function Uy(e,n,r){var o=Ia;if(o&&typeof n=="string"&&n){var c=ge(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Py.has(c)||(Py.add(c),e={rel:e,crossOrigin:r,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),ze(n,"link",e),ce(n),o.head.appendChild(n)))}}function dA(e){ki.D(e),Uy("dns-prefetch",e,null)}function mA(e,n){ki.C(e,n),Uy("preconnect",e,n)}function gA(e,n,r){ki.L(e,n,r);var o=Ia;if(o&&e&&n){var c='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ge(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ge(r.imageSizes)+'"]')):c+='[href="'+ge(e)+'"]';var f=c;switch(n){case"style":f=Ca(e);break;case"script":f=Da(e)}In.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),In.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(el(f))||n==="script"&&o.querySelector(nl(f))||(n=o.createElement("link"),ze(n,"link",e),ce(n),o.head.appendChild(n)))}}function pA(e,n){ki.m(e,n);var r=Ia;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ge(o)+'"][href="'+ge(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Da(e)}if(!In.has(f)&&(e=A({rel:"modulepreload",href:e},n),In.set(f,e),r.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(nl(f)))return}o=r.createElement("link"),ze(o,"link",e),ce(o),r.head.appendChild(o)}}}function yA(e,n,r){ki.S(e,n,r);var o=Ia;if(o&&e){var c=$e(o).hoistableStyles,f=Ca(e);n=n||"default";var _=c.get(f);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(el(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=In.get(f))&&rd(e,r);var R=_=o.createElement("link");ce(R),ze(R,"link",e),R._p=new Promise(function(L,H){R.onload=L,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Wu(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:E},c.set(f,_)}}}function _A(e,n){ki.X(e,n);var r=Ia;if(r&&e){var o=$e(r).hoistableScripts,c=Da(e),f=o.get(c);f||(f=r.querySelector(nl(c)),f||(e=A({src:e,async:!0},n),(n=In.get(c))&&sd(e,n),f=r.createElement("script"),ce(f),ze(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function vA(e,n){ki.M(e,n);var r=Ia;if(r&&e){var o=$e(r).hoistableScripts,c=Da(e),f=o.get(c);f||(f=r.querySelector(nl(c)),f||(e=A({src:e,async:!0,type:"module"},n),(n=In.get(c))&&sd(e,n),f=r.createElement("script"),ce(f),ze(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function ky(e,n,r,o){var c=(c=vt.current)?Ju(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ca(r.href),r=$e(c).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ca(r.href);var f=$e(c).hoistableStyles,_=f.get(e);if(_||(c=c.ownerDocument||c,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,_),(f=c.querySelector(el(e)))&&!f._p&&(_.instance=f,_.state.loading=5),In.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},In.set(e,r),f||EA(c,e,r,_.state))),n&&o===null)throw Error(a(528,""));return _}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Da(r),r=$e(c).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ca(e){return'href="'+ge(e)+'"'}function el(e){return'link[rel="stylesheet"]['+e+"]"}function xy(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function EA(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ze(n,"link",r),ce(n),e.head.appendChild(n))}function Da(e){return'[src="'+ge(e)+'"]'}function nl(e){return"script[async]"+e}function Ly(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ge(r.href)+'"]');if(o)return n.instance=o,ce(o),o;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ce(o),ze(o,"style",c),Wu(o,r.precedence,e),n.instance=o;case"stylesheet":c=Ca(r.href);var f=e.querySelector(el(c));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;o=xy(r),(c=In.get(c))&&rd(o,c),f=(e.ownerDocument||e).createElement("link"),ce(f);var _=f;return _._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),ze(f,"link",o),n.state.loading|=4,Wu(f,r.precedence,e),n.instance=f;case"script":return f=Da(r.src),(c=e.querySelector(nl(f)))?(n.instance=c,ce(c),c):(o=r,(c=In.get(f))&&(o=A({},r),sd(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),ce(c),ze(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Wu(o,r.precedence,e));return n.instance}function Wu(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var tc=null;function zy(e,n,r){if(tc===null){var o=new Map,c=tc=new Map;c.set(r,o)}else c=tc,o=c.get(r),o||(o=new Map,c.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[Zr]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=e+_;var E=o.get(_);E?E.push(f):o.set(_,[f])}}return o}function By(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function TA(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function qy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var il=null;function AA(){}function SA(e,n,r){if(il===null)throw Error(a(475));var o=il;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Ca(r.href),f=e.querySelector(el(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=ec.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,ce(f);return}f=e.ownerDocument||e,r=xy(r),(c=In.get(c))&&rd(r,c),f=f.createElement("link"),ce(f);var _=f;_._p=new Promise(function(E,R){_.onload=E,_.onerror=R}),ze(f,"link",r),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=ec.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function bA(){if(il===null)throw Error(a(475));var e=il;return e.stylesheets&&e.count===0&&ad(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&ad(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function ec(){if(this.count--,this.count===0){if(this.stylesheets)ad(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var nc=null;function ad(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,nc=new Map,n.forEach(RA,e),nc=null,ec.call(e))}function RA(e,n){if(!(n.state.loading&4)){var r=nc.get(e);if(r)var o=r.get(null);else{r=new Map,nc.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var _=c[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),o=_)}o&&r.set(null,o)}c=n.instance,_=c.getAttribute("data-precedence"),f=r.get(_)||o,f===o&&r.set(null,c),r.set(_,c),this.count++,o=ec.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var rl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function wA(e,n,r,o,c,f,_,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function jy(e,n,r,o,c,f,_,E,R,L,H,Q){return e=new wA(e,n,r,_,E,R,L,Q),n=1,f===!0&&(n|=24),f=un(3,null,null,n),e.current=f,f.stateNode=e,n=Bh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},Gh(f),e}function Hy(e){return e?(e=aa,e):aa}function Gy(e,n,r,o,c,f){c=Hy(c),o.context===null?o.context=c:o.pendingContext=c,o=ir(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=rr(e,o,n),r!==null&&(mn(r,e,n),Po(r,e,n))}function Fy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function od(e,n){Fy(e,n),(e=e.alternate)&&Fy(e,n)}function Qy(e){if(e.tag===13){var n=sa(e,67108864);n!==null&&mn(n,e,67108864),od(e,67108864)}}var ic=!0;function IA(e,n,r,o){var c=j.T;j.T=null;var f=tt.p;try{tt.p=2,ld(e,n,r,o)}finally{tt.p=f,j.T=c}}function CA(e,n,r,o){var c=j.T;j.T=null;var f=tt.p;try{tt.p=8,ld(e,n,r,o)}finally{tt.p=f,j.T=c}}function ld(e,n,r,o){if(ic){var c=ud(o);if(c===null)Xf(e,n,o,rc,r),Yy(e,o);else if(NA(c,e,n,r,o))o.stopPropagation();else if(Yy(e,o),n&4&&-1<DA.indexOf(e)){for(;c!==null;){var f=qn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Nn(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var R=1<<31-He(_);E.entanglements[1]|=R,_&=~R}ei(f),(Gt&6)===0&&(qu=gn()+500,Zo(0))}}break;case 13:E=sa(f,2),E!==null&&mn(E,f,2),Hu(),od(f,2)}if(f=ud(o),f===null&&Xf(e,n,o,rc,r),f===c)break;c=f}c!==null&&o.stopPropagation()}else Xf(e,n,o,null,r)}}function ud(e){return e=_n(e),cd(e)}var rc=null;function cd(e){if(rc=null,e=mi(e),e!==null){var n=h(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return rc=e,null}function Ky(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fh()){case eo:return 2;case Ls:return 8;case Qr:case dh:return 32;case zs:return 268435456;default:return 32}default:return 32}}var hd=!1,yr=null,_r=null,vr=null,sl=new Map,al=new Map,Er=[],DA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yy(e,n){switch(e){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":_r=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":sl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(n.pointerId)}}function ol(e,n,r,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=qn(n),n!==null&&Qy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function NA(e,n,r,o,c){switch(n){case"focusin":return yr=ol(yr,e,n,r,o,c),!0;case"dragenter":return _r=ol(_r,e,n,r,o,c),!0;case"mouseover":return vr=ol(vr,e,n,r,o,c),!0;case"pointerover":var f=c.pointerId;return sl.set(f,ol(sl.get(f)||null,e,n,r,o,c)),!0;case"gotpointercapture":return f=c.pointerId,al.set(f,ol(al.get(f)||null,e,n,r,o,c)),!0}return!1}function Xy(e){var n=mi(e.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Hl(e.priority,function(){if(r.tag===13){var o=dn();o=Yi(o);var c=sa(r,o);c!==null&&mn(c,r,o),od(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=ud(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);_i=o,r.target.dispatchEvent(o),_i=null}else return n=qn(r),n!==null&&Qy(n),e.blockedOn=r,!1;n.shift()}return!0}function $y(e,n,r){sc(e)&&r.delete(n)}function OA(){hd=!1,yr!==null&&sc(yr)&&(yr=null),_r!==null&&sc(_r)&&(_r=null),vr!==null&&sc(vr)&&(vr=null),sl.forEach($y),al.forEach($y)}function ac(e,n){e.blockedOn===n&&(e.blockedOn=null,hd||(hd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,OA)))}var oc=null;function Zy(e){oc!==e&&(oc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){oc===e&&(oc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(cd(o||r)===null)continue;break}var f=qn(r);f!==null&&(e.splice(n,3),n-=3,cf(f,{pending:!0,data:c,method:r.method,action:o},o,c))}}))}function ll(e){function n(R){return ac(R,e)}yr!==null&&ac(yr,e),_r!==null&&ac(_r,e),vr!==null&&ac(vr,e),sl.forEach(n),al.forEach(n);for(var r=0;r<Er.length;r++){var o=Er[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Er.length&&(r=Er[0],r.blockedOn===null);)Xy(r),r.blockedOn===null&&Er.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],_=c[me]||null;if(typeof f=="function")_||Zy(r);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,_=f[me]||null)E=_.formAction;else if(cd(c)!==null)continue}else E=_.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),Zy(r)}}}function fd(e){this._internalRoot=e}lc.prototype.render=fd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=dn();Gy(r,o,e,n,null,null)},lc.prototype.unmount=fd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Gy(e.current,2,null,e,null,null),Hu(),n[pn]=null}};function lc(e){this._internalRoot=e}lc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Xi();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Er.length&&n!==0&&n<Er[r].priority;r++);Er.splice(r,0,e),r===0&&Xy(e)}};var Jy=t.version;if(Jy!=="19.1.1")throw Error(a(527,Jy,"19.1.1"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var VA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{oe=uc.inject(VA),Ht=uc}catch{}}return cl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",c=mp,f=gp,_=pp,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=jy(e,1,!1,null,null,r,o,c,f,_,E,null),e[pn]=n.current,Yf(e),new fd(n)},cl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,c="",f=mp,_=gp,E=pp,R=null,L=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(L=r.formState)),n=jy(e,1,!0,n,r??null,o,c,f,_,E,R,L),n.context=Hy(null),r=n.current,o=dn(),o=Yi(o),c=ir(o),c.callback=null,rr(r,c,o),r=o,n.current.lanes=r,di(n,r),ei(n),e[pn]=n.current,Yf(e),new lc(n)},cl.version="19.1.1",cl}var l_;function HA(){if(l_)return gd.exports;l_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),gd.exports=jA(),gd.exports}var GA=HA();const FA=xv(GA),QA=()=>{};var u_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},KA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=s[i++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=s[i++],d=s[i++],g=s[i++],y=((l&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const h=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const h=s[l],d=l+1<s.length,g=d?s[l+1]:0,y=l+2<s.length,v=y?s[l+2]:0,A=h>>2,D=(h&3)<<4|g>>4;let V=(g&15)<<2|v>>6,G=v&63;y||(G=64,d||(V=64)),a.push(i[A],i[D],i[V],i[G])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Lv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):KA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const h=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const v=l<s.length?i[s.charAt(l)]:64;++l;const D=l<s.length?i[s.charAt(l)]:64;if(++l,h==null||g==null||v==null||D==null)throw new YA;const V=h<<2|g>>4;if(a.push(V),v!==64){const G=g<<4&240|v>>2;if(a.push(G),D!==64){const $=v<<6&192|D;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class YA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XA=function(s){const t=Lv(s);return zv.encodeByteArray(t,!0)},wc=function(s){return XA(s).replace(/\./g,"")},Bv=function(s){try{return zv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=()=>$A().__FIREBASE_DEFAULTS__,JA=()=>{if(typeof process>"u"||typeof u_>"u")return;const s=u_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},WA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Bv(s[1]);return t&&JSON.parse(t)},Qc=()=>{try{return QA()||ZA()||JA()||WA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},qv=s=>Qc()?.emulatorHosts?.[s],tS=s=>{const t=qv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},jv=()=>Qc()?.config,Hv=s=>Qc()?.[`_${s}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[wc(JSON.stringify(i)),wc(JSON.stringify(d)),""].join(".")}const gl={};function iS(){const s={prod:[],emulator:[]};for(const t of Object.keys(gl))gl[t]?s.emulator.push(t):s.prod.push(t);return s}function rS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let c_=!1;function Fv(s,t){if(typeof window>"u"||typeof document>"u"||!Ka(window.location.host)||gl[s]===t||gl[s]||c_)return;gl[s]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",h=iS().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,G){V.setAttribute("width","24"),V.setAttribute("id",G),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function v(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{c_=!0,d()},V}function A(V,G){V.setAttribute("id",G),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function D(){const V=rS(a),G=i("text"),$=document.getElementById(G)||document.createElement("span"),it=i("learnmore"),Z=document.getElementById(it)||document.createElement("a"),Et=i("preprendIcon"),gt=document.getElementById(Et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ct=V.element;g(ct),A(Z,it);const zt=v();y(gt,Et),ct.append(gt,$,Z,zt),document.body.appendChild(ct)}h?($.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",D):D()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function aS(){const s=Qc()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function uS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cS(){const s=Xe();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function hS(){return!aS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fS(){try{return typeof indexedDB=="object"}catch{return!1}}function dS(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="FirebaseError";class Qi extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=mS,Object.setPrototypeOf(this,Qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nl.prototype.create)}}class Nl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?gS(h,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Qi(l,g,a)}}function gS(s,t){return s.replace(pS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const pS=/\{\$([^}]+)}/g;function yS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ds(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const h=s[l],d=t[l];if(h_(h)&&h_(d)){if(!Ds(h,d))return!1}else if(h!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function h_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function _S(s,t){const i=new vS(s,t);return i.subscribe.bind(i)}class vS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");ES(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=vd),l.error===void 0&&(l.error=vd),l.complete===void 0&&(l.complete=vd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ES(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function vd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(s){return s&&s._delegate?s._delegate:s}class Ns{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new eS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(SS(t))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=ws){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ws){return this.instances.has(t)}getOptions(t=ws){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&t(h,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:AS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=ws){return this.component?this.component.multipleInstances?t:ws:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AS(s){return s===ws?void 0:s}function SS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new TS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Nt||(Nt={}));const RS={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},wS=Nt.INFO,IS={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},CS=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=IS[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sm{constructor(t){this.name=t,this._logLevel=wS,this._logHandler=CS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const DS=(s,t)=>t.some(i=>s instanceof i);let f_,d_;function NS(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OS(){return d_||(d_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qv=new WeakMap,Md=new WeakMap,Kv=new WeakMap,Ed=new WeakMap,am=new WeakMap;function VS(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Cr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",h),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Qv.set(i,s)}).catch(()=>{}),am.set(t,s),t}function MS(s){if(Md.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Md.set(s,t)}let Pd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Md.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Kv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Cr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function PS(s){Pd=s(Pd)}function US(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Td(this),t,...i);return Kv.set(a,t.sort?t.sort():[t]),Cr(a)}:OS().includes(s)?function(...t){return s.apply(Td(this),t),Cr(Qv.get(this))}:function(...t){return Cr(s.apply(Td(this),t))}}function kS(s){return typeof s=="function"?US(s):(s instanceof IDBTransaction&&MS(s),DS(s,NS())?new Proxy(s,Pd):s)}function Cr(s){if(s instanceof IDBRequest)return VS(s);if(Ed.has(s))return Ed.get(s);const t=kS(s);return t!==s&&(Ed.set(s,t),am.set(t,s)),t}const Td=s=>am.get(s);function xS(s,t,{blocked:i,upgrade:a,blocking:l,terminated:h}={}){const d=indexedDB.open(s,t),g=Cr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Cr(d.result),y.oldVersion,y.newVersion,Cr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const LS=["get","getKey","getAll","getAllKeys","count"],zS=["put","add","delete","clear"],Ad=new Map;function m_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Ad.get(t))return Ad.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=zS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||LS.includes(i)))return;const h=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let v=y.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&y.done]))[0]};return Ad.set(t,h),h}PS(s=>({...s,get:(t,i,a)=>m_(t,i)||s.get(t,i,a),has:(t,i)=>!!m_(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(qS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function qS(s){return s.getComponent()?.type==="VERSION"}const Ud="@firebase/app",g_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new sm("@firebase/app"),jS="@firebase/app-compat",HS="@firebase/analytics-compat",GS="@firebase/analytics",FS="@firebase/app-check-compat",QS="@firebase/app-check",KS="@firebase/auth",YS="@firebase/auth-compat",XS="@firebase/database",$S="@firebase/data-connect",ZS="@firebase/database-compat",JS="@firebase/functions",WS="@firebase/functions-compat",t1="@firebase/installations",e1="@firebase/installations-compat",n1="@firebase/messaging",i1="@firebase/messaging-compat",r1="@firebase/performance",s1="@firebase/performance-compat",a1="@firebase/remote-config",o1="@firebase/remote-config-compat",l1="@firebase/storage",u1="@firebase/storage-compat",c1="@firebase/firestore",h1="@firebase/ai",f1="@firebase/firestore-compat",d1="firebase",m1="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="[DEFAULT]",g1={[Ud]:"fire-core",[jS]:"fire-core-compat",[GS]:"fire-analytics",[HS]:"fire-analytics-compat",[QS]:"fire-app-check",[FS]:"fire-app-check-compat",[KS]:"fire-auth",[YS]:"fire-auth-compat",[XS]:"fire-rtdb",[$S]:"fire-data-connect",[ZS]:"fire-rtdb-compat",[JS]:"fire-fn",[WS]:"fire-fn-compat",[t1]:"fire-iid",[e1]:"fire-iid-compat",[n1]:"fire-fcm",[i1]:"fire-fcm-compat",[r1]:"fire-perf",[s1]:"fire-perf-compat",[a1]:"fire-rc",[o1]:"fire-rc-compat",[l1]:"fire-gcs",[u1]:"fire-gcs-compat",[c1]:"fire-fst",[f1]:"fire-fst-compat",[h1]:"fire-vertex","fire-js":"fire-js",[d1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Map,p1=new Map,xd=new Map;function p_(s,t){try{s.container.addComponent(t)}catch(i){qi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ba(s){const t=s.name;if(xd.has(t))return qi.debug(`There were multiple attempts to register component ${t}.`),!1;xd.set(t,s);for(const i of Ic.values())p_(i,s);for(const i of p1.values())p_(i,s);return!0}function om(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function kn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new Nl("app","Firebase",y1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya=m1;function Yv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:kd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Dr.create("bad-app-name",{appName:String(l)});if(i||(i=jv()),!i)throw Dr.create("no-options");const h=Ic.get(l);if(h){if(Ds(i,h.options)&&Ds(a,h.config))return h;throw Dr.create("duplicate-app",{appName:l})}const d=new bS(l);for(const y of xd.values())d.addComponent(y);const g=new _1(i,a,d);return Ic.set(l,g),g}function Xv(s=kd){const t=Ic.get(s);if(!t&&s===kd&&jv())return Yv();if(!t)throw Dr.create("no-app",{appName:s});return t}function Nr(s,t,i){let a=g1[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),qi.warn(d.join(" "));return}Ba(new Ns(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="firebase-heartbeat-database",E1=1,Tl="firebase-heartbeat-store";let Sd=null;function $v(){return Sd||(Sd=xS(v1,E1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Tl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Dr.create("idb-open",{originalErrorMessage:s.message})})),Sd}async function T1(s){try{const i=(await $v()).transaction(Tl),a=await i.objectStore(Tl).get(Zv(s));return await i.done,a}catch(t){if(t instanceof Qi)qi.warn(t.message);else{const i=Dr.create("idb-get",{originalErrorMessage:t?.message});qi.warn(i.message)}}}async function y_(s,t){try{const a=(await $v()).transaction(Tl,"readwrite");await a.objectStore(Tl).put(t,Zv(s)),await a.done}catch(i){if(i instanceof Qi)qi.warn(i.message);else{const a=Dr.create("idb-set",{originalErrorMessage:i?.message});qi.warn(a.message)}}}function Zv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=1024,S1=30;class b1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new w1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=__();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>S1){const l=I1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){qi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=__(),{heartbeatsToSend:i,unsentEntries:a}=R1(this._heartbeatsCache.heartbeats),l=wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return qi.warn(t),""}}}function __(){return new Date().toISOString().substring(0,10)}function R1(s,t=A1){const i=[];let a=s.slice();for(const l of s){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),v_(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),v_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class w1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fS()?dS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await T1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function v_(s){return wc(JSON.stringify({version:2,heartbeats:s})).length}function I1(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(s){Ba(new Ns("platform-logger",t=>new BS(t),"PRIVATE")),Ba(new Ns("heartbeat",t=>new b1(t),"PRIVATE")),Nr(Ud,g_,s),Nr(Ud,g_,"esm2020"),Nr("fire-js","")}C1("");var D1="firebase",N1="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(D1,N1,"app");var E_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Or,Jv;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,S){function b(){}b.prototype=S.prototype,O.D=S.prototype,O.prototype=new b,O.prototype.constructor=O,O.C=function(I,M,P){for(var w=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)w[ne-2]=arguments[ne];return S.prototype[M].apply(I,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,S,b){b||(b=0);var I=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)I[M]=S.charCodeAt(b++)|S.charCodeAt(b++)<<8|S.charCodeAt(b++)<<16|S.charCodeAt(b++)<<24;else for(M=0;16>M;++M)I[M]=S[b++]|S[b++]<<8|S[b++]<<16|S[b++]<<24;S=O.g[0],b=O.g[1],M=O.g[2];var P=O.g[3],w=S+(P^b&(M^P))+I[0]+3614090360&4294967295;S=b+(w<<7&4294967295|w>>>25),w=P+(M^S&(b^M))+I[1]+3905402710&4294967295,P=S+(w<<12&4294967295|w>>>20),w=M+(b^P&(S^b))+I[2]+606105819&4294967295,M=P+(w<<17&4294967295|w>>>15),w=b+(S^M&(P^S))+I[3]+3250441966&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(P^b&(M^P))+I[4]+4118548399&4294967295,S=b+(w<<7&4294967295|w>>>25),w=P+(M^S&(b^M))+I[5]+1200080426&4294967295,P=S+(w<<12&4294967295|w>>>20),w=M+(b^P&(S^b))+I[6]+2821735955&4294967295,M=P+(w<<17&4294967295|w>>>15),w=b+(S^M&(P^S))+I[7]+4249261313&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(P^b&(M^P))+I[8]+1770035416&4294967295,S=b+(w<<7&4294967295|w>>>25),w=P+(M^S&(b^M))+I[9]+2336552879&4294967295,P=S+(w<<12&4294967295|w>>>20),w=M+(b^P&(S^b))+I[10]+4294925233&4294967295,M=P+(w<<17&4294967295|w>>>15),w=b+(S^M&(P^S))+I[11]+2304563134&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(P^b&(M^P))+I[12]+1804603682&4294967295,S=b+(w<<7&4294967295|w>>>25),w=P+(M^S&(b^M))+I[13]+4254626195&4294967295,P=S+(w<<12&4294967295|w>>>20),w=M+(b^P&(S^b))+I[14]+2792965006&4294967295,M=P+(w<<17&4294967295|w>>>15),w=b+(S^M&(P^S))+I[15]+1236535329&4294967295,b=M+(w<<22&4294967295|w>>>10),w=S+(M^P&(b^M))+I[1]+4129170786&4294967295,S=b+(w<<5&4294967295|w>>>27),w=P+(b^M&(S^b))+I[6]+3225465664&4294967295,P=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(P^S))+I[11]+643717713&4294967295,M=P+(w<<14&4294967295|w>>>18),w=b+(P^S&(M^P))+I[0]+3921069994&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(M^P&(b^M))+I[5]+3593408605&4294967295,S=b+(w<<5&4294967295|w>>>27),w=P+(b^M&(S^b))+I[10]+38016083&4294967295,P=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(P^S))+I[15]+3634488961&4294967295,M=P+(w<<14&4294967295|w>>>18),w=b+(P^S&(M^P))+I[4]+3889429448&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(M^P&(b^M))+I[9]+568446438&4294967295,S=b+(w<<5&4294967295|w>>>27),w=P+(b^M&(S^b))+I[14]+3275163606&4294967295,P=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(P^S))+I[3]+4107603335&4294967295,M=P+(w<<14&4294967295|w>>>18),w=b+(P^S&(M^P))+I[8]+1163531501&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(M^P&(b^M))+I[13]+2850285829&4294967295,S=b+(w<<5&4294967295|w>>>27),w=P+(b^M&(S^b))+I[2]+4243563512&4294967295,P=S+(w<<9&4294967295|w>>>23),w=M+(S^b&(P^S))+I[7]+1735328473&4294967295,M=P+(w<<14&4294967295|w>>>18),w=b+(P^S&(M^P))+I[12]+2368359562&4294967295,b=M+(w<<20&4294967295|w>>>12),w=S+(b^M^P)+I[5]+4294588738&4294967295,S=b+(w<<4&4294967295|w>>>28),w=P+(S^b^M)+I[8]+2272392833&4294967295,P=S+(w<<11&4294967295|w>>>21),w=M+(P^S^b)+I[11]+1839030562&4294967295,M=P+(w<<16&4294967295|w>>>16),w=b+(M^P^S)+I[14]+4259657740&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(b^M^P)+I[1]+2763975236&4294967295,S=b+(w<<4&4294967295|w>>>28),w=P+(S^b^M)+I[4]+1272893353&4294967295,P=S+(w<<11&4294967295|w>>>21),w=M+(P^S^b)+I[7]+4139469664&4294967295,M=P+(w<<16&4294967295|w>>>16),w=b+(M^P^S)+I[10]+3200236656&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(b^M^P)+I[13]+681279174&4294967295,S=b+(w<<4&4294967295|w>>>28),w=P+(S^b^M)+I[0]+3936430074&4294967295,P=S+(w<<11&4294967295|w>>>21),w=M+(P^S^b)+I[3]+3572445317&4294967295,M=P+(w<<16&4294967295|w>>>16),w=b+(M^P^S)+I[6]+76029189&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(b^M^P)+I[9]+3654602809&4294967295,S=b+(w<<4&4294967295|w>>>28),w=P+(S^b^M)+I[12]+3873151461&4294967295,P=S+(w<<11&4294967295|w>>>21),w=M+(P^S^b)+I[15]+530742520&4294967295,M=P+(w<<16&4294967295|w>>>16),w=b+(M^P^S)+I[2]+3299628645&4294967295,b=M+(w<<23&4294967295|w>>>9),w=S+(M^(b|~P))+I[0]+4096336452&4294967295,S=b+(w<<6&4294967295|w>>>26),w=P+(b^(S|~M))+I[7]+1126891415&4294967295,P=S+(w<<10&4294967295|w>>>22),w=M+(S^(P|~b))+I[14]+2878612391&4294967295,M=P+(w<<15&4294967295|w>>>17),w=b+(P^(M|~S))+I[5]+4237533241&4294967295,b=M+(w<<21&4294967295|w>>>11),w=S+(M^(b|~P))+I[12]+1700485571&4294967295,S=b+(w<<6&4294967295|w>>>26),w=P+(b^(S|~M))+I[3]+2399980690&4294967295,P=S+(w<<10&4294967295|w>>>22),w=M+(S^(P|~b))+I[10]+4293915773&4294967295,M=P+(w<<15&4294967295|w>>>17),w=b+(P^(M|~S))+I[1]+2240044497&4294967295,b=M+(w<<21&4294967295|w>>>11),w=S+(M^(b|~P))+I[8]+1873313359&4294967295,S=b+(w<<6&4294967295|w>>>26),w=P+(b^(S|~M))+I[15]+4264355552&4294967295,P=S+(w<<10&4294967295|w>>>22),w=M+(S^(P|~b))+I[6]+2734768916&4294967295,M=P+(w<<15&4294967295|w>>>17),w=b+(P^(M|~S))+I[13]+1309151649&4294967295,b=M+(w<<21&4294967295|w>>>11),w=S+(M^(b|~P))+I[4]+4149444226&4294967295,S=b+(w<<6&4294967295|w>>>26),w=P+(b^(S|~M))+I[11]+3174756917&4294967295,P=S+(w<<10&4294967295|w>>>22),w=M+(S^(P|~b))+I[2]+718787259&4294967295,M=P+(w<<15&4294967295|w>>>17),w=b+(P^(M|~S))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(M+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+P&4294967295}a.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var b=S-this.blockSize,I=this.B,M=this.h,P=0;P<S;){if(M==0)for(;P<=b;)l(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<S;)if(I[M++]=O.charCodeAt(P++),M==this.blockSize){l(this,I),M=0;break}}else for(;P<S;)if(I[M++]=O[P++],M==this.blockSize){l(this,I),M=0;break}}this.h=M,this.o+=S},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var b=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=b&255,b/=256;for(this.u(O),O=Array(16),S=b=0;4>S;++S)for(var I=0;32>I;I+=8)O[b++]=this.g[S]>>>I&255;return O};function h(O,S){var b=g;return Object.prototype.hasOwnProperty.call(b,O)?b[O]:b[O]=S(O)}function d(O,S){this.h=S;for(var b=[],I=!0,M=O.length-1;0<=M;M--){var P=O[M]|0;I&&P==S||(b[M]=P,I=!1)}this.g=b}var g={};function y(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return D;if(0>O)return Z(v(-O));for(var S=[],b=1,I=0;O>=b;I++)S[I]=O/b|0,b*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return Z(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=v(Math.pow(S,8)),I=D,M=0;M<O.length;M+=8){var P=Math.min(8,O.length-M),w=parseInt(O.substring(M,M+P),S);8>P?(P=v(Math.pow(S,P)),I=I.j(P).add(v(w))):(I=I.j(b),I=I.add(v(w)))}return I}var D=y(0),V=y(1),G=y(16777216);s=d.prototype,s.m=function(){if(it(this))return-Z(this).m();for(var O=0,S=1,b=0;b<this.g.length;b++){var I=this.i(b);O+=(0<=I?I:4294967296+I)*S,S*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if($(this))return"0";if(it(this))return"-"+Z(this).toString(O);for(var S=v(Math.pow(O,6)),b=this,I="";;){var M=zt(b,S).g;b=Et(b,M.j(S));var P=((0<b.g.length?b.g[0]:b.h)>>>0).toString(O);if(b=M,$(b))return P+I;for(;6>P.length;)P="0"+P;I=P+I}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function $(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function it(O){return O.h==-1}s.l=function(O){return O=Et(this,O),it(O)?-1:$(O)?0:1};function Z(O){for(var S=O.g.length,b=[],I=0;I<S;I++)b[I]=~O.g[I];return new d(b,~O.h).add(V)}s.abs=function(){return it(this)?Z(this):this},s.add=function(O){for(var S=Math.max(this.g.length,O.g.length),b=[],I=0,M=0;M<=S;M++){var P=I+(this.i(M)&65535)+(O.i(M)&65535),w=(P>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);I=w>>>16,P&=65535,w&=65535,b[M]=w<<16|P}return new d(b,b[b.length-1]&-2147483648?-1:0)};function Et(O,S){return O.add(Z(S))}s.j=function(O){if($(this)||$(O))return D;if(it(this))return it(O)?Z(this).j(Z(O)):Z(Z(this).j(O));if(it(O))return Z(this.j(Z(O)));if(0>this.l(G)&&0>O.l(G))return v(this.m()*O.m());for(var S=this.g.length+O.g.length,b=[],I=0;I<2*S;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<O.g.length;M++){var P=this.i(I)>>>16,w=this.i(I)&65535,ne=O.i(M)>>>16,Qt=O.i(M)&65535;b[2*I+2*M]+=w*Qt,gt(b,2*I+2*M),b[2*I+2*M+1]+=P*Qt,gt(b,2*I+2*M+1),b[2*I+2*M+1]+=w*ne,gt(b,2*I+2*M+1),b[2*I+2*M+2]+=P*ne,gt(b,2*I+2*M+2)}for(I=0;I<S;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=S;I<2*S;I++)b[I]=0;return new d(b,0)};function gt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function ct(O,S){this.g=O,this.h=S}function zt(O,S){if($(S))throw Error("division by zero");if($(O))return new ct(D,D);if(it(O))return S=zt(Z(O),S),new ct(Z(S.g),Z(S.h));if(it(S))return S=zt(O,Z(S)),new ct(Z(S.g),S.h);if(30<O.g.length){if(it(O)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var b=V,I=S;0>=I.l(O);)b=nt(b),I=nt(I);var M=ut(b,1),P=ut(I,1);for(I=ut(I,2),b=ut(b,2);!$(I);){var w=P.add(I);0>=w.l(O)&&(M=M.add(b),P=w),I=ut(I,1),b=ut(b,1)}return S=Et(O,M.j(S)),new ct(M,S)}for(M=D;0<=O.l(S);){for(b=Math.max(1,Math.floor(O.m()/S.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),P=v(b),w=P.j(S);it(w)||0<w.l(O);)b-=I,P=v(b),w=P.j(S);$(P)&&(P=V),M=M.add(P),O=Et(O,w)}return new ct(M,O)}s.A=function(O){return zt(this,O).h},s.and=function(O){for(var S=Math.max(this.g.length,O.g.length),b=[],I=0;I<S;I++)b[I]=this.i(I)&O.i(I);return new d(b,this.h&O.h)},s.or=function(O){for(var S=Math.max(this.g.length,O.g.length),b=[],I=0;I<S;I++)b[I]=this.i(I)|O.i(I);return new d(b,this.h|O.h)},s.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),b=[],I=0;I<S;I++)b[I]=this.i(I)^O.i(I);return new d(b,this.h^O.h)};function nt(O){for(var S=O.g.length+1,b=[],I=0;I<S;I++)b[I]=O.i(I)<<1|O.i(I-1)>>>31;return new d(b,O.h)}function ut(O,S){var b=S>>5;S%=32;for(var I=O.g.length-b,M=[],P=0;P<I;P++)M[P]=0<S?O.i(P+b)>>>S|O.i(P+b+1)<<32-S:O.i(P+b);return new d(M,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Jv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Or=d}).apply(typeof E_<"u"?E_:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wv,hl,tE,pc,Ld,eE,nE,iE;(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var p=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in p))break t;p=p[k]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,k={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function D(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function V(u,m,p){return V=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:D,V.apply(null,arguments)}function G(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,k,q){for(var W=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)W[Mt-2]=arguments[Mt];return m.prototype[k].apply(T,W)}}function it(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function Z(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(y(T)){const k=u.length||0,q=T.length||0;u.length=k+q;for(let W=0;W<q;W++)u[k+W]=T[W]}else u.push(T)}}class Et{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function gt(u){return/^[\s\xa0]*$/.test(u)}function ct(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function zt(u){return zt[" "](u),u}zt[" "]=function(){};var nt=ct().indexOf("Gecko")!=-1&&!(ct().toLowerCase().indexOf("webkit")!=-1&&ct().indexOf("Edge")==-1)&&!(ct().indexOf("Trident")!=-1||ct().indexOf("MSIE")!=-1)&&ct().indexOf("Edge")==-1;function ut(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function O(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let p,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(p in T)u[p]=T[p];for(let q=0;q<b.length;q++)p=b[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function M(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function P(u){g.setTimeout(()=>{throw u},0)}function w(){var u=xt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ne{constructor(){this.h=this.g=null}add(m,p){const T=Qt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var Qt=new Et(()=>new j,u=>u.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ot=!1,xt=new ne,C=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(Y)}};var Y=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){P(p)}var m=Qt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Rt(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(nt){t:{try{zt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}$(Rt,J);var vt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function zn(u,m,p,T,k){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=k,this.key=++Jt,this.da=this.fa=!1}function Ki(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function hi(u){this.src=u,this.g={},this.h=0}hi.prototype.add=function(u,m,p,T,k){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var W=Gr(u,m,T,k);return-1<W?(m=u[W],p||(m.fa=!1)):(m=new zn(m,this.src,q,!!T,k),m.fa=p,u.push(m)),m};function Hr(u,m){var p=m.type;if(p in u.g){var T=u.g[p],k=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=k)&&Array.prototype.splice.call(T,k,1),q&&(Ki(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Gr(u,m,p,T){for(var k=0;k<u.length;++k){var q=u[k];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return k}return-1}var Fr="closure_lm_"+(1e6*Math.random()|0),to={};function Bl(u,m,p,T,k){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Bl(u,m[q],p,T,k);return null}return p=ql(p),u&&u[Ce]?u.K(m,p,v(T)?!!T.capture:!1,k):gn(u,m,p,!1,T,k)}function gn(u,m,p,T,k,q){if(!m)throw Error("Invalid event type");var W=v(k)?!!k.capture:!!k,Mt=zs(u);if(Mt||(u[Fr]=Mt=new hi(u)),p=Mt.add(m,p,T,W,q),p.proxy)return p;if(T=fh(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ht||(k=W),k===void 0&&(k=!1),u.addEventListener(m.toString(),T,k);else if(u.attachEvent)u.attachEvent(Qr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function fh(){function u(p){return m.call(u.src,u.listener,p)}const m=dh;return u}function eo(u,m,p,T,k){if(Array.isArray(m))for(var q=0;q<m.length;q++)eo(u,m[q],p,T,k);else T=v(T)?!!T.capture:!!T,p=ql(p),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=Gr(q,p,T,k),-1<p&&(Ki(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=zs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Gr(m,p,T,k)),(p=-1<u?m[u]:null)&&Ls(p))}function Ls(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])Hr(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Qr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=zs(m))?(Hr(p,u),p.h==0&&(p.src=null,m[Fr]=null)):Ki(u)}}}function Qr(u){return u in to?to[u]:to[u]="on"+u}function dh(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&Ls(u),u=p.call(T,m)}return u}function zs(u){return u=u[Fr],u instanceof hi?u:null}var no="__closure_events_fn_"+(1e9*Math.random()>>>0);function ql(u){return typeof u=="function"?u:(u[no]||(u[no]=function(m){return u.handleEvent(m)}),u[no])}function oe(){et.call(this),this.i=new hi(this),this.M=this,this.F=null}$(oe,et),oe.prototype[Ce]=!0,oe.prototype.removeEventListener=function(u,m,p,T){eo(this,u,m,p,T)};function Ht(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var k=m;m=new J(T,u),I(m,k)}if(k=!0,p)for(var q=p.length-1;0<=q;q--){var W=m.g=p[q];k=an(W,T,!0,m)&&k}if(W=m.g=u,k=an(W,T,!0,m)&&k,k=an(W,T,!1,m)&&k,p)for(q=0;q<p.length;q++)W=m.g=p[q],k=an(W,T,!1,m)&&k}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Ki(p[T]);delete u.g[m],u.h--}}this.F=null},oe.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},oe.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function an(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==p){var Mt=W.listener,Ae=W.ha||W.src;W.fa&&Hr(u.i,W),k=Mt.call(Ae,T)!==!1&&k}}return k&&!T.defaultPrevented}function He(u,m,p){if(typeof u=="function")p&&(u=V(u,p));else if(u&&typeof u.handleEvent=="function")u=V(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function jl(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,jl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class mh extends et{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:jl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kr(u){et.call(this),this.h=u,this.g={}}$(Kr,et);var Yr=[];function Xr(u){ut(u.g,function(m,p){this.g.hasOwnProperty(p)&&Ls(m)},u),u.g={}}Kr.prototype.N=function(){Kr.aa.N.call(this),Xr(this)},Kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=g.JSON.stringify,Bs=g.JSON.parse,$r=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function io(){}io.prototype.h=null;function ro(u){return u.h||(u.h=u.i())}function so(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){J.call(this,"d")}$(di,J);function ao(){J.call(this,"c")}$(ao,J);var Bn={},oo=null;function Yi(){return oo=oo||new oe}Bn.La="serverreachability";function qs(u){J.call(this,Bn.La,u)}$(qs,J);function Xi(u){const m=Yi();Ht(m,new qs(m))}Bn.STAT_EVENT="statevent";function Hl(u,m){J.call(this,Bn.STAT_EVENT,u),this.stat=m}$(Hl,J);function ie(u){const m=Yi();Ht(m,new Hl(m,u))}Bn.Ma="timingevent";function Te(u,m){J.call(this,Bn.Ma,u),this.size=m}$(Te,J);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function lo(u,m,p,T,k,q){u.info(function(){if(u.g)if(q)for(var W="",Mt=q.split("&"),Ae=0;Ae<Mt.length;Ae++){var Pt=Mt[Ae].split("=");if(1<Pt.length){var Ne=Pt[0];Pt=Pt[1];var Se=Ne.split("_");W=2<=Se.length&&Se[1]=="type"?W+(Ne+"="+Pt+"&"):W+(Ne+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+p+`
`+W})}function gh(u,m,p,T,k,q,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+p+`
`+q+" "+W})}function $i(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Zr(u,p)+(T?" "+T:"")})}function Gl(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Zr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var q=k[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<k.length;W++)k[W]=""}}}}return Nn(p)}catch{return m}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function jn(){}$(jn,io),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},qn=new jn;function $e(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var uo={},js={};function On(u,m,p){u.L=1,u.v=ns(on(m)),u.m=p,u.P=!0,gi(u,null)}function gi(u,m){u.F=Date.now(),Jr(u),u.A=on(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),po(p.i,"t",T),u.C=0,p=u.j.J,u.h=new ce,u.g=au(u.j,p?m:null,!u.m),0<u.O&&(u.M=new mh(V(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Yr[0]=k.toString()),k=Yr);for(var q=0;q<k.length;q++){var W=Bl(p,k[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Xi(),lo(u.i,u.u,u.A,u.l,u.R,u.m)}$e.prototype.ca=function(u){u=u.target;const m=this.M;m&&En(u)==3?m.j():this.Y(u)},$e.prototype.Y=function(u){try{if(u==this.g)t:{const Se=En(this.g);var m=this.g.Ba();const Si=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||Jl(this.g)))){this.J||Se!=4||m==7||(m==8||0>=Si?Xi(3):Xi(2)),Ji(this);var p=this.g.Z();this.X=p;e:if(Fl(this)){var T=Jl(this.g);u="";var k=T.length,q=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Hn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==k-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,gh(this.i,this.u,this.A,this.l,this.R,Se,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Ae=this.g;if((Mt=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gt(Mt)){var Pt=Mt;break e}}Pt=null}if(p=Pt)$i(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wr(this,p);else{this.o=!1,this.s=3,ie(12),Ue(this),Hn(this);break t}}if(this.P){p=!0;let ke;for(;!this.J&&this.C<W.length;)if(ke=Ql(this,W),ke==js){Se==4&&(this.s=4,ie(14),p=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(ke==uo){this.s=4,ie(15),$i(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else $i(this.i,this.l,ke,null),Wr(this,ke);if(Fl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||W.length!=0||this.h.h||(this.s=1,ie(16),p=!1),this.o=this.o&&p,!p)$i(this.i,this.l,W,"[Invalid Chunked Response]"),Ue(this),Hn(this);else if(0<W.length&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.ba&&!Ne.M&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),cs(Ne),Ne.M=!0,ie(11))}}else $i(this.i,this.l,W,null),Wr(this,W);Se==4&&Ue(this),this.o&&!this.J&&(Se==4?iu(this.j,this):(this.o=!1,Jr(this)))}else Eh(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,ie(12)):(this.s=0,ie(13)),Ue(this),Hn(this)}}}catch{}finally{}};function Fl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ql(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?js:(p=Number(m.substring(p,T)),isNaN(p)?uo:(T+=1,T+p>m.length?js:(m=m.slice(T,T+p),u.C=T+p,m)))}$e.prototype.cancel=function(){this.J=!0,Ue(this)};function Jr(u){u.S=Date.now()+u.I,Kl(u,u.I)}function Kl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(V(u.ba,u),m)}function Ji(u){u.B&&(g.clearTimeout(u.B),u.B=null)}$e.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Gl(this.i,this.A),this.L!=2&&(Xi(),ie(17)),Ue(this),this.s=2,Hn(this)):Kl(this,this.S-u)};function Hn(u){u.j.G==0||u.J||iu(u.j,u)}function Ue(u){Ji(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Xr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Wr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||co(p.h,u))){if(!u.K&&co(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)ta(p),Js(p);else break t;To(p),ie(18)}}else p.za=k[1],0<p.za-p.T&&37500>k[2]&&p.F&&p.v==0&&!p.C&&(p.C=me(V(p.Za,p),6e3));if(1>=Gs(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ai(p,11)}else if((u.K||p.g==u)&&ta(p),!gt(m))for(k=p.Da.g.parse(m),m=0;m<k.length;m++){let Pt=k[m];if(p.T=Pt[0],Pt=Pt[1],p.G==2)if(Pt[0]=="c"){p.K=Pt[1],p.ia=Pt[2];const Ne=Pt[3];Ne!=null&&(p.la=Ne,p.j.info("VER="+p.la));const Se=Pt[4];Se!=null&&(p.Aa=Se,p.j.info("SVER="+p.Aa));const Si=Pt[5];Si!=null&&typeof Si=="number"&&0<Si&&(T=1.5*Si,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const ke=u.g;if(ke){const $n=ke.g?ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var q=T.h;q.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Fs(q,q.h),q.h=null))}if(T.D){const So=ke.g?ke.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(T.ya=So,Kt(T.I,T.D,So))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=u;if(T.qa=su(T,T.J?T.ia:null,T.W),W.K){Ze(T.h,W);var Mt=W,Ae=T.L;Ae&&(Mt.I=Ae),Mt.B&&(Ji(Mt),Jr(Mt)),T.g=W}else eu(T);0<p.i.length&&Ws(p)}else Pt[0]!="stop"&&Pt[0]!="close"||Ai(p,7);else p.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Ai(p,7):vo(p):Pt[0]!="noop"&&p.l&&p.l.ta(Pt),p.v=0)}}Xi(4)}catch{}}var Yl=class{constructor(u,m){this.g=u,this.map=m}};function pi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Gs(u){return u.h?1:u.g?u.g.size:0}function co(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Fs(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}pi.prototype.cancel=function(){if(this.i=ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ho(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return it(u.i)}function ph(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Qs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function fo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Qs(u),T=ph(u),k=T.length,q=0;q<k;q++)m.call(void 0,T[q],p&&p[q],u)}var ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yh(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),k=null;if(0<=T){var q=u[p].substring(0,T);k=u[p].substring(T+1)}else q=u[p];m(q,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,es(this,u.j),this.o=u.o,this.g=u.g,Wi(this,u.s),this.l=u.l;var m=u.i,p=new _i;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),yi(this,p),this.m=u.m}else u&&(m=String(u).match(ts))?(this.h=!1,es(this,m[1]||"",!0),this.o=yn(m[2]||""),this.g=yn(m[3]||"",!0),Wi(this,m[4]),this.l=yn(m[5]||"",!0),yi(this,m[6]||"",!0),this.m=yn(m[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(is(m,mo,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(is(m,mo,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(is(p,p.charAt(0)=="/"?_h:go,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",is(p,Ks)),u.join("")};function on(u){return new ge(u)}function es(u,m,p){u.j=p?yn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Wi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function yi(u,m,p){m instanceof _i?(u.i=m,$l(u.i,u.h)):(p||(m=is(m,vh)),u.i=new _i(m,u.h))}function Kt(u,m,p){u.i.set(m,p)}function ns(u){return Kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function yn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function is(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Xl),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Xl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var mo=/[#\/\?@]/g,go=/[#\?:]/g,_h=/[#\?]/g,vh=/[#\?@]/g,Ks=/#/g;function _i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&yh(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=_i.prototype,s.add=function(u,m){_n(this),this.i=null,u=Gn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function vi(u,m){_n(u),m=Gn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ei(u,m){return _n(u),m=Gn(u,m),u.g.has(m)}s.forEach=function(u,m){_n(this),this.g.forEach(function(p,T){p.forEach(function(k){u.call(m,k,T,this)},this)},this)},s.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const k=u[T];for(let q=0;q<k.length;q++)p.push(m[T])}return p},s.V=function(u){_n(this);let m=[];if(typeof u=="string")Ei(this,u)&&(m=m.concat(this.g.get(Gn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},s.set=function(u,m){return _n(this),this.i=null,u=Gn(this,u),Ei(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function po(u,m,p){vi(u,m),0<p.length&&(u.i=null,u.g.set(Gn(u,m),it(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var k=q;W[T]!==""&&(k+="="+encodeURIComponent(String(W[T]))),u.push(k)}}return this.i=u.join("&")};function Gn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function $l(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(p,T){var k=T.toLowerCase();T!=k&&(vi(this,T),po(this,k,p))},u)),u.j=m}function rs(u,m){const p=new pn;if(g.Image){const T=new Image;T.onload=G(vn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=G(vn,p,"TestLoadImage: error",!1,m,T),T.onabort=G(vn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(vn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vn(u,m){const p=new pn,T=new AbortController,k=setTimeout(()=>{T.abort(),vn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(k),q.ok?vn(p,"TestPingServer: ok",!0,m):vn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),vn(p,"TestPingServer: error",!1,m)})}function vn(u,m,p,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(p)}catch{}}function ss(){this.g=new $r}function Fn(u,m,p){const T=p||"";try{fo(u,function(k,q){let W=k;v(k)&&(W=Nn(k)),m.push(T+q+"="+encodeURIComponent(W))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function tr(u){this.l=u.Ub||null,this.j=u.eb||!1}$(tr,io),tr.prototype.g=function(){return new Ti(this.l,this.j)},tr.prototype.i=function(u){return function(){return u}}({});function Ti(u,m){oe.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(Ti,oe),s=Ti.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Kn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function yo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Kn(this),this.readyState==3&&yo(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},s.Qa=function(u){this.g&&(this.response=u,Qn(this))},s.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _o(u){let m="";return ut(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=_o(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Kt(u,m,p))}function qt(u){oe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(qt,oe);var Ys=/^https?$/i,as=["POST","PUT"];s=qt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?ro(this.o):ro(qn),this.g.onreadystatechange=V(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Zl(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)p.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(as,m,void 0))||T||k||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of p)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Zl(this,q)}};function Zl(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Xs(u),Yn(u)}function Xs(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Yn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?$s(this):this.bb())},s.bb=function(){$s(this)};function $s(u){if(u.h&&typeof d<"u"&&(!u.v[1]||En(u)!=4||u.Z()!=2)){if(u.u&&En(u)==4)He(u.Ea,0,u);else if(Ht(u,"readystatechange"),En(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var k=String(u.D).match(ts)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),T=!Ys.test(k?k.toLowerCase():"")}p=T}if(p)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var q=2<En(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Xs(u)}}finally{Yn(u)}}}}function Yn(u,m){if(u.g){os(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{p.onreadystatechange=T}catch{}}}function os(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function En(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Bs(m)}};function Jl(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Eh(u){const m={};u=(u.g&&2<=En(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(gt(u[T]))continue;var p=M(u[T]);const k=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[k]||[];m[k]=q,q.push(p)}O(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Zs(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ls("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ls("baseRetryDelayMs",5e3,u),this.cb=ls("retryDelaySeedMs",1e4,u),this.Wa=ls("forwardChannelMaxRetries",2,u),this.wa=ls("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(u&&u.concurrentRequestLimit),this.Da=new ss,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Zs.prototype,s.la=8,s.G=1,s.connect=function(u,m,p,T){ie(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=su(this,null,this.W),Ws(this)};function vo(u){if(Wl(u),u.G==3){var m=u.U++,p=on(u.I);if(Kt(p,"SID",u.K),Kt(p,"RID",m),Kt(p,"TYPE","terminate"),us(u,p),m=new $e(u,u.j,m),m.L=2,m.v=ns(on(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=au(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Jr(m)}ru(u)}function Js(u){u.g&&(cs(u),u.g.cancel(),u.g=null)}function Wl(u){Js(u),u.u&&(g.clearTimeout(u.u),u.u=null),ta(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ws(u){if(!Hs(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||C(),ot||(tt(),ot=!0),xt.add(m,u),u.B=0}}function Th(u,m){return Gs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(V(u.Ga,u,m),Ao(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new $e(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),I(q,this.S)):q=this.S),this.m!==null||this.O||(k.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=tu(this,k,m),p=on(this.I),Kt(p,"RID",u),Kt(p,"CVER",22),this.D&&Kt(p,"X-HTTP-Session-Id",this.D),us(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(_o(q)))+"&"+m:this.m&&De(p,this.m,q)),Fs(this.h,k),this.Ua&&Kt(p,"TYPE","init"),this.P?(Kt(p,"$req",m),Kt(p,"SID","null"),k.T=!0,On(k,p,null)):On(k,p,m),this.G=2}}else this.G==3&&(u?Eo(this,u):this.i.length==0||Hs(this.h)||Eo(this))};function Eo(u,m){var p;m?p=m.l:p=u.U++;const T=on(u.I);Kt(T,"SID",u.K),Kt(T,"RID",p),Kt(T,"AID",u.T),us(u,T),u.m&&u.o&&De(T,u.m,u.o),p=new $e(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=tu(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Fs(u.h,p),On(p,T,m)}function us(u,m){u.H&&ut(u.H,function(p,T){Kt(m,T,p)}),u.l&&fo({},function(p,T){Kt(m,T,p)})}function tu(u,m,p){p=Math.min(u.i.length,p);var T=u.l?V(u.l.Na,u.l,u):null;t:{var k=u.i;let q=-1;for(;;){const W=["count="+p];q==-1?0<p?(q=k[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let Mt=!0;for(let Ae=0;Ae<p;Ae++){let Pt=k[Ae].g;const Ne=k[Ae].map;if(Pt-=q,0>Pt)q=Math.max(0,k[Ae].g-100),Mt=!1;else try{Fn(Ne,W,"req"+Pt+"_")}catch{T&&T(Ne)}}if(Mt){T=W.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function eu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||C(),ot||(tt(),ot=!0),xt.add(m,u),u.v=0}}function To(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(V(u.Fa,u),Ao(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(V(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ie(10),Js(this),nu(this))};function cs(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function nu(u){u.g=new $e(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);Kt(m,"RID","rpc"),Kt(m,"SID",u.K),Kt(m,"AID",u.T),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Kt(m,"TO",u.ja),Kt(m,"TYPE","xmlhttp"),us(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=ns(on(m)),p.m=null,p.P=!0,gi(p,u)}s.Za=function(){this.C!=null&&(this.C=null,Js(this),To(this),ie(19))};function ta(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function iu(u,m){var p=null;if(u.g==m){ta(u),cs(u),u.g=null;var T=2}else if(co(u.h,m))p=m.D,Ze(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;T=Yi(),Ht(T,new Te(T,p)),Ws(u)}else eu(u);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&Th(u,m)||T==2&&To(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),k){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function Ao(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var p=V(u.fb,u),T=u.Xa;const k=!T;T=new ge(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||es(T,"https"),ns(T),k?rs(T.toString(),p):Vn(T.toString(),p)}else ie(2);u.G=0,u.l&&u.l.sa(m),ru(u),Wl(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ie(2)):(this.j.info("Failed to ping google.com"),ie(1))};function ru(u){if(u.G=0,u.ka=[],u.l){const m=ho(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function su(u,m,p){var T=p instanceof ge?on(p):new ge(p);if(T.g!="")m&&(T.g=m+"."+T.g),Wi(T,T.s);else{var k=g.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var q=new ge(null);T&&es(q,T),m&&(q.g=m),k&&Wi(q,k),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Kt(T,p,m),Kt(T,"VER",u.la),us(u,T),T}function au(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new tr({eb:p})):new qt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}s=ou.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function ea(){}ea.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){oe.call(this),this.g=new Zs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!gt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!gt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Xn(this)}$(Je,oe),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){vo(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Nn(u),u=p);m.i.push(new Yl(m.Ya++,u)),m.G==3&&Ws(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,vo(this.g),delete this.g,Je.aa.N.call(this)};function lu(u){di.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(lu,di);function uu(){ao.call(this),this.status=1}$(uu,ao);function Xn(u){this.g=u}$(Xn,ou),Xn.prototype.ua=function(){Ht(this.g,"a")},Xn.prototype.ta=function(u){Ht(this.g,new lu(u))},Xn.prototype.sa=function(u){Ht(this.g,new uu)},Xn.prototype.ra=function(){Ht(this.g,"b")},ea.prototype.createWebChannel=ea.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,iE=function(){return new ea},nE=function(){return Yi()},eE=Bn,Ld={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,pc=Zi,mi.COMPLETE="complete",tE=mi,so.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",oe.prototype.listen=oe.prototype.K,hl=so,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,Wv=qt}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const T_="@firebase/firestore",A_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new sm("@firebase/firestore");function Na(){return Os.logLevel}function rt(s,...t){if(Os.logLevel<=Nt.DEBUG){const i=t.map(lm);Os.debug(`Firestore (${Xa}): ${s}`,...i)}}function ji(s,...t){if(Os.logLevel<=Nt.ERROR){const i=t.map(lm);Os.error(`Firestore (${Xa}): ${s}`,...i)}}function qa(s,...t){if(Os.logLevel<=Nt.WARN){const i=t.map(lm);Os.warn(`Firestore (${Xa}): ${s}`,...i)}}function lm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,rE(s,a,i)}function rE(s,t,i){let a=`FIRESTORE (${Xa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ji(a),new Error(a)}function jt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||rE(t,l,a)}function At(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Qi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class O1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ke.UNAUTHENTICATED))}shutdown(){}}class V1{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class M1{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){jt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let h=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Vr,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const y=h;t.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},g=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>g(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Vr)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(jt(typeof a.accessToken=="string",31837,{l:a}),new sE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return jt(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class P1{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U1{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new P1(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class S_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k1{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,kn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){jt(this.o===void 0,3512);const a=h=>{h.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>a(h))};const l=h=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new S_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new S_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=x1(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<i&&(a+=t.charAt(l[h]%62))}return a}}function Ot(s,t){return s<t?-1:s>t?1:0}function zd(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),h=t.charAt(a);if(l!==h)return bd(l)===bd(h)?Ot(l,h):bd(l)?1:-1}return Ot(s.length,t.length)}const L1=55296,z1=57343;function bd(s){const t=s.charCodeAt(0);return t>=L1&&t<=z1}function ja(s,t,i){return s.length===t.length&&s.every((a,l)=>i(a,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="__name__";class ni{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return ni.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ni?t.forEach(a=>{i.push(a)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const h=ni.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Ot(t.length,i.length)}static compareSegments(t,i){const a=ni.isNumericId(t),l=ni.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?ni.extractNumericId(t).compare(ni.extractNumericId(i)):zd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Or.fromString(t.substring(4,t.length-2))}}class te extends ni{construct(t,i,a){return new te(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new at(X.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(l=>l.length>0))}return new te(i)}static emptyPath(){return new te([])}}const B1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends ni{construct(t,i,a){return new qe(t,i,a)}static isValidIdentifier(t){return B1.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b_}static keyField(){return new qe([b_])}static fromServerFormat(t){const i=[];let a="",l=0;const h=()=>{if(a.length===0)throw new at(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new at(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new at(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(h(),l++)}if(h(),d)throw new at(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(te.fromString(t))}static fromName(t){return new ft(te.fromString(t).popFirst(5))}static empty(){return new ft(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new te(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(s,t,i){if(!i)throw new at(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function q1(s,t,i,a){if(t===!0&&a===!0)throw new at(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function R_(s){if(!ft.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function w_(s){if(ft.isDocumentKey(s))throw new at(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function oE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function cm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":pt(12329,{type:typeof s})}function Mr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new at(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=cm(s);throw new at(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(s,t){const i={typeString:s};return t&&(i.value=t),i}function Vl(s,t){if(!oE(s))throw new at(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new at(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_=-62135596800,C_=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*C_);return new ee(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<I_)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C_}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Vl(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-I_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:ve("string",ee._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ee(0,0))}static max(){return new Tt(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=-1;function j1(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(a===1e9?new ee(i+1,0):new ee(i,a));return new kr(l,ft.empty(),t)}function H1(s){return new kr(s.readTime,s.key,Al)}class kr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new kr(Tt.min(),ft.empty(),Al)}static max(){return new kr(Tt.max(),ft.empty(),Al)}}function G1(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,t.documentKey),i!==0?i:Ot(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==F1)throw s;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new K((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof K?i:K.resolve(i)}catch(i){return K.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):K.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):K.reject(i)}static resolve(t){return new K((i,a)=>{i(t)})}static reject(t){return new K((i,a)=>{a(t)})}static waitFor(t){return new K((i,a)=>{let l=0,h=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++h,d&&h===l&&i()},y=>a(y))}),d=!0,h===l&&i()})}static or(t){let i=K.resolve(!1);for(const a of t)i=i.next(l=>l?K.resolve(l):a());return i}static forEach(t,i){const a=[];return t.forEach((l,h)=>{a.push(i.call(this,l,h))}),this.waitFor(a)}static mapArray(t,i){return new K((a,l)=>{const h=t.length,d=new Array(h);let g=0;for(let y=0;y<h;y++){const v=y;i(t[v]).next(A=>{d[v]=A,++g,g===h&&a(d)},A=>l(A))}})}static doWhile(t,i){return new K((a,l)=>{const h=()=>{t()===!0?i().next(()=>{h()},l):a()};h()})}}function K1(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Za(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Kc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=-1;function Yc(s){return s==null}function Cc(s){return s===0&&1/s==-1/0}function Y1(s){return typeof s=="number"&&Number.isInteger(s)&&!Cc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="";function X1(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=D_(t)),t=$1(s.get(i),t);return D_(t)}function $1(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const h=s.charAt(l);switch(h){case"\0":i+="";break;case lE:i+="";break;default:i+=h}}return i}function D_(s){return s+lE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Ps(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function uE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(t,i){this.comparator=t,this.root=i||Be.EMPTY}insert(t,i){return new ae(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(t){return new ae(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Be.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,a)=>(t(i,a),!1))}toString(){const t=[];return this.inorderTraversal((i,a)=>(t.push(`${i}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hc(this.root,t,this.comparator,!0)}}class hc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?a(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Be{constructor(t,i,a,l,h){this.key=t,this.value=i,this.color=a??Be.RED,this.left=l??Be.EMPTY,this.right=h??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,h){return new Be(t??this.key,i??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,a),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Be.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,l,h){return this}insert(t,i,a){return new Be(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(t){this.comparator=t,this.data=new ae(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,a)=>(t(i),!1))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new O_(this.data.getIterator())}getIteratorFrom(t){return new O_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(a=>{i=i.add(a)}),i}isEqual(t){if(!(t instanceof Ie)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Ie(this.comparator);return i.data=t,i}}class O_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new xn([])}unionWith(t){let i=new Ie(qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new xn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ja(this.fields,t.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new cE("Invalid base64 string: "+h):h}}(t);return new je(i)}static fromUint8Array(t){const i=function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h}(t);return new je(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}je.EMPTY_BYTE_STRING=new je("");const Z1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(s){if(jt(!!s,39018),typeof s=="string"){let t=0;const i=Z1.exec(s);if(jt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:de(s.seconds),nanos:de(s.nanos)}}function de(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Lr(s){return typeof s=="string"?je.fromBase64String(s):je.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="server_timestamp",fE="__type__",dE="__previous_value__",mE="__local_write_time__";function fm(s){return(s?.mapValue?.fields||{})[fE]?.stringValue===hE}function Xc(s){const t=s.mapValue.fields[dE];return fm(t)?Xc(t):t}function Sl(s){const t=xr(s.mapValue.fields[mE].timestampValue);return new ee(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(t,i,a,l,h,d,g,y,v,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=A}}const Dc="(default)";class bl{constructor(t,i){this.projectId=t,this.database=i||Dc}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===Dc}isEqual(t){return t instanceof bl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="__type__",W1="__max__",fc={mapValue:{}},pE="__vector__",Nc="value";function zr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?fm(s)?4:eb(s)?9007199254740991:tb(s)?10:11:pt(28295,{value:s})}function ui(s,t){if(s===t)return!0;const i=zr(s);if(i!==zr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Sl(s).isEqual(Sl(t));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=xr(l.timestampValue),g=xr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,t);case 5:return s.stringValue===t.stringValue;case 6:return function(l,h){return Lr(l.bytesValue).isEqual(Lr(h.bytesValue))}(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return function(l,h){return de(l.geoPointValue.latitude)===de(h.geoPointValue.latitude)&&de(l.geoPointValue.longitude)===de(h.geoPointValue.longitude)}(s,t);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return de(l.integerValue)===de(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=de(l.doubleValue),g=de(h.doubleValue);return d===g?Cc(d)===Cc(g):isNaN(d)&&isNaN(g)}return!1}(s,t);case 9:return ja(s.arrayValue.values||[],t.arrayValue.values||[],ui);case 10:case 11:return function(l,h){const d=l.mapValue.fields||{},g=h.mapValue.fields||{};if(N_(d)!==N_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!ui(d[y],g[y])))return!1;return!0}(s,t);default:return pt(52216,{left:s})}}function Rl(s,t){return(s.values||[]).find(i=>ui(i,t))!==void 0}function Ha(s,t){if(s===t)return 0;const i=zr(s),a=zr(t);if(i!==a)return Ot(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(s.booleanValue,t.booleanValue);case 2:return function(h,d){const g=de(h.integerValue||h.doubleValue),y=de(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1}(s,t);case 3:return V_(s.timestampValue,t.timestampValue);case 4:return V_(Sl(s),Sl(t));case 5:return zd(s.stringValue,t.stringValue);case 6:return function(h,d){const g=Lr(h),y=Lr(d);return g.compareTo(y)}(s.bytesValue,t.bytesValue);case 7:return function(h,d){const g=h.split("/"),y=d.split("/");for(let v=0;v<g.length&&v<y.length;v++){const A=Ot(g[v],y[v]);if(A!==0)return A}return Ot(g.length,y.length)}(s.referenceValue,t.referenceValue);case 8:return function(h,d){const g=Ot(de(h.latitude),de(d.latitude));return g!==0?g:Ot(de(h.longitude),de(d.longitude))}(s.geoPointValue,t.geoPointValue);case 9:return M_(s.arrayValue,t.arrayValue);case 10:return function(h,d){const g=h.fields||{},y=d.fields||{},v=g[Nc]?.arrayValue,A=y[Nc]?.arrayValue,D=Ot(v?.values?.length||0,A?.values?.length||0);return D!==0?D:M_(v,A)}(s.mapValue,t.mapValue);case 11:return function(h,d){if(h===fc.mapValue&&d===fc.mapValue)return 0;if(h===fc.mapValue)return 1;if(d===fc.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),v=d.fields||{},A=Object.keys(v);y.sort(),A.sort();for(let D=0;D<y.length&&D<A.length;++D){const V=zd(y[D],A[D]);if(V!==0)return V;const G=Ha(g[y[D]],v[A[D]]);if(G!==0)return G}return Ot(y.length,A.length)}(s.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function V_(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ot(s,t);const i=xr(s),a=xr(t),l=Ot(i.seconds,a.seconds);return l!==0?l:Ot(i.nanos,a.nanos)}function M_(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const h=Ha(i[l],a[l]);if(h)return h}return Ot(i.length,a.length)}function Ga(s){return Bd(s)}function Bd(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=xr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return Lr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ft.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",l=!0;for(const h of i.values||[])l?l=!1:a+=",",a+=Bd(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of a)h?h=!1:l+=",",l+=`${d}:${Bd(i.fields[d])}`;return l+"}"}(s.mapValue):pt(61005,{value:s})}function yc(s){switch(zr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Xc(s);return t?16+yc(t):16;case 5:return 2*s.stringValue.length;case 6:return Lr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,h)=>l+yc(h),0)}(s.arrayValue);case 10:case 11:return function(a){let l=0;return Ps(a.fields,(h,d)=>{l+=h.length+yc(d)}),l}(s.mapValue);default:throw pt(13486,{value:s})}}function qd(s){return!!s&&"integerValue"in s}function dm(s){return!!s&&"arrayValue"in s}function P_(s){return!!s&&"nullValue"in s}function U_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function _c(s){return!!s&&"mapValue"in s}function tb(s){return(s?.mapValue?.fields||{})[gE]?.stringValue===pE}function pl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Ps(s.mapValue.fields,(i,a)=>t.mapValue.fields[i]=pl(a)),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=pl(s.arrayValue.values[i]);return t}return{...s}}function eb(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===W1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.value=t}static empty(){return new Cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!_c(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=pl(i)}setAll(t){let i=qe.emptyPath(),a={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=pl(d):l.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,l)}delete(t){const i=this.field(t.popLast());_c(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ui(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];_c(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Ps(i,(l,h)=>t[l]=h);for(const l of a)delete t[l]}clone(){return new Cn(pl(this.value))}}function yE(s){const t=[];return Ps(s.fields,(i,a)=>{const l=new qe([i]);if(_c(a)){const h=yE(a.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)}),new xn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t,i,a,l,h,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ye(t,0,Tt.min(),Tt.min(),Tt.min(),Cn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ye(t,1,i,Tt.min(),a,l,0)}static newNoDocument(t,i){return new Ye(t,2,i,Tt.min(),Tt.min(),Cn.empty(),0)}static newUnknownDocument(t,i){return new Ye(t,3,i,Tt.min(),Tt.min(),Cn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,i){this.position=t,this.inclusive=i}}function k_(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const h=t[l],d=s.position[l];if(h.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=Ha(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function x_(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ui(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(t,i="asc"){this.field=t,this.dir=i}}function nb(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{}class we extends _E{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new rb(t,i,a):i==="array-contains"?new ob(t,a):i==="in"?new lb(t,a):i==="not-in"?new ub(t,a):i==="array-contains-any"?new cb(t,a):new we(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new sb(t,a):new ab(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ha(i,this.value)):i!==null&&zr(this.value)===zr(i)&&this.matchesComparison(Ha(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends _E{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ci(t,i)}matches(t){return vE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vE(s){return s.op==="and"}function EE(s){return ib(s)&&vE(s)}function ib(s){for(const t of s.filters)if(t instanceof ci)return!1;return!0}function jd(s){if(s instanceof we)return s.field.canonicalString()+s.op.toString()+Ga(s.value);if(EE(s))return s.filters.map(t=>jd(t)).join(",");{const t=s.filters.map(i=>jd(i)).join(",");return`${s.op}(${t})`}}function TE(s,t){return s instanceof we?function(a,l){return l instanceof we&&a.op===l.op&&a.field.isEqual(l.field)&&ui(a.value,l.value)}(s,t):s instanceof ci?function(a,l){return l instanceof ci&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((h,d,g)=>h&&TE(d,l.filters[g]),!0):!1}(s,t):void pt(19439)}function AE(s){return s instanceof we?function(i){return`${i.field.canonicalString()} ${i.op} ${Ga(i.value)}`}(s):s instanceof ci?function(i){return i.op.toString()+" {"+i.getFilters().map(AE).join(" ,")+"}"}(s):"Filter"}class rb extends we{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class sb extends we{constructor(t,i){super(t,"in",i),this.keys=SE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class ab extends we{constructor(t,i){super(t,"not-in",i),this.keys=SE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function SE(s,t){return(t.arrayValue?.values||[]).map(i=>ft.fromName(i.referenceValue))}class ob extends we{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return dm(i)&&Rl(i.arrayValue,this.value)}}class lb extends we{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Rl(this.value.arrayValue,i)}}class ub extends we{constructor(t,i){super(t,"not-in",i)}matches(t){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Rl(this.value.arrayValue,i)}}class cb extends we{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Rl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t,i=null,a=[],l=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function L_(s,t=null,i=[],a=[],l=null,h=null,d=null){return new hb(s,t,i,a,l,h,d)}function mm(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(a=>jd(a)).join(","),i+="|ob:",i+=t.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Yc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Ga(a)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Ga(a)).join(",")),t.Te=i}return t.Te}function gm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!nb(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!TE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!x_(s.startAt,t.startAt)&&x_(s.endAt,t.endAt)}function Hd(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(t,i=null,a=[],l=[],h=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fb(s,t,i,a,l,h,d,g){return new $c(s,t,i,a,l,h,d,g)}function Zc(s){return new $c(s)}function z_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function db(s){return s.collectionGroup!==null}function yl(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ie(qe.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new Vc(h,a))}),i.has(qe.keyField().canonicalString())||t.Ie.push(new Vc(qe.keyField(),a))}return t.Ie}function ii(s){const t=At(s);return t.Ee||(t.Ee=mb(t,yl(s))),t.Ee}function mb(s,t){if(s.limitType==="F")return L_(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new Vc(l.field,h)});const i=s.endAt?new Oc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Oc(s.startAt.position,s.startAt.inclusive):null;return L_(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function Gd(s,t,i){return new $c(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Jc(s,t){return gm(ii(s),ii(t))&&s.limitType===t.limitType}function bE(s){return`${mm(ii(s))}|lt:${s.limitType}`}function Oa(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(l=>AE(l)).join(", ")}]`),Yc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(l=>Ga(l)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(l=>Ga(l)).join(",")),`Target(${a})`}(ii(s))}; limitType=${s.limitType})`}function Wc(s,t){return t.isFoundDocument()&&function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ft.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,t)&&function(a,l){for(const h of yl(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(s,t)&&function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0}(s,t)&&function(a,l){return!(a.startAt&&!function(d,g,y){const v=k_(d,g,y);return d.inclusive?v<=0:v<0}(a.startAt,yl(a),l)||a.endAt&&!function(d,g,y){const v=k_(d,g,y);return d.inclusive?v>=0:v>0}(a.endAt,yl(a),l))}(s,t)}function gb(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function RE(s){return(t,i)=>{let a=!1;for(const l of yl(s)){const h=pb(l,t,i);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function pb(s,t,i){const a=s.field.isKeyField()?ft.comparator(t.key,i.key):function(h,d,g){const y=d.data.field(h),v=g.data.field(h);return y!==null&&v!==null?Ha(y,v):pt(42886)}(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ps(this.inner,(i,a)=>{for(const[l,h]of a)t(l,h)})}isEmpty(){return uE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=new ae(ft.comparator);function Hi(){return yb}const wE=new ae(ft.comparator);function fl(...s){let t=wE;for(const i of s)t=t.insert(i.key,i);return t}function IE(s){let t=wE;return s.forEach((i,a)=>t=t.insert(i,a.overlayedDocument)),t}function Is(){return _l()}function CE(){return _l()}function _l(){return new Us(s=>s.toString(),(s,t)=>s.isEqual(t))}const _b=new ae(ft.comparator),vb=new Ie(ft.comparator);function Vt(...s){let t=vb;for(const i of s)t=t.add(i);return t}const Eb=new Ie(Ot);function Tb(){return Eb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(t)?"-0":t}}function DE(s){return{integerValue:""+s}}function Ab(s,t){return Y1(t)?DE(t):pm(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this._=void 0}}function Sb(s,t,i){return s instanceof Mc?function(l,h){const d={fields:{[fE]:{stringValue:hE},[mE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&fm(h)&&(h=Xc(h)),h&&(d.fields[dE]=h),{mapValue:d}}(i,t):s instanceof wl?OE(s,t):s instanceof Il?VE(s,t):function(l,h){const d=NE(l,h),g=B_(d)+B_(l.Ae);return qd(d)&&qd(l.Ae)?DE(g):pm(l.serializer,g)}(s,t)}function bb(s,t,i){return s instanceof wl?OE(s,t):s instanceof Il?VE(s,t):i}function NE(s,t){return s instanceof Pc?function(a){return qd(a)||function(h){return!!h&&"doubleValue"in h}(a)}(t)?t:{integerValue:0}:null}class Mc extends th{}class wl extends th{constructor(t){super(),this.elements=t}}function OE(s,t){const i=ME(t);for(const a of s.elements)i.some(l=>ui(l,a))||i.push(a);return{arrayValue:{values:i}}}class Il extends th{constructor(t){super(),this.elements=t}}function VE(s,t){let i=ME(t);for(const a of s.elements)i=i.filter(l=>!ui(l,a));return{arrayValue:{values:i}}}class Pc extends th{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function B_(s){return de(s.integerValue||s.doubleValue)}function ME(s){return dm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Rb(s,t){return s.field.isEqual(t.field)&&function(a,l){return a instanceof wl&&l instanceof wl||a instanceof Il&&l instanceof Il?ja(a.elements,l.elements,ui):a instanceof Pc&&l instanceof Pc?ui(a.Ae,l.Ae):a instanceof Mc&&l instanceof Mc}(s.transform,t.transform)}class wb{constructor(t,i){this.version=t,this.transformResults=i}}class Bi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Bi}static exists(t){return new Bi(void 0,t)}static updateTime(t){return new Bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class eh{}function PE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new kE(s.key,Bi.none()):new Ml(s.key,s.data,Bi.none());{const i=s.data,a=Cn.empty();let l=new Ie(qe.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),l=l.add(h)}return new ks(s.key,a,new xn(l.toArray()),Bi.none())}}function Ib(s,t,i){s instanceof Ml?function(l,h,d){const g=l.value.clone(),y=j_(l.fieldTransforms,h,d.transformResults);g.setAll(y),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,t,i):s instanceof ks?function(l,h,d){if(!vc(l.precondition,h))return void h.convertToUnknownDocument(d.version);const g=j_(l.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(UE(l)),y.setAll(g),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(s,t,i):function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function vl(s,t,i,a){return s instanceof Ml?function(h,d,g,y){if(!vc(h.precondition,d))return g;const v=h.value.clone(),A=H_(h.fieldTransforms,y,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,t,i,a):s instanceof ks?function(h,d,g,y){if(!vc(h.precondition,d))return g;const v=H_(h.fieldTransforms,y,d),A=d.data;return A.setAll(UE(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(D=>D.field))}(s,t,i,a):function(h,d,g){return vc(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,t,i)}function Cb(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),h=NE(a.transform,l||null);h!=null&&(i===null&&(i=Cn.empty()),i.set(a.field,h))}return i||null}function q_(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ja(a,l,(h,d)=>Rb(h,d))}(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Ml extends eh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ks extends eh{constructor(t,i,a,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function UE(s){const t=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}}),t}function j_(s,t,i){const a=new Map;jt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const h=s[l],d=h.transform,g=t.data.field(h.field);a.set(h.field,bb(d,g,i[l]))}return a}function H_(s,t,i){const a=new Map;for(const l of s){const h=l.transform,d=i.data.field(l.field);a.set(l.field,Sb(h,d,t))}return a}class kE extends eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Db extends eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&Ib(h,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=vl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=vl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=CE();return this.mutations.forEach(l=>{const h=t.get(l.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(l.key)?null:g;const y=PE(d,g);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Tt.min())}),a}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Vt())}isEqual(t){return this.batchId===t.batchId&&ja(this.mutations,t.mutations,(i,a)=>q_(i,a))&&ja(this.baseMutations,t.baseMutations,(i,a)=>q_(i,a))}}class ym{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){jt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=function(){return _b}();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,a[d].version);return new ym(t,i,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,kt;function Mb(s){switch(s){case X.OK:return pt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return pt(15467,{code:s})}}function xE(s){if(s===void 0)return ji("GRPC error has no .code"),X.UNKNOWN;switch(s){case _e.OK:return X.OK;case _e.CANCELLED:return X.CANCELLED;case _e.UNKNOWN:return X.UNKNOWN;case _e.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case _e.INTERNAL:return X.INTERNAL;case _e.UNAVAILABLE:return X.UNAVAILABLE;case _e.UNAUTHENTICATED:return X.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case _e.NOT_FOUND:return X.NOT_FOUND;case _e.ALREADY_EXISTS:return X.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return X.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case _e.ABORTED:return X.ABORTED;case _e.OUT_OF_RANGE:return X.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return X.UNIMPLEMENTED;case _e.DATA_LOSS:return X.DATA_LOSS;default:return pt(39323,{code:s})}}(kt=_e||(_e={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub=new Or([4294967295,4294967295],0);function G_(s){const t=Pb().encode(s),i=new Jv;return i.update(t),new Uint8Array(i.digest())}function F_(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Or([i,a],0),new Or([l,h],0)]}class _m{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new dl(`Invalid padding: ${i}`);if(a<0)throw new dl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new dl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Or.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Or.fromNumber(a)));return l.compare(Ub)===1&&(l=new Or([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=G_(t),[a,l]=F_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new _m(h,l,i);return a.forEach(g=>d.insert(g)),d}insert(t){if(this.ge===0)return;const i=G_(t),[a,l]=F_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,l,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,i,a,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Pl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new nh(Tt.min(),l,new ae(Ot),Hi(),Vt())}}class Pl{constructor(t,i,a,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Pl(a,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class LE{constructor(t,i){this.targetId=t,this.Ce=i}}class zE{constructor(t,i,a=je.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Q_{constructor(){this.ve=0,this.Fe=K_(),this.Me=je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:pt(38017,{changeType:h})}}),new Pl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=K_()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kb{constructor(t){this.Ge=t,this.ze=new Map,this.je=Hi(),this.Je=dc(),this.He=dc(),this.Ye=new ae(Ot)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach((a,l)=>{this.rt(l)&&i(l)})}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const h=l.target;if(Hd(h))if(a===0){const d=new ft(h.path);this.et(i,d,Ye.newNoDocument(d,Tt.min()))}else jt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=i;let d,g;try{d=Lr(a).toUint8Array()}catch(y){if(y instanceof cE)return qa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new _m(d,l,h)}catch(y){return qa(y instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach(h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.et(i,h,null),l++)}),l}Tt(t){const i=new Map;this.ze.forEach((h,d)=>{const g=this.ot(d);if(g){if(h.current&&Hd(g.target)){const y=new ft(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Ye.newNoDocument(y,t))}h.Be&&(i.set(d,h.ke()),h.qe())}});let a=Vt();this.He.forEach((h,d)=>{let g=!0;d.forEachWhile(y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.je.forEach((h,d)=>d.setReadTime(t));const l=new nh(t,i,this.Ye,this.je,a);return this.je=Hi(),this.Je=dc(),this.He=dc(),this.Ye=new ae(Ot),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Q_,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ie(Ot),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ie(Ot),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Q_),this.Ge.getRemoteKeysForTarget(t).forEach(i=>{this.et(t,i,null)})}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function dc(){return new ae(ft.comparator)}function K_(){return new ae(ft.comparator)}const xb={asc:"ASCENDING",desc:"DESCENDING"},Lb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zb={and:"AND",or:"OR"};class Bb{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Fd(s,t){return s.useProto3Json||Yc(t)?t:{value:t}}function Uc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function BE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function qb(s,t){return Uc(s,t.toTimestamp())}function ri(s){return jt(!!s,49232),Tt.fromTimestamp(function(i){const a=xr(i);return new ee(a.seconds,a.nanos)}(s))}function vm(s,t){return Qd(s,t).canonicalString()}function Qd(s,t){const i=function(l){return new te(["projects",l.projectId,"databases",l.database])}(s).child("documents");return t===void 0?i:i.child(t)}function qE(s){const t=te.fromString(s);return jt(QE(t),10190,{key:t.toString()}),t}function Kd(s,t){return vm(s.databaseId,t.path)}function Rd(s,t){const i=qE(t);if(i.get(1)!==s.databaseId.projectId)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(HE(i))}function jE(s,t){return vm(s.databaseId,t)}function jb(s){const t=qE(s);return t.length===4?te.emptyPath():HE(t)}function Yd(s){return new te(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function HE(s){return jt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Y_(s,t,i){return{name:Kd(s,t),fields:i.value.mapValue.fields}}function Hb(s,t){let i;if("targetChange"in t){t.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:pt(39313,{state:v})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(jt(A===void 0||typeof A=="string",58123),je.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),je.fromUint8Array(A||new Uint8Array))}(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const A=v.code===void 0?X.UNKNOWN:xE(v.code);return new at(A,v.message||"")}(d);i=new zE(a,l,h,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Rd(s,a.document.name),h=ri(a.document.updateTime),d=a.document.createTime?ri(a.document.createTime):Tt.min(),g=new Cn({mapValue:{fields:a.document.fields}}),y=Ye.newFoundDocument(l,h,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Ec(v,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Rd(s,a.document),h=a.readTime?ri(a.readTime):Tt.min(),d=Ye.newNoDocument(l,h),g=a.removedTargetIds||[];i=new Ec([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Rd(s,a.document),h=a.removedTargetIds||[];i=new Ec([],h,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,d=new Vb(l,h),g=a.targetId;i=new LE(g,d)}}return i}function Gb(s,t){let i;if(t instanceof Ml)i={update:Y_(s,t.key,t.value)};else if(t instanceof kE)i={delete:Kd(s,t.key)};else if(t instanceof ks)i={update:Y_(s,t.key,t.data),updateMask:Wb(t.fieldMask)};else{if(!(t instanceof Db))return pt(16599,{Vt:t.type});i={verify:Kd(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Mc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Il)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Pc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw pt(20930,{transform:d.transform})}(0,a))),t.precondition.isNone||(i.currentDocument=function(l,h){return h.updateTime!==void 0?{updateTime:qb(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:pt(27497)}(s,t.precondition)),i}function Fb(s,t){return s&&s.length>0?(jt(t!==void 0,14353),s.map(i=>function(l,h){let d=l.updateTime?ri(l.updateTime):ri(h);return d.isEqual(Tt.min())&&(d=ri(h)),new wb(d,l.transformResults||[])}(i,t))):[]}function Qb(s,t){return{documents:[jE(s,t.path)]}}function Kb(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=jE(s,l);const h=function(v){if(v.length!==0)return FE(ci.create(v,"and"))}(t.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(V){return{field:Va(V.field),direction:$b(V.dir)}}(A))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Fd(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ft:i,parent:l}}function Yb(s){let t=jb(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){jt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];i.where&&(h=function(D){const V=GE(D);return V instanceof ci&&EE(V)?V.getFilters():[V]}(i.where));let d=[];i.orderBy&&(d=function(D){return D.map(V=>function($){return new Vc(Ma($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(V))}(i.orderBy));let g=null;i.limit&&(g=function(D){let V;return V=typeof D=="object"?D.value:D,Yc(V)?null:V}(i.limit));let y=null;i.startAt&&(y=function(D){const V=!!D.before,G=D.values||[];return new Oc(G,V)}(i.startAt));let v=null;return i.endAt&&(v=function(D){const V=!D.before,G=D.values||[];return new Oc(G,V)}(i.endAt)),fb(t,l,d,h,g,"F",y,v)}function Xb(s,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function GE(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ma(i.unaryFilter.field);return we.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ma(i.unaryFilter.field);return we.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Ma(i.unaryFilter.field);return we.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ma(i.unaryFilter.field);return we.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(s):s.fieldFilter!==void 0?function(i){return we.create(Ma(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ci.create(i.compositeFilter.filters.map(a=>GE(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(i.compositeFilter.op))}(s):pt(30097,{filter:s})}function $b(s){return xb[s]}function Zb(s){return Lb[s]}function Jb(s){return zb[s]}function Va(s){return{fieldPath:s.canonicalString()}}function Ma(s){return qe.fromServerFormat(s.fieldPath)}function FE(s){return s instanceof we?function(i){if(i.op==="=="){if(U_(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NAN"}};if(P_(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(U_(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NOT_NAN"}};if(P_(i.value))return{unaryFilter:{field:Va(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(i.field),op:Zb(i.op),value:i.value}}}(s):s instanceof ci?function(i){const a=i.getFilters().map(l=>FE(l));return a.length===1?a[0]:{compositeFilter:{op:Jb(i.op),filters:a}}}(s):pt(54877,{filter:s})}function Wb(s){const t=[];return s.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function QE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(t,i,a,l,h=Tt.min(),d=Tt.min(),g=je.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Ir(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t){this.yt=t}}function eR(s){const t=Yb({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Gd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.Cn=new iR}addToCollectionParentIndex(t,i){return this.Cn.add(i),K.resolve()}getCollectionParents(t,i){return K.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return K.resolve()}deleteFieldIndex(t,i){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,i){return K.resolve()}getDocumentsMatchingTarget(t,i){return K.resolve(null)}getIndexType(t,i){return K.resolve(0)}getFieldIndexes(t,i){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,i){return K.resolve(kr.min())}getMinOffsetFromCollectionGroup(t,i){return K.resolve(kr.min())}updateCollectionGroup(t,i,a){return K.resolve()}updateIndexEntries(t,i){return K.resolve()}}class iR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ie(te.comparator),h=!l.has(a);return this.index[i]=l.add(a),h}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ie(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KE=41943040;class rn{static withCacheSize(t){return new rn(t,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(KE,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Fa(0)}static cr(){return new Fa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="LruGarbageCollector",rR=1048576;function Z_([s,t],[i,a]){const l=Ot(s,i);return l===0?Ot(t,a):l}class sR{constructor(t){this.Ir=t,this.buffer=new Ie(Z_),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Z_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class aR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt($_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Za(i)?rt($_,"Ignoring IndexedDB error during garbage collection: ",i):await $a(i)}await this.Vr(3e5)})}}class oR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next(a=>Math.floor(i/100*a))}nthSequenceNumber(t,i){if(i===0)return K.resolve(Kc.ce);const a=new sR(i);return this.mr.forEachTarget(t,l=>a.Ar(l.sequenceNumber)).next(()=>this.mr.pr(t,l=>a.Ar(l))).next(()=>a.maxValue)}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(X_)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X_):this.yr(t,i))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,h,d,g,y,v;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),l=this.params.maximumSequenceNumbersToCollect):l=D,d=Date.now(),this.nthSequenceNumber(t,l))).next(D=>(a=D,g=Date.now(),this.removeTargets(t,a,i))).next(D=>(h=D,y=Date.now(),this.removeOrphanedDocuments(t,a))).next(D=>(v=Date.now(),Na()<=Nt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${D} documents in `+(v-y)+`ms
Total Duration: ${v-A}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:D})))}}function lR(s,t){return new oR(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.changes=new Us(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ye.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?K.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(a!==null&&vl(a.mutation,l,xn.empty(),ee.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.getLocalViewOfDocuments(t,a,Vt()).next(()=>a))}getLocalViewOfDocuments(t,i,a=Vt()){const l=Is();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,a).next(h=>{let d=fl();return h.forEach((g,y)=>{d=d.insert(g,y.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const a=Is();return this.populateOverlays(t,a,i).next(()=>this.computeViews(t,i,a,Vt()))}populateOverlays(t,i,a){const l=[];return a.forEach(h=>{i.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(t,l).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,a,l){let h=Hi();const d=_l(),g=function(){return _l()}();return i.forEach((y,v)=>{const A=a.get(v.key);l.has(v.key)&&(A===void 0||A.mutation instanceof ks)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),vl(A.mutation,v,A.mutation.getFieldMask(),ee.now())):d.set(v.key,xn.empty())}),this.recalculateAndSaveOverlays(t,h).next(y=>(y.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>g.set(v,new cR(A,d.get(v)??null))),g))}recalculateAndSaveOverlays(t,i){const a=_l();let l=new ae((d,g)=>d-g),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(y=>{const v=i.get(y);if(v===null)return;let A=a.get(y)||xn.empty();A=g.applyToLocalView(v,A),a.set(y,A);const D=(l.get(g.batchId)||Vt()).add(y);l=l.insert(g.batchId,D)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,A=y.value,D=CE();A.forEach(V=>{if(!h.has(V)){const G=PE(i.get(V),a.get(V));G!==null&&D.set(V,G),h=h.add(V)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,D))}return K.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,i,a,l){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):db(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next(h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-h.size):K.resolve(Is());let g=Al,y=h;return d.next(v=>K.forEach(v,(A,D)=>(g<D.largestBatchId&&(g=D.largestBatchId),h.get(A)?K.resolve():this.remoteDocumentCache.getEntry(t,A).next(V=>{y=y.insert(A,V)}))).next(()=>this.populateOverlays(t,v,h)).next(()=>this.computeViews(t,y,v,Vt())).next(A=>({batchId:g,changes:IE(A)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next(a=>{let l=fl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const h=i.collectionGroup;let d=fl();return this.indexManager.getCollectionParents(t,h).next(g=>K.forEach(g,y=>{const v=function(D,V){return new $c(V,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt)}(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,a,l).next(A=>{A.forEach((D,V)=>{d=d.insert(D,V)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,h,l))).next(d=>{h.forEach((y,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Ye.newInvalidDocument(A)))});let g=fl();return d.forEach((y,v)=>{const A=h.get(y);A!==void 0&&vl(A.mutation,v,xn.empty(),ee.now()),Wc(i,v)&&(g=g.insert(y,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return K.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:ri(l.createTime)}}(i)),K.resolve()}getNamedQuery(t,i){return K.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,function(l){return{name:l.name,query:eR(l.bundledQuery),readTime:ri(l.readTime)}}(i)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.overlays=new ae(ft.comparator),this.qr=new Map}getOverlay(t,i){return K.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Is();return K.forEach(i,l=>this.getOverlay(t,l).next(h=>{h!==null&&a.set(l,h)})).next(()=>a)}saveOverlays(t,i,a){return a.forEach((l,h)=>{this.St(t,i,h)}),K.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(a)),K.resolve()}getOverlaysForCollection(t,i,a){const l=Is(),h=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&y.largestBatchId>a&&l.set(y.getKey(),y)}return K.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let h=new ae((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=Is(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=Is(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=l)););return K.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Ob(i,a));let h=this.qr.get(i);h===void 0&&(h=Vt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.Qr=new Ie(Pe.$r),this.Ur=new Ie(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach(a=>this.addReference(a,i))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach(a=>this.removeReference(a,i))}jr(t){const i=new ft(new te([])),a=new Pe(i,t),l=new Pe(i,t+1),h=[];return this.Ur.forEachInRange([a,l],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new te([])),a=new Pe(i,t),l=new Pe(i,t+1);let h=Vt();return this.Ur.forEachInRange([a,l],d=>{h=h.add(d.key)}),h}containsKey(t){const i=new Pe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Ot(t.Yr,i.Yr)}static Kr(t,i){return Ot(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ie(Pe.$r)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Nb(h,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Pe(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return K.resolve(d)}lookupMutationBatch(t,i){return K.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),h=l<0?0:l;return K.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?hm:this.tr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,l],d=>{const g=this.Xr(d.Yr);h.push(g)}),K.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ie(Ot);return i.forEach(l=>{const h=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],g=>{a=a.add(g.Yr)})}),K.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let h=a;ft.isDocumentKey(h)||(h=h.child(""));const d=new Pe(new ft(h),0);let g=new Ie(Ot);return this.Zr.forEachWhile(y=>{const v=y.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(g=g.add(y.Yr)),!0)},d),K.resolve(this.ti(g))}ti(t){const i=[];return t.forEach(a=>{const l=this.Xr(a);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return K.forEach(i.mutations,l=>{const h=new Pe(l.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Zr=a})}ir(t){}containsKey(t,i){const a=new Pe(i,0),l=this.Zr.firstAfterOrEqual(a);return K.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t){this.ri=t,this.docs=function(){return new ae(ft.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),h=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return K.resolve(a?a.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(t,i){let a=Hi();return i.forEach(l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Ye.newInvalidDocument(l))}),K.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let h=Hi();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:A}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||G1(H1(A),a)<=0||(l.has(A.key)||Wc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return K.resolve(h)}getAllFromCollectionGroup(t,i,a,l){pt(9500)}ii(t,i){return K.forEach(this.docs,a=>i(a))}newChangeBuffer(t){return new yR(this)}getSize(t){return K.resolve(this.size)}}class yR extends uR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)}),K.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t){this.persistence=t,this.si=new Us(i=>mm(i),gm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Em,this.targetCount=0,this.ai=Fa.ur()}forEachTarget(t,i){return this.si.forEach((a,l)=>i(l)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),K.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Fa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,K.resolve()}updateTargetData(t,i){return this.Pr(i),K.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,i,a){let l=0;const h=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),K.waitFor(h).next(()=>l)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return K.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),K.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach(d=>{h.push(l.markPotentiallyOrphaned(t,d))}),K.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),K.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return K.resolve(a)}containsKey(t,i){return K.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t,i){this.ui={},this.overlays={},this.ci=new Kc(0),this.li=!1,this.li=!0,this.hi=new mR,this.referenceDelegate=t(this),this.Pi=new _R(this),this.indexManager=new nR,this.remoteDocumentCache=function(l){return new pR(l)}(a=>this.referenceDelegate.Ti(a)),this.serializer=new tR(i),this.Ii=new fR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new dR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new gR(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new vR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next(h=>this.referenceDelegate.di(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ai(t,i){return K.or(Object.values(this.ui).map(a=>()=>a.containsKey(t,i)))}}class vR extends Q1{constructor(t){super(),this.currentSequenceNumber=t}}class Tm{constructor(t){this.persistence=t,this.Ri=new Em,this.Vi=null}static mi(t){return new Tm(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),K.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),K.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),K.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach(l=>this.fi.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(h=>this.fi.add(h.toString()))}).next(()=>a.removeTargetData(t,i))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.fi,a=>{const l=ft.fromPath(a);return this.gi(t,l).next(h=>{h||i.removeEntry(l,Tt.min())})}).next(()=>(this.Vi=null,i.apply(t)))}updateLimboDocument(t,i){return this.gi(t,i).next(a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(t){return 0}gi(t,i){return K.or([()=>K.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class kc{constructor(t,i){this.persistence=t,this.pi=new Us(a=>X1(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=lR(this,i)}static mi(t,i){return new kc(t,i)}Ei(){}di(t){return K.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>i.next(l=>a+l))}wr(t){let i=0;return this.pr(t,a=>{i++}).next(()=>i)}pr(t,i){return K.forEach(this.pi,(a,l)=>this.br(t,a,l).next(h=>h?K.resolve():i(l)))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.ii(t,d=>this.br(t,d,i).next(g=>{g||(a++,h.removeEntry(d,Tt.min()))})).next(()=>h.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),K.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),K.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),K.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),K.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=yc(t.data.value)),i}br(t,i,a){return K.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return K.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Vt(),l=Vt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Am(t,i.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return hS()?8:K1(Xe())>0?6:4}()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const h={result:null};return this.ys(t,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(t,i,l,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new ER;return this.Ss(t,i,d).next(g=>{if(h.result=g,this.Vs)return this.bs(t,i,d,g.size)})}).next(()=>h.result)}bs(t,i,a,l){return a.documentReadCount<this.fs?(Na()<=Nt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Oa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),K.resolve()):(Na()<=Nt.DEBUG&&rt("QueryEngine","Query:",Oa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Na()<=Nt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Oa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ii(i))):K.resolve())}ys(t,i){if(z_(i))return K.resolve(null);let a=ii(i);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Gd(i,null,"F"),a=ii(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next(h=>{const d=Vt(...h);return this.ps.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,a).next(y=>{const v=this.Ds(i,g);return this.Cs(i,v,d,y.readTime)?this.ys(t,Gd(i,null,"F")):this.vs(t,v,i,y)}))})))}ws(t,i,a,l){return z_(i)||l.isEqual(Tt.min())?K.resolve(null):this.ps.getDocuments(t,a).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,l)?K.resolve(null):(Na()<=Nt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Oa(i)),this.vs(t,d,i,j1(l,Al)).next(g=>g))})}Ds(t,i){let a=new Ie(RE(t));return i.forEach((l,h)=>{Wc(t,h)&&(a=a.add(h))}),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,i,a){return Na()<=Nt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Oa(i)),this.ps.getDocumentsMatchingQuery(t,i,kr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="LocalStore",AR=3e8;class SR{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ae(Ot),this.xs=new Us(h=>mm(h),gm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new hR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ms))}}function bR(s,t,i,a){return new SR(s,t,i,a)}async function XE(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next(h=>(l=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let y=Vt();for(const v of l){d.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next(v=>({Ls:v,removedBatchIds:d,addedBatchIds:g}))})})}function RR(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(g,y,v,A){const D=v.batch,V=D.keys();let G=K.resolve();return V.forEach($=>{G=G.next(()=>A.getEntry(y,$)).next(it=>{const Z=v.docVersions.get($);jt(Z!==null,48541),it.version.compareTo(Z)<0&&(D.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),A.addEntry(it)))})}),G.next(()=>g.mutationQueue.removeMutationBatch(y,D))}(i,a,t,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let y=Vt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(y=y.add(g.batch.mutations[v].key));return y}(t))).next(()=>i.localDocuments.getDocuments(a,l))})}function $E(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Pi.getLastRemoteSnapshotVersion(i))}function wR(s,t){const i=At(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach((A,D)=>{const V=l.get(D);if(!V)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,D).next(()=>i.Pi.addMatchingKeys(h,A.addedDocuments,D)));let G=V.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(D)!==null?G=G.withResumeToken(je.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(D,G),function(it,Z,Et){return it.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=AR?!0:Et.addedDocuments.size+Et.modifiedDocuments.size+Et.removedDocuments.size>0}(V,G,A)&&g.push(i.Pi.updateTargetData(h,G))});let y=Hi(),v=Vt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(IR(h,d,t.documentUpdates).next(A=>{y=A.ks,v=A.qs})),!a.isEqual(Tt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next(D=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return K.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,y,v)).next(()=>y)}).then(h=>(i.Ms=l,h))}function IR(s,t,i){let a=Vt(),l=Vt();return i.forEach(h=>a=a.add(h)),t.getEntries(s,a).next(h=>{let d=Hi();return i.forEach((g,y)=>{const v=h.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):rt(Sm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)}),{ks:d,qs:l}})}function CR(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=hm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function DR(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return i.Pi.getTargetData(a,t).next(h=>h?(l=h,K.resolve(l)):i.Pi.allocateTargetId(a).next(d=>(l=new Ir(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a})}async function Xd(s,t,i){const a=At(s),l=a.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!Za(d))throw d;rt(Sm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function J_(s,t,i){const a=At(s);let l=Tt.min(),h=Vt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(y,v,A){const D=At(y),V=D.xs.get(A);return V!==void 0?K.resolve(D.Ms.get(V)):D.Pi.getTargetData(v,A)}(a,d,ii(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next(y=>{h=y})}).next(()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?h:Vt())).next(g=>(NR(a,gb(t),g),{documents:g,Qs:h})))}function NR(s,t,i){let a=s.Os.get(t)||Tt.min();i.forEach((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Os.set(t,a)}class W_{constructor(){this.activeTargetIds=Tb()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class OR{constructor(){this.Mo=new W_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new W_,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="ConnectivityMonitor";class ev{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(tv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(tv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function $d(){return mc===null?mc=function(){return 268435456+Math.round(2147483648*Math.random())}():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd="RestConnection",MR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class PR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Dc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,h){const d=$d(),g=this.zo(t,i.toUriEncodedString());rt(wd,`Sending RPC '${t}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,h);const{host:v}=new URL(g),A=Ka(v);return this.Jo(t,g,y,a,A).then(D=>(rt(wd,`Received RPC '${t}' ${d}: `,D),D),D=>{throw qa(wd,`RPC '${t}' ${d} failed with error: `,D,"url: ",g,"request:",a),D})}Ho(t,i,a,l,h,d){return this.Go(t,i,a,l,h)}jo(t,i,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>t[h]=l),a&&a.headers.forEach((l,h)=>t[h]=l)}zo(t,i){const a=MR[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class kR extends PR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,h){const d=$d();return new Promise((g,y)=>{const v=new Wv;v.setWithCredentials(!0),v.listenOnce(tE.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case pc.NO_ERROR:const D=v.getResponseJson();rt(Qe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(D)),g(D);break;case pc.TIMEOUT:rt(Qe,`RPC '${t}' ${d} timed out`),y(new at(X.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const V=v.getStatus();if(rt(Qe,`RPC '${t}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const $=G?.error;if($&&$.status&&$.message){const it=function(Et){const gt=Et.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(gt)>=0?gt:X.UNKNOWN}($.status);y(new at(it,$.message))}else y(new at(X.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new at(X.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{rt(Qe,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(l);rt(Qe,`RPC '${t}' ${d} sending request:`,l),v.send(i,"POST",A,a,15)})}T_(t,i,a){const l=$d(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=iE(),g=nE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=h.join("");rt(Qe,`Creating RPC '${t}' stream ${l}: ${A}`,y);const D=d.createWebChannel(A,y);this.I_(D);let V=!1,G=!1;const $=new UR({Yo:Z=>{G?rt(Qe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(V||(rt(Qe,`Opening RPC '${t}' stream ${l} transport.`),D.open(),V=!0),rt(Qe,`RPC '${t}' stream ${l} sending:`,Z),D.send(Z))},Zo:()=>D.close()}),it=(Z,Et,gt)=>{Z.listen(Et,ct=>{try{gt(ct)}catch(zt){setTimeout(()=>{throw zt},0)}})};return it(D,hl.EventType.OPEN,()=>{G||(rt(Qe,`RPC '${t}' stream ${l} transport opened.`),$.o_())}),it(D,hl.EventType.CLOSE,()=>{G||(G=!0,rt(Qe,`RPC '${t}' stream ${l} transport closed`),$.a_(),this.E_(D))}),it(D,hl.EventType.ERROR,Z=>{G||(G=!0,qa(Qe,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),$.a_(new at(X.UNAVAILABLE,"The operation could not be completed")))}),it(D,hl.EventType.MESSAGE,Z=>{if(!G){const Et=Z.data[0];jt(!!Et,16349);const gt=Et,ct=gt?.error||gt[0]?.error;if(ct){rt(Qe,`RPC '${t}' stream ${l} received error:`,ct);const zt=ct.status;let nt=function(S){const b=_e[S];if(b!==void 0)return xE(b)}(zt),ut=ct.message;nt===void 0&&(nt=X.INTERNAL,ut="Unknown error status: "+zt+" with message "+ct.message),G=!0,$.a_(new at(nt,ut)),D.close()}else rt(Qe,`RPC '${t}' stream ${l} received:`,Et),$.u_(Et)}}),it(g,eE.STAT_EVENT,Z=>{Z.stat===Ld.PROXY?rt(Qe,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Ld.NOPROXY&&rt(Qe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{$.__()},0),$}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(i=>i===t)}}function Id(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(s){return new Bb(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(t,i,a=1e3,l=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="PersistentStream";class JE{constructor(t,i,a,l,h,d,g,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(ji(i.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.D_===i&&this.G_(a,l)},a=>{t(()=>{const l=new at(X.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)})})}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo(()=>{a(()=>this.listener.Xo())}),this.stream.t_(()=>{a(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(l=>{a(()=>this.z_(l))}),this.stream.onMessage(l=>{a(()=>++this.F_==1?this.J_(l):this.onNext(l))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return rt(nv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget(()=>this.D_===t?i():(rt(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xR extends JE{constructor(t,i,a,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Hb(this.serializer,t),a=function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?ri(d.readTime):Tt.min()}(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Yd(this.serializer),i.addTarget=function(h,d){let g;const y=d.target;if(g=Hd(y)?{documents:Qb(h,y)}:{query:Kb(h,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=BE(h,d.resumeToken);const v=Fd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=Uc(h,d.snapshotVersion.toTimestamp());const v=Fd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const a=Xb(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Yd(this.serializer),i.removeTarget=t,this.q_(i)}}class LR extends JE{constructor(t,i,a,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return jt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,jt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){jt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Fb(t.writeResults,t.commitTime),a=ri(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Yd(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map(a=>Gb(this.serializer,a))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{}class BR extends zR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(t,Qd(i,a),l,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(X.UNKNOWN,h.toString())})}Ho(t,i,a,l,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(t,Qd(i,a),l,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(X.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class qR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ji(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="RemoteStore";class jR{constructor(t,i,a,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{a.enqueueAndForget(async()=>{xs(this)&&(rt(Vs,"Restarting streams for network reachability change."),await async function(y){const v=At(y);v.Ea.add(4),await Ul(v),v.Ra.set("Unknown"),v.Ea.delete(4),await rh(v)}(this))})}),this.Ra=new qR(a,l)}}async function rh(s){if(xs(s))for(const t of s.da)await t(!0)}async function Ul(s){for(const t of s.da)await t(!1)}function WE(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Im(i)?wm(i):Ja(i).O_()&&Rm(i,t))}function bm(s,t){const i=At(s),a=Ja(i);i.Ia.delete(t),a.O_()&&tT(i,t),i.Ia.size===0&&(a.O_()?a.L_():xs(i)&&i.Ra.set("Unknown"))}function Rm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ja(s).Y_(t)}function tT(s,t){s.Va.Ue(t),Ja(s).Z_(t)}function wm(s){s.Va=new kb({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Ja(s).start(),s.Ra.ua()}function Im(s){return xs(s)&&!Ja(s).x_()&&s.Ia.size>0}function xs(s){return At(s).Ea.size===0}function eT(s){s.Va=void 0}async function HR(s){s.Ra.set("Online")}async function GR(s){s.Ia.forEach((t,i)=>{Rm(s,t)})}async function FR(s,t){eT(s),Im(s)?(s.Ra.ha(t),wm(s)):s.Ra.set("Unknown")}async function QR(s,t,i){if(s.Ra.set("Online"),t instanceof zE&&t.state===2&&t.cause)try{await async function(l,h){const d=h.cause;for(const g of h.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))}(s,t)}catch(a){rt(Vs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await xc(s,a)}else if(t instanceof Ec?s.Va.Ze(t):t instanceof LE?s.Va.st(t):s.Va.tt(t),!i.isEqual(Tt.min()))try{const a=await $E(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const A=h.Ia.get(v);A&&h.Ia.set(v,A.withResumeToken(y.resumeToken,d))}}),g.targetMismatches.forEach((y,v)=>{const A=h.Ia.get(y);if(!A)return;h.Ia.set(y,A.withResumeToken(je.EMPTY_BYTE_STRING,A.snapshotVersion)),tT(h,y);const D=new Ir(A.target,y,v,A.sequenceNumber);Rm(h,D)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){rt(Vs,"Failed to raise snapshot:",a),await xc(s,a)}}async function xc(s,t,i){if(!Za(t))throw t;s.Ea.add(1),await Ul(s),s.Ra.set("Offline"),i||(i=()=>$E(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{rt(Vs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await rh(s)})}function nT(s,t){return t().catch(i=>xc(s,i,t))}async function sh(s){const t=At(s),i=Br(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:hm;for(;KR(t);)try{const l=await CR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,YR(t,l)}catch(l){await xc(t,l)}iT(t)&&rT(t)}function KR(s){return xs(s)&&s.Ta.length<10}function YR(s,t){s.Ta.push(t);const i=Br(s);i.O_()&&i.X_&&i.ea(t.mutations)}function iT(s){return xs(s)&&!Br(s).x_()&&s.Ta.length>0}function rT(s){Br(s).start()}async function XR(s){Br(s).ra()}async function $R(s){const t=Br(s);for(const i of s.Ta)t.ea(i.mutations)}async function ZR(s,t,i){const a=s.Ta.shift(),l=ym.from(a,t,i);await nT(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await sh(s)}async function JR(s,t){t&&Br(s).X_&&await async function(a,l){if(function(d){return Mb(d)&&d!==X.ABORTED}(l.code)){const h=a.Ta.shift();Br(a).B_(),await nT(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l)),await sh(a)}}(s,t),iT(s)&&rT(s)}async function iv(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),rt(Vs,"RemoteStore received new credentials");const a=xs(i);i.Ea.add(3),await Ul(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await rh(i)}async function WR(s,t){const i=At(s);t?(i.Ea.delete(2),await rh(i)):t||(i.Ea.add(2),await Ul(i),i.Ra.set("Unknown"))}function Ja(s){return s.ma||(s.ma=function(i,a,l){const h=At(i);return h.sa(),new xR(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(s.datastore,s.asyncQueue,{Xo:HR.bind(null,s),t_:GR.bind(null,s),r_:FR.bind(null,s),H_:QR.bind(null,s)}),s.da.push(async t=>{t?(s.ma.B_(),Im(s)?wm(s):s.Ra.set("Unknown")):(await s.ma.stop(),eT(s))})),s.ma}function Br(s){return s.fa||(s.fa=function(i,a,l){const h=At(i);return h.sa(),new LR(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:XR.bind(null,s),r_:JR.bind(null,s),ta:$R.bind(null,s),na:ZR.bind(null,s)}),s.da.push(async t=>{t?(s.fa.B_(),await sh(s)):(await s.fa.stop(),s.Ta.length>0&&(rt(Vs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))})),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(t,i,a,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,h){const d=Date.now()+a,g=new Cm(t,i,d,l,h);return g.start(a),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dm(s,t){if(ji("AsyncQueue",`${t}: ${s}`),Za(s))return new at(X.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{static emptySet(t){return new Ua(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=fl(),this.sortedSet=new ae(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,a)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ua)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ua;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.ga=new ae(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal((i,a)=>{t.push(a)}),t}}class Qa{constructor(t,i,a,l,h,d,g,y,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,l,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Qa(t,i,Ua.emptySet(i),d,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class ew{constructor(){this.queries=sv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),h=l.queries;l.queries=sv(),h.forEach((d,g)=>{for(const y of g.Sa)y.onError(a)})})(this,new at(X.ABORTED,"Firestore shutting down"))}}function sv(){return new Us(s=>bE(s),Jc)}async function sT(s,t){const i=At(s);let a=3;const l=t.query;let h=i.queries.get(l);h?!h.ba()&&t.Da()&&(a=2):(h=new tw,a=t.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(l,!0);break;case 1:h.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Dm(d,`Initialization of query '${Oa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Nm(i)}async function aT(s,t){const i=At(s),a=t.query;let l=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.Da()?0:1:!h.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function nw(s,t){const i=At(s);let a=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&Nm(i)}function iw(s,t,i){const a=At(s),l=a.queries.get(t);if(l)for(const h of l.Sa)h.onError(i);a.queries.delete(t)}function Nm(s){s.Ca.forEach(t=>{t.next()})}var Zd,av;(av=Zd||(Zd={})).Ma="default",av.Cache="cache";class oT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Qa(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Qa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Zd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(t){this.key=t}}class uT{constructor(t){this.key=t}}class rw{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=RE(t),this.tu=new Ua(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new rv,l=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,D)=>{const V=l.get(A),G=Wc(this.query,D)?D:null,$=!!V&&this.mutatedKeys.has(V.key),it=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;V&&G?V.data.isEqual(G.data)?$!==it&&(a.track({type:3,doc:G}),Z=!0):this.su(V,G)||(a.track({type:2,doc:G}),Z=!0,(y&&this.eu(G,y)>0||v&&this.eu(G,v)<0)&&(g=!0)):!V&&G?(a.track({type:0,doc:G}),Z=!0):V&&!G&&(a.track({type:1,doc:V}),Z=!0,(y||v)&&(g=!0)),Z&&(G?(d=d.add(G),h=it?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort((A,D)=>function(G,$){const it=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:Z})}};return it(G)-it($)}(A.type,D.type)||this.eu(A.doc,D.doc)),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new Qa(this.query,t.tu,h,d,t.mutatedKeys,y===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach(a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))});const i=[];return t.forEach(a=>{this.Xa.has(a)||i.push(new uT(a))}),this.Xa.forEach(a=>{t.has(a)||i.push(new lT(a))}),i}cu(t){this.Ya=t.Qs,this.Xa=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Qa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Om="SyncEngine";class sw{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class aw{constructor(t){this.key=t,this.hu=!1}}class ow{constructor(t,i,a,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Us(g=>bE(g),Jc),this.Iu=new Map,this.Eu=new Set,this.du=new ae(ft.comparator),this.Au=new Map,this.Ru=new Em,this.Vu={},this.mu=new Map,this.fu=Fa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lw(s,t,i=!0){const a=gT(s);let l;const h=a.Tu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.lu()):l=await cT(a,t,i,!0),l}async function uw(s,t){const i=gT(s);await cT(i,t,!0,!1)}async function cT(s,t,i,a){const l=await DR(s.localStore,ii(t)),h=l.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await cw(s,t,h,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&WE(s.remoteStore,l),g}async function cw(s,t,i,a,l){s.pu=(D,V,G)=>async function(it,Z,Et,gt){let ct=Z.view.ru(Et);ct.Cs&&(ct=await J_(it.localStore,Z.query,!1).then(({documents:O})=>Z.view.ru(O,ct)));const zt=gt&&gt.targetChanges.get(Z.targetId),nt=gt&&gt.targetMismatches.get(Z.targetId)!=null,ut=Z.view.applyChanges(ct,it.isPrimaryClient,zt,nt);return lv(it,Z.targetId,ut.au),ut.snapshot}(s,D,V,G);const h=await J_(s.localStore,t,!0),d=new rw(t,h.Qs),g=d.ru(h.documents),y=Pl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),v=d.applyChanges(g,s.isPrimaryClient,y);lv(s,i,v.au);const A=new sw(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),v.snapshot}async function hw(s,t,i){const a=At(s),l=a.Tu.get(t),h=a.Iu.get(l.targetId);if(h.length>1)return a.Iu.set(l.targetId,h.filter(d=>!Jc(d,t))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Xd(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),i&&bm(a.remoteStore,l.targetId),Jd(a,l.targetId)}).catch($a)):(Jd(a,l.targetId),await Xd(a.localStore,l.targetId,!0))}async function fw(s,t){const i=At(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),bm(i.remoteStore,a.targetId))}async function dw(s,t,i){const a=Ew(s);try{const l=await function(d,g){const y=At(d),v=ee.now(),A=g.reduce((G,$)=>G.add($.key),Vt());let D,V;return y.persistence.runTransaction("Locally write mutations","readwrite",G=>{let $=Hi(),it=Vt();return y.Ns.getEntries(G,A).next(Z=>{$=Z,$.forEach((Et,gt)=>{gt.isValidDocument()||(it=it.add(Et))})}).next(()=>y.localDocuments.getOverlayedDocuments(G,$)).next(Z=>{D=Z;const Et=[];for(const gt of g){const ct=Cb(gt,D.get(gt.key).overlayedDocument);ct!=null&&Et.push(new ks(gt.key,ct,yE(ct.value.mapValue),Bi.exists(!0)))}return y.mutationQueue.addMutationBatch(G,v,Et,g)}).next(Z=>{V=Z;const Et=Z.applyToLocalDocumentSet(D,it);return y.documentOverlayCache.saveOverlays(G,Z.batchId,Et)})}).then(()=>({batchId:V.batchId,changes:IE(D)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(d,g,y){let v=d.Vu[d.currentUser.toKey()];v||(v=new ae(Ot)),v=v.insert(g,y),d.Vu[d.currentUser.toKey()]=v}(a,l.batchId,i),await kl(a,l.changes),await sh(a.remoteStore)}catch(l){const h=Dm(l,"Failed to persist write");i.reject(h)}}async function hT(s,t){const i=At(s);try{const a=await wR(i.localStore,t);t.targetChanges.forEach((l,h)=>{const d=i.Au.get(h);d&&(jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?jt(d.hu,14607):l.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))}),await kl(i,a,t)}catch(a){await $a(a)}}function ov(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach((h,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const y=At(d);y.onlineState=g;let v=!1;y.queries.forEach((A,D)=>{for(const V of D.Sa)V.va(g)&&(v=!0)}),v&&Nm(y)}(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function mw(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),h=l&&l.key;if(h){let d=new ae(ft.comparator);d=d.insert(h,Ye.newNoDocument(h,Tt.min()));const g=Vt().add(h),y=new nh(Tt.min(),new Map,new ae(Ot),d,g);await hT(a,y),a.du=a.du.remove(h),a.Au.delete(t),Vm(a)}else await Xd(a.localStore,t,!1).then(()=>Jd(a,t,i)).catch($a)}async function gw(s,t){const i=At(s),a=t.batch.batchId;try{const l=await RR(i.localStore,t);dT(i,a,null),fT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await kl(i,l)}catch(l){await $a(l)}}async function pw(s,t,i){const a=At(s);try{const l=await function(d,g){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return y.mutationQueue.lookupMutationBatch(v,g).next(D=>(jt(D!==null,37113),A=D.keys(),y.mutationQueue.removeMutationBatch(v,D))).next(()=>y.mutationQueue.performConsistencyCheck(v)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>y.localDocuments.getDocuments(v,A))})}(a.localStore,t);dT(a,t,i),fT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await kl(a,l)}catch(l){await $a(l)}}function fT(s,t){(s.mu.get(t)||[]).forEach(i=>{i.resolve()}),s.mu.delete(t)}function dT(s,t,i){const a=At(s);let l=a.Vu[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(i?h.reject(i):h.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Jd(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach(a=>{s.Ru.containsKey(a)||mT(s,a)})}function mT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(bm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Vm(s))}function lv(s,t,i){for(const a of i)a instanceof lT?(s.Ru.addReference(a.key,t),yw(s,a)):a instanceof uT?(rt(Om,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||mT(s,a.key)):pt(19791,{wu:a})}function yw(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(rt(Om,"New document in limbo: "+i),s.Eu.add(a),Vm(s))}function Vm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new ft(te.fromString(t)),a=s.fu.next();s.Au.set(a,new aw(i)),s.du=s.du.insert(i,a),WE(s.remoteStore,new Ir(ii(Zc(i.path)),a,"TargetPurposeLimboResolution",Kc.ce))}}async function kl(s,t,i){const a=At(s),l=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach((g,y)=>{d.push(a.pu(y,t,i).then(v=>{if((v||i)&&a.isPrimaryClient){const A=v?!v.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(v){l.push(v);const A=Am.As(y.targetId,v);h.push(A)}}))}),await Promise.all(d),a.Pu.H_(l),await async function(y,v){const A=At(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>K.forEach(v,V=>K.forEach(V.Es,G=>A.persistence.referenceDelegate.addReference(D,V.targetId,G)).next(()=>K.forEach(V.ds,G=>A.persistence.referenceDelegate.removeReference(D,V.targetId,G)))))}catch(D){if(!Za(D))throw D;rt(Sm,"Failed to update sequence numbers: "+D)}for(const D of v){const V=D.targetId;if(!D.fromCache){const G=A.Ms.get(V),$=G.snapshotVersion,it=G.withLastLimboFreeSnapshotVersion($);A.Ms=A.Ms.insert(V,it)}}}(a.localStore,h))}async function _w(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){rt(Om,"User change. New user:",t.toKey());const a=await XE(i.localStore,t);i.currentUser=t,function(h,d){h.mu.forEach(g=>{g.forEach(y=>{y.reject(new at(X.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await kl(i,a.Ls)}}function vw(s,t){const i=At(s),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const h=i.Iu.get(t);if(!h)return l;for(const d of h){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function gT(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=hT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mw.bind(null,t),t.Pu.H_=nw.bind(null,t.eventManager),t.Pu.yu=iw.bind(null,t.eventManager),t}function Ew(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pw.bind(null,t),t}class Lc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ih(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return bR(this.persistence,new TR,t.initialUser,this.serializer)}Cu(t){return new YE(Tm.mi,this.serializer)}Du(t){return new OR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lc.provider={build:()=>new Lc};class Tw extends Lc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){jt(this.persistence.referenceDelegate instanceof kc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new aR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new YE(a=>kc.mi(a,i),this.serializer)}}class Wd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ov(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=_w.bind(null,this.syncEngine),await WR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new ew}()}createDatastore(t){const i=ih(t.databaseInfo.databaseId),a=function(h){return new kR(h)}(t.databaseInfo);return function(h,d,g,y){return new BR(h,d,g,y)}(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return function(a,l,h,d,g){return new jR(a,l,h,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>ov(this.syncEngine,i,0),function(){return ev.v()?new ev:new VR}())}createSyncEngine(t,i){return function(l,h,d,g,y,v,A){const D=new ow(l,h,d,g,y,v);return A&&(D.gu=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const a=At(i);rt(Vs,"RemoteStore shutting down."),a.Ea.add(5),await Ul(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Wd.provider={build:()=>new Wd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ji("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="FirestoreClient";class Aw{constructor(t,i,a,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ke.UNAUTHENTICATED,this.clientId=um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{rt(qr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(rt(qr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Dm(i,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function Cd(s,t){s.asyncQueue.verifyOperationInProgress(),rt(qr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async l=>{a.isEqual(l)||(await XE(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=t}async function uv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await Sw(s);rt(qr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener(a=>iv(t.remoteStore,a)),s.setAppCheckTokenChangeListener((a,l)=>iv(t.remoteStore,l)),s._onlineComponents=t}async function Sw(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){rt(qr,"Using user provided OfflineComponentProvider");try{await Cd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;qa("Error using user provided cache. Falling back to memory cache: "+i),await Cd(s,new Lc)}}else rt(qr,"Using default OfflineComponentProvider"),await Cd(s,new Tw(void 0));return s._offlineComponents}async function yT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(rt(qr,"Using user provided OnlineComponentProvider"),await uv(s,s._uninitializedComponentsProvider._online)):(rt(qr,"Using default OnlineComponentProvider"),await uv(s,new Wd))),s._onlineComponents}function bw(s){return yT(s).then(t=>t.syncEngine)}async function tm(s){const t=await yT(s),i=t.eventManager;return i.onListen=lw.bind(null,t.syncEngine),i.onUnlisten=hw.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=uw.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=fw.bind(null,t.syncEngine),i}function Rw(s,t,i={}){const a=new Vr;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,y,v){const A=new pT({next:V=>{A.Nu(),d.enqueueAndForget(()=>aT(h,D));const G=V.docs.has(g);!G&&V.fromCache?v.reject(new at(X.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&V.fromCache&&y&&y.source==="server"?v.reject(new at(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(V)},error:V=>v.reject(V)}),D=new oT(Zc(g.path),A,{includeMetadataChanges:!0,qa:!0});return sT(h,D)}(await tm(s),s.asyncQueue,t,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="firestore.googleapis.com",hv=!0;class fv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vT,this.ssl=hv}else this.host=t.host,this.ssl=t.ssl??hv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=KE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<rR)throw new at(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}q1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_T(t.experimentalLongPollingOptions??{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new at(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ah{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new O1;switch(a.type){case"firstParty":return new U1(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=cv.get(i);a&&(rt("ComponentProvider","Removing Datastore"),cv.delete(i),a.terminate())}(this),Promise.resolve()}}function ww(s,t,i,a={}){s=Mr(s,ah);const l=Ka(t),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(Gv(`https://${g}`),Fv("Firestore",!0)),h.host!==vT&&h.host!==g&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:g,ssl:l,emulatorOptions:a};if(!Ds(y,d)&&(s._setSettings(y),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=Ke.MOCK_USER;else{v=nS(a.mockUserToken,s._app?.options.projectId);const D=a.mockUserToken.sub||a.mockUserToken.user_id;if(!D)throw new at(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ke(D)}s._authCredentials=new V1(new sE(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new oh(this.firestore,t,this._query)}}class Ee{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ee(this.firestore,t,this._key)}toJSON(){return{type:Ee._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Vl(i,Ee._jsonSchema))return new Ee(t,a||null,new ft(te.fromString(i.referencePath)))}}Ee._jsonSchemaVersion="firestore/documentReference/1.0",Ee._jsonSchema={type:ve("string",Ee._jsonSchemaVersion),referencePath:ve("string")};class Pr extends oh{constructor(t,i,a){super(t,i,Zc(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ee(this.firestore,null,new ft(t))}withConverter(t){return new Pr(this.firestore,t,this._path)}}function Iw(s,t,...i){if(s=sn(s),aE("collection","path",t),s instanceof ah){const a=te.fromString(t,...i);return w_(a),new Pr(s,null,a)}{if(!(s instanceof Ee||s instanceof Pr))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(t,...i));return w_(a),new Pr(s.firestore,null,a)}}function dv(s,t,...i){if(s=sn(s),arguments.length===1&&(t=um.newId()),aE("doc","path",t),s instanceof ah){const a=te.fromString(t,...i);return R_(a),new Ee(s,null,new ft(a))}{if(!(s instanceof Ee||s instanceof Pr))throw new at(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(t,...i));return R_(a),new Ee(s.firestore,s instanceof Pr?s.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="AsyncQueue";class gv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZE(this,"async_queue_retry"),this._c=()=>{const a=Id();a&&rt(mv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Id();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Id();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const i=new Vr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Za(t))throw t;rt(mv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const i=this.ac.then(()=>(this.rc=!0,t().catch(a=>{throw this.nc=a,this.rc=!1,ji("INTERNAL UNHANDLED ERROR: ",pv(a)),a}).then(a=>(this.rc=!1,a))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Cm.createAndSchedule(this,t,i,a,h=>this.hc(h));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:pv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function pv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const h of a)if(h in l&&typeof l[h]=="function")return!0;return!1}(s,["next","error","complete"])}class Cl extends ah{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new gv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new gv(t),this._firestoreClient=void 0,await t}}}function Cw(s,t){const i=typeof s=="object"?s:Xv(),a=typeof s=="string"?s:Dc,l=om(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=tS("firestore");h&&ww(l,...h)}return l}function Mm(s){if(s._terminated)throw new at(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Dw(s),s._firestoreClient}function Dw(s){const t=s._freezeSettings(),i=function(l,h,d,g){return new J1(l,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,_T(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new Aw(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&function(l){const h=l?._online.build();return{_offline:l?._offline.build(h),_online:h}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Dn(je.fromBase64String(t))}catch(i){throw new at(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Dn(je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Vl(t,Dn._jsonSchema))return Dn.fromBase64String(t.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:ve("string",Dn._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:si._jsonSchemaVersion}}static fromJSON(t){if(Vl(t,si._jsonSchema))return new si(t.latitude,t.longitude)}}si._jsonSchemaVersion="firestore/geoPoint/1.0",si._jsonSchema={type:ve("string",si._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0}(this._values,t._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Vl(t,ai._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(i=>typeof i=="number"))return new ai(t.vectorValues);throw new at(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:ve("string",ai._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=/^__.*__$/;class Ow{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ks(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ml(t,this.data,i,this.fieldTransforms)}}function TT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:s})}}class Um{constructor(t,i,a,l,h,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Um({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return zc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(TT(this.Ac)&&Nw.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Vw{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||ih(t)}Cc(t,i,a,l=!1){return new Um({Ac:t,methodName:i,Dc:a,path:qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mw(s){const t=s._freezeSettings(),i=ih(s._databaseId);return new Vw(s._databaseId,!!t.ignoreUndefinedProperties,i)}function Pw(s,t,i,a,l,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,t,i,l);RT("Data must be an object, but it was:",d,a);const g=ST(a,d);let y,v;if(h.merge)y=new xn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const D of h.mergeFields){const V=Uw(t,D,i);if(!d.contains(V))throw new at(X.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);xw(A,V)||A.push(V)}y=new xn(A),v=d.fieldTransforms.filter(D=>y.covers(D.field))}else y=null,v=d.fieldTransforms;return new Ow(new Cn(g),y,v)}function AT(s,t){if(bT(s=sn(s)))return RT("Unsupported field value:",t,s),ST(s,t);if(s instanceof ET)return function(a,l){if(!TT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(a,l){const h=[];let d=0;for(const g of a){let y=AT(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}}(s,t)}return function(a,l){if((a=sn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Ab(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ee.fromDate(a);return{timestampValue:Uc(l.serializer,h)}}if(a instanceof ee){const h=new ee(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Uc(l.serializer,h)}}if(a instanceof si)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Dn)return{bytesValue:BE(l.serializer,a._byteString)};if(a instanceof Ee){const h=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:vm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof ai)return function(d,g){return{mapValue:{fields:{[gE]:{stringValue:pE},[Nc]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return pm(g.serializer,v)})}}}}}}(a,l);throw l.Sc(`Unsupported field value: ${cm(a)}`)}(s,t)}function ST(s,t){const i={};return uE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ps(s,(a,l)=>{const h=AT(l,t.mc(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function bT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ee||s instanceof si||s instanceof Dn||s instanceof Ee||s instanceof ET||s instanceof ai)}function RT(s,t,i){if(!bT(i)||!oE(i)){const a=cm(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function Uw(s,t,i){if((t=sn(t))instanceof Pm)return t._internalPath;if(typeof t=="string")return wT(s,t);throw zc("Field path arguments must be of type string or ",s,!1,void 0,i)}const kw=new RegExp("[~\\*/\\[\\]]");function wT(s,t,i){if(t.search(kw)>=0)throw zc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Pm(...t.split("."))._internalPath}catch{throw zc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function zc(s,t,i,a,l){const h=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new at(X.INVALID_ARGUMENT,g+s+y)}function xw(s,t){return s.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t,i,a,l,h){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ee(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Lw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(CT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Lw extends IT{data(){return super.data()}}function CT(s,t){return typeof t=="string"?wT(s,t):t instanceof Pm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bw{convertValue(t,i="none"){switch(zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return de(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Ps(t,(l,h)=>{a[l]=this.convertValue(h,i)}),a}convertVectorValue(t){const i=t.fields?.[Nc].arrayValue?.values?.map(a=>de(a.doubleValue));return new ai(i)}convertGeoPoint(t){return new si(de(t.latitude),de(t.longitude))}convertArray(t,i){return(t.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Xc(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Sl(t));default:return null}}convertTimestamp(t){const i=xr(t);return new ee(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=te.fromString(t);jt(QE(a),9688,{name:t});const l=new bl(a.get(1),a.get(3)),h=new ft(a.popFirst(5));return l.isEqual(i)||ji(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class ml{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Cs extends IT{constructor(t,i,a,l,h,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Tc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(CT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Cs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Cs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Cs._jsonSchema={type:ve("string",Cs._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class Tc extends Cs{data(t={}){return super.data(t)}}class ka{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new ml(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(a=>{t.call(i,new Tc(this._firestore,this._userDataWriter,a.key,a,new ml(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const y=new Tc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const y=new Tc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new ml(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:jw(g.type),doc:y,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ka._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function jw(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(s){s=Mr(s,Ee);const t=Mr(s.firestore,Cl);return Rw(Mm(t),s._key).then(i=>NT(t,s,i))}ka._jsonSchemaVersion="firestore/querySnapshot/1.0",ka._jsonSchema={type:ve("string",ka._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class DT extends Bw{constructor(t){super(),this.firestore=t}convertBytes(t){return new Dn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ee(this.firestore,null,i)}}function vv(s,t,i){s=Mr(s,Ee);const a=Mr(s.firestore,Cl),l=qw(s.converter,t);return Gw(a,[Pw(Mw(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Bi.none())])}function Hw(s,...t){s=sn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||yv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(yv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let h,d,g;if(s instanceof Ee)d=Mr(s.firestore,Cl),g=Zc(s._key.path),h={next:y=>{t[a]&&t[a](NT(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=Mr(s,oh);d=Mr(y.firestore,Cl),g=y._query;const v=new DT(d);h={next:A=>{t[a]&&t[a](new ka(d,v,y,A))},error:t[a+1],complete:t[a+2]},zw(s._query)}return function(v,A,D,V){const G=new pT(V),$=new oT(A,G,D);return v.asyncQueue.enqueueAndForget(async()=>sT(await tm(v),$)),()=>{G.Nu(),v.asyncQueue.enqueueAndForget(async()=>aT(await tm(v),$))}}(Mm(d),g,l,h)}function Gw(s,t){return function(a,l){const h=new Vr;return a.asyncQueue.enqueueAndForget(async()=>dw(await bw(a),l,h)),h.promise}(Mm(s),t)}function NT(s,t,i){const a=i.docs.get(t._key),l=new DT(s);return new Cs(s,l,t._key,a,new ml(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){Xa=l})(Ya),Ba(new Ns("firestore",(a,{instanceIdentifier:l,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new Cl(new M1(a.getProvider("auth-internal")),new k1(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new at(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(v.options.projectId,A)}(d,l),d);return h={useFetchStreams:i,...h},g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Nr(T_,A_,t),Nr(T_,A_,"esm2020")})();function OT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fw=OT,VT=new Nl("auth","Firebase",OT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=new sm("@firebase/auth");function Qw(s,...t){Bc.logLevel<=Nt.WARN&&Bc.warn(`Auth (${Ya}): ${s}`,...t)}function Ac(s,...t){Bc.logLevel<=Nt.ERROR&&Bc.error(`Auth (${Ya}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(s,...t){throw km(s,...t)}function oi(s,...t){return km(s,...t)}function MT(s,t,i){const a={...Fw(),[t]:i};return new Nl("auth","Firebase",a).create(t,{appName:s.name})}function Ur(s){return MT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function km(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return VT.create(s,...t)}function _t(s,t,...i){if(!s)throw km(t,...i)}function Li(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Ac(t),new Error(t)}function Fi(s,t){s||Li(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){return typeof self<"u"&&self.location?.href||""}function Kw(){return Ev()==="http:"||Ev()==="https:"}function Ev(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Kw()||lS()||"connection"in navigator)?navigator.onLine:!0}function Xw(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Fi(i>t,"Short delay should be less than long delay!"),this.isMobile=sS()||uS()}get(){return Yw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(s,t){Fi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Jw=new xl(3e4,6e4);function lh(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Wa(s,t,i,a,l={}){return UT(s,l,async()=>{let h={},d={};a&&(t==="GET"?d=a:h={body:JSON.stringify(a)});const g=Ol({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const v={method:t,headers:y,...h};return oS()||(v.referrerPolicy="no-referrer"),s.emulatorConfig&&Ka(s.emulatorConfig.host)&&(v.credentials="include"),PT.fetch()(await xT(s,s.config.apiHost,i,g),v)})}async function UT(s,t,i){s._canInitEmulator=!1;const a={...$w,...t};try{const l=new Ww(s),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw gc(s,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const g=h.ok?d.errorMessage:d.error.message,[y,v]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw gc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw gc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw gc(s,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw MT(s,A,v);Gi(s,A)}}catch(l){if(l instanceof Qi)throw l;Gi(s,"network-request-failed",{message:String(l)})}}async function kT(s,t,i,a,l={}){const h=await Wa(s,t,i,a,l);return"mfaPendingCredential"in h&&Gi(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function xT(s,t,i,a){const l=`${t}${i}?${a}`,h=s,d=h.config.emulator?xm(s.config,l):`${s.config.apiScheme}://${l}`;return Zw.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class Ww{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(oi(this.auth,"network-request-failed")),Jw.get())})}}function gc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=oi(s,t,a);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(s,t){return Wa(s,"POST","/v1/accounts:delete",t)}async function qc(s,t){return Wa(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function eI(s,t=!1){const i=sn(s),a=await i.getIdToken(t),l=Lm(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:a,authTime:El(Dd(l.auth_time)),issuedAtTime:El(Dd(l.iat)),expirationTime:El(Dd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function Dd(s){return Number(s)*1e3}function Lm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Ac("JWT malformed, contained fewer than 3 sections"),null;try{const l=Bv(i);return l?JSON.parse(l):(Ac("Failed to decode base64 JWT payload"),null)}catch(l){return Ac("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Tv(s){const t=Lm(s);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Qi&&nI(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function nI({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jc(s){const t=s.auth,i=await s.getIdToken(),a=await Dl(s,qc(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const h=l.providerUserInfo?.length?LT(l.providerUserInfo):[],d=sI(s.providerData,h),g=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,v=g?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(s,A)}async function rI(s){const t=sn(s);await jc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function sI(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function LT(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aI(s,t){const i=await UT(s,{},async()=>{const a=Ol({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=s.config,d=await xT(s,l,"/v1/token",`key=${h}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return s.emulatorConfig&&Ka(s.emulatorConfig.host)&&(y.credentials="include"),PT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function oI(s,t){return Wa(s,"POST","/v2/accounts:revokeToken",lh(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Tv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=Tv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:h}=await aI(t,i);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:h}=i,d=new xa;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(_t(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xa,this.toJSON())}_performRefresh(){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(s,t){_t(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Ln{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new iI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Dl(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return eI(this,t)}reload(){return rI(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Ln({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await jc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Ur(this.auth));const t=await this.getIdToken();return await Dl(this,tI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,h=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,v=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:D,emailVerified:V,isAnonymous:G,providerData:$,stsTokenManager:it}=i;_t(D&&it,t,"internal-error");const Z=xa.fromJSON(this.name,it);_t(typeof D=="string",t,"internal-error"),Ar(a,t.name),Ar(l,t.name),_t(typeof V=="boolean",t,"internal-error"),_t(typeof G=="boolean",t,"internal-error"),Ar(h,t.name),Ar(d,t.name),Ar(g,t.name),Ar(y,t.name),Ar(v,t.name),Ar(A,t.name);const Et=new Ln({uid:D,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:h,tenantId:g,stsTokenManager:Z,createdAt:v,lastLoginAt:A});return $&&Array.isArray($)&&(Et.providerData=$.map(gt=>({...gt}))),y&&(Et._redirectEventId=y),Et}static async _fromIdTokenResponse(t,i,a=!1){const l=new xa;l.updateFromServerResponse(i);const h=new Ln({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await jc(h),h}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?LT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,g=new xa;g.updateFromIdToken(a);const y=new Ln({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(y,v),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=new Map;function zi(s){Fi(s instanceof Function,"Expected a class definition");let t=Av.get(s);return t?(Fi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,Av.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}zT.type="NONE";const Sv=zT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(s,t,i){return`firebase:${s}:${t}:${i}`}class La{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=Sc(this.userKey,l.apiKey,h),this.fullPersistenceKey=Sc("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await qc(this.auth,{idToken:t}).catch(()=>{});return i?Ln._fromGetAccountInfoResponse(this.auth,i,t):null}return Ln._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new La(zi(Sv),t,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=l[0]||zi(Sv);const d=Sc(a,t.config.apiKey,t.name);let g=null;for(const v of i)try{const A=await v._get(d);if(A){let D;if(typeof A=="string"){const V=await qc(t,{idToken:A}).catch(()=>{});if(!V)break;D=await Ln._fromGetAccountInfoResponse(t,V,A)}else D=Ln._fromJSON(t,A);v!==h&&(g=D),h=v;break}}catch{}const y=l.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new La(h,t,a):(h=y[0],g&&await h._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new La(h,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(HT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(BT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(FT(t))return"Blackberry";if(QT(t))return"Webos";if(qT(t))return"Safari";if((t.includes("chrome/")||jT(t))&&!t.includes("edge/"))return"Chrome";if(GT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function BT(s=Xe()){return/firefox\//i.test(s)}function qT(s=Xe()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jT(s=Xe()){return/crios\//i.test(s)}function HT(s=Xe()){return/iemobile/i.test(s)}function GT(s=Xe()){return/android/i.test(s)}function FT(s=Xe()){return/blackberry/i.test(s)}function QT(s=Xe()){return/webos/i.test(s)}function zm(s=Xe()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function lI(s=Xe()){return zm(s)&&!!window.navigator?.standalone}function uI(){return cS()&&document.documentMode===10}function KT(s=Xe()){return zm(s)||GT(s)||QT(s)||FT(s)||/windows phone/i.test(s)||HT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(s,t=[]){let i;switch(s){case"Browser":i=bv(Xe());break;case"Worker":i=`${bv(Xe())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ya}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=h=>new Promise((d,g)=>{try{const y=t(h);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(s,t={}){return Wa(s,"GET","/v2/passwordPolicy",lh(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=6;class dI{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??fI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rv(this),this.idTokenSubscription=new Rv(this),this.beforeStateQueue=new cI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await La.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await qc(this,{idToken:t}),a=await Ln._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(kn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await jc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Xw()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(kn(this.app))return Promise.reject(Ur(this));const i=t?sn(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(Ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return kn(this.app)?Promise.reject(Ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hI(this),i=new dI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Nl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await oI(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&zi(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=YT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Qw(`Error while retrieving App Check token: ${t.error}`),t?.token}}function uh(s){return sn(s)}class Rv{constructor(t){this.auth=t,this.observer=null,this.addObserver=_S(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gI(s){Bm=s}function pI(s){return Bm.loadJS(s)}function yI(){return Bm.gapiScript}function _I(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(s,t){const i=om(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(Ds(h,t??{}))return l;Gi(l,"already-initialized")}return i.initialize({options:t})}function EI(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(zi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function TI(s,t,i){const a=uh(s);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=XT(t),{host:d,port:g}=AI(t),y=g===null?"":`:${g}`,v={url:`${h}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(Ds(v,a.config.emulator)&&Ds(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Ka(d)?(Gv(`${h}//${d}${y}`),Fv("Auth",!0)):SI()}function XT(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function AI(s){const t=XT(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:wv(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:wv(d)}}}function wv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function SI(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Li("not implemented")}_getIdTokenResponse(t){return Li("not implemented")}_linkToIdToken(t,i){return Li("not implemented")}_getReauthenticationResolver(t){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(s,t){return kT(s,"POST","/v1/accounts:signInWithIdp",lh(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="http://localhost";class Ms extends $T{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ms(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Gi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=i;if(!a||!l)return null;const d=new Ms(a,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return za(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,za(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,za(t,i)}buildRequest(){const t={requestUri:bI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ol(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends ZT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Ll{constructor(){super("facebook.com")}static credential(t){return Ms._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Sr.credential(t.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ms._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return br.credential(i,a)}catch{return null}}}br.GOOGLE_SIGN_IN_METHOD="google.com";br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Ll{constructor(){super("github.com")}static credential(t){return Ms._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Rr.credential(t.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Ll{constructor(){super("twitter.com")}static credential(t,i){return Ms._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return wr.credential(i,a)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(s,t){return kT(s,"POST","/v1/accounts:signUp",lh(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const h=await Ln._fromIdTokenResponse(t,a,l),d=Iv(a);return new jr({user:h,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=Iv(a);return new jr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function Iv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(s){if(kn(s.app))return Promise.reject(Ur(s));const t=uh(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new jr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await RI(t,{returnSecureToken:!0}),a=await jr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc extends Qi{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Hc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Hc(t,i,a,l)}}function JT(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Hc._fromErrorAndOperation(s,h,t,a):h})}async function II(s,t,i=!1){const a=await Dl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return jr._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CI(s,t,i=!1){const{auth:a}=s;if(kn(a.app))return Promise.reject(Ur(a));const l="reauthenticate";try{const h=await Dl(s,JT(a,l,t,s),i);_t(h.idToken,a,"internal-error");const d=Lm(h.idToken);_t(d,a,"internal-error");const{sub:g}=d;return _t(s.uid===g,a,"user-mismatch"),jr._forOperation(s,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Gi(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(s,t,i=!1){if(kn(s.app))return Promise.reject(Ur(s));const a="signIn",l=await JT(s,a,t),h=await jr._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(h.user),h}function NI(s,t,i,a){return sn(s).onIdTokenChanged(t,i,a)}function OI(s,t,i){return sn(s).beforeAuthStateChanged(t,i)}function VI(s,t,i,a){return sn(s).onAuthStateChanged(t,i,a)}function MI(s){return sn(s).signOut()}const Gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI=1e3,UI=10;class t0 extends WT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);uI()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,UI):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},PI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}t0.type="LOCAL";const kI=t0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0 extends WT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}e0.type="SESSION";const n0=e0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,h)),y=await xI(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((g,y)=>{const v=qm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(D){const V=D;if(V.data.eventId===v)switch(V.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(V.data.response);break;default:clearTimeout(A),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function zI(s){li().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function BI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qI(){return navigator?.serviceWorker?.controller||null}function jI(){return i0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="firebaseLocalStorageDb",HI=1,Fc="firebaseLocalStorage",s0="fbase_key";class zl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function hh(s,t){return s.transaction([Fc],t?"readwrite":"readonly").objectStore(Fc)}function GI(){const s=indexedDB.deleteDatabase(r0);return new zl(s).toPromise()}function im(){const s=indexedDB.open(r0,HI);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Fc,{keyPath:s0})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Fc)?t(a):(a.close(),await GI(),t(await im()))})})}async function Cv(s,t,i){const a=hh(s,!0).put({[s0]:t,value:i});return new zl(a).toPromise()}async function FI(s,t){const i=hh(s,!1).get(t),a=await new zl(i).toPromise();return a===void 0?null:a.value}function Dv(s,t){const i=hh(s,!0).delete(t);return new zl(i).toPromise()}const QI=800,KI=3;class a0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await im(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>KI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return i0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ch._getInstance(jI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BI(),!this.activeServiceWorker)return;this.sender=new LI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||qI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await im();return await Cv(t,Gc,"1"),await Dv(t,Gc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Cv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>FI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Dv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=hh(l,!1).getAll();return new zl(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a0.type="LOCAL";const YI=a0;new xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(s,t){return t?zi(t):(_t(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm extends $T{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function $I(s){return DI(s.auth,new jm(s),s.bypassAuthState)}function ZI(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),CI(i,new jm(s),s.bypassAuthState)}async function JI(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),II(i,new jm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(t,i,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:h,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $I;case"linkViaPopup":case"linkViaRedirect":return JI;case"reauthViaPopup":case"reauthViaRedirect":return ZI;default:Gi(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new xl(2e3,1e4);class Pa extends o0{constructor(t,i,a,l,h){super(t,i,l,h),this.provider=a,this.authWindow=null,this.pollId=null,Pa.currentPopupAction&&Pa.currentPopupAction.cancel(),Pa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,WI.get())};t()}}Pa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="pendingRedirect",bc=new Map;class eC extends o0{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=bc.get(this.auth._key());if(!t){try{const a=await nC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}bc.set(this.auth._key(),t)}return this.bypassAuthState||bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nC(s,t){const i=sC(t),a=rC(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function iC(s,t){bc.set(s._key(),t)}function rC(s){return zi(s._redirectPersistence)}function sC(s){return Sc(tC,s.config.apiKey,s.name)}async function aC(s,t,i=!1){if(kn(s.app))return Promise.reject(Ur(s));const a=uh(s),l=XI(a,t),d=await new eC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=600*1e3;class lC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!uC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!l0(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(oi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=oC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nv(t))}saveEventToCache(t){this.cachedEventUids.add(Nv(t)),this.lastProcessedEventTime=Date.now()}}function Nv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function l0({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function uC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l0(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(s,t={}){return Wa(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fC=/^https?/;async function dC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await cC(s);for(const i of t)try{if(mC(i))return}catch{}Gi(s,"unauthorized-domain")}function mC(s){const t=em(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!fC.test(i))return!1;if(hC.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new xl(3e4,6e4);function Ov(){const s=li().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function pC(s){return new Promise((t,i)=>{function a(){Ov(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ov(),i(oi(s,"network-request-failed"))},timeout:gC.get()})}if(li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(li().gapi?.load)a();else{const l=_I("iframefcb");return li()[l]=()=>{gapi.load?a():i(oi(s,"network-request-failed"))},pI(`${yI()}?onload=${l}`).catch(h=>i(h))}}).catch(t=>{throw Rc=null,t})}let Rc=null;function yC(s){return Rc=Rc||pC(s),Rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new xl(5e3,15e3),vC="__/auth/iframe",EC="emulator/auth/iframe",TC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SC(s){const t=s.config;_t(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?xm(t,EC):`https://${s.config.authDomain}/${vC}`,a={apiKey:t.apiKey,appName:s.name,v:Ya},l=AC.get(s.config.apiHost);l&&(a.eid=l);const h=s._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${Ol(a).slice(1)}`}async function bC(s){const t=await yC(s),i=li().gapi;return _t(i,s,"internal-error"),t.open({where:document.body,url:SC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TC,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const d=oi(s,"network-request-failed"),g=li().setTimeout(()=>{h(d)},_C.get());function y(){li().clearTimeout(g),l(a)}a.ping(y).then(y,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wC=500,IC=600,CC="_blank",DC="http://localhost";class Vv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NC(s,t,i,a=wC,l=IC){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...RC,width:a.toString(),height:l.toString(),top:h,left:d},v=Xe().toLowerCase();i&&(g=jT(v)?CC:i),BT(v)&&(t=t||DC,y.scrollbars="yes");const A=Object.entries(y).reduce((V,[G,$])=>`${V}${G}=${$},`,"");if(lI(v)&&g!=="_self")return OC(t||"",g),new Vv(null);const D=window.open(t||"",g,A);_t(D,s,"popup-blocked");try{D.focus()}catch{}return new Vv(D)}function OC(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="__/auth/handler",MC="emulator/auth/handler",PC=encodeURIComponent("fac");async function Mv(s,t,i,a,l,h){_t(s.config.authDomain,s,"auth-domain-config-required"),_t(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Ya,eventId:l};if(t instanceof ZT){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",yS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,D]of Object.entries({}))d[A]=D}if(t instanceof Ll){const A=t.getScopes().filter(D=>D!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await s._getAppCheckToken(),v=y?`#${PC}=${encodeURIComponent(y)}`:"";return`${UC(s)}?${Ol(g).slice(1)}${v}`}function UC({config:s}){return s.emulator?xm(s,MC):`https://${s.authDomain}/${VC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="webStorageSupport";class kC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n0,this._completeRedirectFn=aC,this._overrideRedirectResult=iC}async _openPopup(t,i,a,l){Fi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await Mv(t,i,a,em(),l);return NC(t,h,qm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const h=await Mv(t,i,a,em(),l);return zI(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(Fi(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await bC(t),a=new lC(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Nd,{type:Nd},l=>{const h=l?.[0]?.[Nd];h!==void 0&&i(!!h),Gi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=dC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return KT()||qT()||zm()}}const xC=kC;var Pv="@firebase/auth",Uv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BC(s){Ba(new Ns("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YT(s)},v=new mI(a,l,h,y);return EI(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ba(new Ns("auth-internal",t=>{const i=uh(t.getProvider("auth").getImmediate());return(a=>new LC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(Pv,Uv,zC(s)),Nr(Pv,Uv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=300,jC=Hv("authIdTokenMaxAge")||qC;let kv=null;const HC=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>jC)return;const l=i?.token;kv!==l&&(kv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function GC(s=Xv()){const t=om(s,"auth");if(t.isInitialized())return t.getImmediate();const i=vI(s,{popupRedirectResolver:xC,persistence:[YI,kI,n0]}),a=Hv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=HC(h.toString());OI(i,d,()=>d(i.currentUser)),NI(i,g=>d(g))}}const l=qv("auth");return l&&TI(i,`http://${l}`),i}function FC(){return document.getElementsByTagName("head")?.[0]??document}gI({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const h=oi("internal-error");h.customData=l,i(h)},a.type="text/javascript",a.charset="UTF-8",FC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BC("Browser");const QC={apiKey:"AIzaSyBBOpAC4GH531hVexJHKWK7LqAWSaj6Uqc",authDomain:"calendar-f064a.firebaseapp.com",projectId:"calendar-f064a",storageBucket:"calendar-f064a.firebasestorage.app",messagingSenderId:"904299594",appId:"1:904299594:web:26a395a6d4a73f635792b3",measurementId:"G-7RXFJ1V686"},u0=Yv(QC),Od=Cw(u0),Vd=GC(u0);function KC(){const[s,t]=xi.useState(new Date),[i,a]=xi.useState(null),[l,h]=xi.useState({}),[d,g]=xi.useState(null),[y,v]=xi.useState(!0),[A,D]=xi.useState(""),V=nt=>nt.toISOString().split("T")[0],G=(nt,ut)=>new Date(nt,ut+1,0).getDate();xi.useEffect(()=>{const nt=VI(Vd,ut=>{ut?(console.log("User is signed in:",ut.uid),g(ut),D(ut.displayName||`User_${ut.uid.slice(0,5)}`)):(console.log("No user, signing in anonymously..."),wI(Vd))});return()=>nt()},[]),xi.useEffect(()=>{if(!d)return;const nt=s.getFullYear(),ut=s.getMonth(),O=`${nt}-${String(ut+1).padStart(2,"0")}-01`,S=G(nt,ut),b=`${nt}-${String(ut+1).padStart(2,"0")}-${S}`;console.log(`Fetching availability from ${O} to ${b}`);const I=Iw(Od,"availability"),M=Hw(I,P=>{const w={};P.forEach(ne=>{const Qt=ne.id;Qt>=O&&Qt<=b&&(w[Qt]=ne.data().users||{})}),h(w),v(!1),console.log("Calendar data updated:",w)});return()=>M()},[s,d]);const $=async nt=>{if(!d)return;const ut=V(nt),O=dv(Od,"availability",ut);try{const S=await _v(O),b=S.exists()?S.data():{users:{}},I=b.users[d.uid]?.isAvailable===!0;b.users[d.uid]={userId:d.uid,userName:A,isAvailable:!I,updatedAt:new Date().toISOString()},await vv(O,b),console.log(`Availability for ${ut} toggled successfully`)}catch(S){console.error("Error toggling availability:",S)}},it=()=>{!d||!A.trim()||Object.keys(l).forEach(async nt=>{if(l[nt][d.uid]){const ut=dv(Od,"availability",nt),O=await _v(ut);if(O.exists()){const S=O.data();S.users[d.uid]&&(S.users[d.uid].userName=A,await vv(ut,S))}}})},Z=async()=>{try{await MI(Vd)}catch(nt){console.error("Error signing out:",nt)}},Et=()=>{t(new Date(s.getFullYear(),s.getMonth()-1,1))},gt=()=>{t(new Date(s.getFullYear(),s.getMonth()+1,1))},ct=()=>{const nt=s.getFullYear(),ut=s.getMonth(),O=new Date(nt,ut,1).getDay(),S=G(nt,ut),b=[];for(let I=0;I<O;I++)b.push(It.jsx("div",{className:"calendar-day empty"},`empty-${I}`));for(let I=1;I<=S;I++){const M=new Date(nt,ut,I),P=V(M),w=l[P]||{},ne=Object.values(w),Qt=ne.filter(C=>C.isAvailable).length,tt=d&&w[d.uid]&&w[d.uid].isAvailable,ot=i&&V(i)===P,xt=new Date().toISOString().split("T")[0]===P;b.push(It.jsxs("div",{className:`calendar-day ${tt?"available":""} ${ot?"selected":""} ${xt?"today":""}`,onClick:()=>{a(M),$(M)},children:[It.jsx("div",{className:"day-number",children:I}),ne.length>0&&It.jsxs("div",{className:"availability-count",children:[Qt,"/",ne.length," available"]})]},I))}return b},zt=()=>{if(!i)return null;const nt=V(i),ut=l[nt]||{},O=Object.values(ut),S=O.filter(I=>I.isAvailable),b=O.filter(I=>!I.isAvailable);return It.jsxs("div",{className:"selected-date-details",children:[It.jsx("h3",{children:i.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),It.jsxs("div",{className:"user-lists",children:[It.jsxs("div",{className:"available-users",children:[It.jsxs("h4",{children:["Available (",S.length,")"]}),S.length>0?S.map(I=>It.jsx("div",{className:"user-item available",children:I.userName},I.userId)):It.jsx("p",{children:"No one is available"})]}),It.jsxs("div",{className:"unavailable-users",children:[It.jsxs("h4",{children:["Unavailable (",b.length,")"]}),b.length>0?b.map(I=>It.jsx("div",{className:"user-item unavailable",children:I.userName},I.userId)):It.jsx("p",{children:"No one is unavailable"})]})]})]})};return It.jsxs("div",{className:"app",children:[It.jsxs("header",{children:[It.jsx("h1",{children:"Group Availability Calendar"}),d&&It.jsxs("div",{className:"user-controls",children:[It.jsx("input",{type:"text",value:A,onChange:nt=>D(nt.target.value),placeholder:"Your name"}),It.jsx("button",{onClick:it,children:"Update Name"}),It.jsx("button",{onClick:Z,children:"Sign Out"})]})]}),It.jsx("main",{children:y?It.jsx("div",{className:"loading",children:"Loading calendar data..."}):It.jsxs(It.Fragment,{children:[It.jsxs("div",{className:"calendar",children:[It.jsxs("div",{className:"calendar-header",children:[It.jsx("button",{onClick:Et,children:"< Prev"}),It.jsx("h2",{children:s.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),It.jsx("button",{onClick:gt,children:"Next >"})]}),It.jsx("div",{className:"weekdays",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(nt=>It.jsx("div",{className:"weekday",children:nt},nt))}),It.jsx("div",{className:"calendar-grid",children:ct()})]}),zt()]})}),It.jsx("footer",{children:It.jsxs("p",{children:["Made with Firebase & React ",d?`Signed in as ${A}`:"Connecting..."]})})]})}FA.createRoot(document.getElementById("root")).render(It.jsx(xA.StrictMode,{children:It.jsx(KC,{})}));
