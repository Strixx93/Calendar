(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function lE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Id={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function rS(){if(T_)return Tl;T_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return Tl.Fragment=t,Tl.jsx=n,Tl.jsxs=n,Tl}var A_;function sS(){return A_||(A_=1,Id.exports=rS()),Id.exports}var W=sS(),Cd={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function aS(){if(S_)return Rt;S_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),I=Symbol.iterator;function D(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,it={};function Z(C,X,nt){this.props=C,this.context=X,this.refs=it,this.updater=nt||H}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Tt(){}Tt.prototype=Z.prototype;function rt(C,X,nt){this.props=C,this.context=X,this.refs=it,this.updater=nt||H}var ut=rt.prototype=new Tt;ut.constructor=rt,$(ut,Z.prototype),ut.isPureReactComponent=!0;var Pt=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},Dt=Object.prototype.hasOwnProperty;function M(C,X,nt,J,ft,It){return nt=It.ref,{$$typeof:r,type:C,key:X,ref:nt!==void 0?nt:null,props:It}}function S(C,X){return M(C.type,X,void 0,void 0,void 0,C.props)}function R(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function V(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(nt){return X[nt]})}var O=/\/+/g;function P(C,X){return typeof C=="object"&&C!==null&&C.key!=null?V(""+C.key):X.toString(36)}function w(){}function ue(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ae(C,X,nt,J,ft){var It=typeof C;(It==="undefined"||It==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(It){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case r:case t:vt=!0;break;case T:return vt=C._init,ae(vt(C._payload),X,nt,J,ft)}}if(vt)return ft=ft(C),vt=J===""?"."+P(C,0):J,Pt(ft)?(nt="",vt!=null&&(nt=vt.replace(O,"$&/")+"/"),ae(ft,X,nt,"",function(Rn){return Rn})):ft!=null&&(R(ft)&&(ft=S(ft,nt+(ft.key==null||C&&C.key===ft.key?"":(""+ft.key).replace(O,"$&/")+"/")+vt)),X.push(ft)),1;vt=0;var Se=J===""?".":J+":";if(Pt(C))for(var Wt=0;Wt<C.length;Wt++)J=C[Wt],It=Se+P(J,Wt),vt+=ae(J,X,nt,It,ft);else if(Wt=D(C),typeof Wt=="function")for(C=Wt.call(C),Wt=0;!(J=C.next()).done;)J=J.value,It=Se+P(J,Wt++),vt+=ae(J,X,nt,It,ft);else if(It==="object"){if(typeof C.then=="function")return ae(ue(C),X,nt,J,ft);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return vt}function q(C,X,nt){if(C==null)return C;var J=[],ft=0;return ae(C,J,"","",function(It){return X.call(nt,It,ft++)}),J}function et(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(nt){(C._status===0||C._status===-1)&&(C._status=1,C._result=nt)},function(nt){(C._status===0||C._status===-1)&&(C._status=2,C._result=nt)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var ct=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Lt(){}return Rt.Children={map:q,forEach:function(C,X,nt){q(C,function(){X.apply(this,arguments)},nt)},count:function(C){var X=0;return q(C,function(){X++}),X},toArray:function(C){return q(C,function(X){return X})||[]},only:function(C){if(!R(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Rt.Component=Z,Rt.Fragment=n,Rt.Profiler=l,Rt.PureComponent=rt,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return pt.H.useMemoCache(C)}},Rt.cache=function(C){return function(){return C.apply(null,arguments)}},Rt.cloneElement=function(C,X,nt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var J=$({},C.props),ft=C.key,It=void 0;if(X!=null)for(vt in X.ref!==void 0&&(It=void 0),X.key!==void 0&&(ft=""+X.key),X)!Dt.call(X,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&X.ref===void 0||(J[vt]=X[vt]);var vt=arguments.length-2;if(vt===1)J.children=nt;else if(1<vt){for(var Se=Array(vt),Wt=0;Wt<vt;Wt++)Se[Wt]=arguments[Wt+2];J.children=Se}return M(C.type,ft,void 0,void 0,It,J)},Rt.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Rt.createElement=function(C,X,nt){var J,ft={},It=null;if(X!=null)for(J in X.key!==void 0&&(It=""+X.key),X)Dt.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ft[J]=X[J]);var vt=arguments.length-2;if(vt===1)ft.children=nt;else if(1<vt){for(var Se=Array(vt),Wt=0;Wt<vt;Wt++)Se[Wt]=arguments[Wt+2];ft.children=Se}if(C&&C.defaultProps)for(J in vt=C.defaultProps,vt)ft[J]===void 0&&(ft[J]=vt[J]);return M(C,It,void 0,void 0,null,ft)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(C){return{$$typeof:g,render:C}},Rt.isValidElement=R,Rt.lazy=function(C){return{$$typeof:T,_payload:{_status:-1,_result:C},_init:et}},Rt.memo=function(C,X){return{$$typeof:_,type:C,compare:X===void 0?null:X}},Rt.startTransition=function(C){var X=pt.T,nt={};pt.T=nt;try{var J=C(),ft=pt.S;ft!==null&&ft(nt,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Lt,ct)}catch(It){ct(It)}finally{pt.T=X}},Rt.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},Rt.use=function(C){return pt.H.use(C)},Rt.useActionState=function(C,X,nt){return pt.H.useActionState(C,X,nt)},Rt.useCallback=function(C,X){return pt.H.useCallback(C,X)},Rt.useContext=function(C){return pt.H.useContext(C)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(C,X){return pt.H.useDeferredValue(C,X)},Rt.useEffect=function(C,X,nt){var J=pt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(C,X)},Rt.useId=function(){return pt.H.useId()},Rt.useImperativeHandle=function(C,X,nt){return pt.H.useImperativeHandle(C,X,nt)},Rt.useInsertionEffect=function(C,X){return pt.H.useInsertionEffect(C,X)},Rt.useLayoutEffect=function(C,X){return pt.H.useLayoutEffect(C,X)},Rt.useMemo=function(C,X){return pt.H.useMemo(C,X)},Rt.useOptimistic=function(C,X){return pt.H.useOptimistic(C,X)},Rt.useReducer=function(C,X,nt){return pt.H.useReducer(C,X,nt)},Rt.useRef=function(C){return pt.H.useRef(C)},Rt.useState=function(C){return pt.H.useState(C)},Rt.useSyncExternalStore=function(C,X,nt){return pt.H.useSyncExternalStore(C,X,nt)},Rt.useTransition=function(){return pt.H.useTransition()},Rt.version="19.1.1",Rt}var b_;function _m(){return b_||(b_=1,Cd.exports=aS()),Cd.exports}var ye=_m();const oS=lE(ye);var Dd={exports:{}},Al={},Nd={exports:{}},Od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function lS(){return w_||(w_=1,function(r){function t(q,et){var ct=q.length;q.push(et);t:for(;0<ct;){var Lt=ct-1>>>1,C=q[Lt];if(0<l(C,et))q[Lt]=et,q[ct]=C,ct=Lt;else break t}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var et=q[0],ct=q.pop();if(ct!==et){q[0]=ct;t:for(var Lt=0,C=q.length,X=C>>>1;Lt<X;){var nt=2*(Lt+1)-1,J=q[nt],ft=nt+1,It=q[ft];if(0>l(J,ct))ft<C&&0>l(It,J)?(q[Lt]=It,q[ft]=ct,Lt=ft):(q[Lt]=J,q[nt]=ct,Lt=nt);else if(ft<C&&0>l(It,ct))q[Lt]=It,q[ft]=ct,Lt=ft;else break t}}return et}function l(q,et){var ct=q.sortIndex-et.sortIndex;return ct!==0?ct:q.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],_=[],T=1,I=null,D=3,H=!1,$=!1,it=!1,Z=!1,Tt=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function Pt(q){for(var et=n(_);et!==null;){if(et.callback===null)s(_);else if(et.startTime<=q)s(_),et.sortIndex=et.expirationTime,t(p,et);else break;et=n(_)}}function pt(q){if(it=!1,Pt(q),!$)if(n(p)!==null)$=!0,Dt||(Dt=!0,P());else{var et=n(_);et!==null&&ae(pt,et.startTime-q)}}var Dt=!1,M=-1,S=5,R=-1;function V(){return Z?!0:!(r.unstable_now()-R<S)}function O(){if(Z=!1,Dt){var q=r.unstable_now();R=q;var et=!0;try{t:{$=!1,it&&(it=!1,rt(M),M=-1),H=!0;var ct=D;try{e:{for(Pt(q),I=n(p);I!==null&&!(I.expirationTime>q&&V());){var Lt=I.callback;if(typeof Lt=="function"){I.callback=null,D=I.priorityLevel;var C=Lt(I.expirationTime<=q);if(q=r.unstable_now(),typeof C=="function"){I.callback=C,Pt(q),et=!0;break e}I===n(p)&&s(p),Pt(q)}else s(p);I=n(p)}if(I!==null)et=!0;else{var X=n(_);X!==null&&ae(pt,X.startTime-q),et=!1}}break t}finally{I=null,D=ct,H=!1}et=void 0}}finally{et?P():Dt=!1}}}var P;if(typeof ut=="function")P=function(){ut(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ue=w.port2;w.port1.onmessage=O,P=function(){ue.postMessage(null)}}else P=function(){Tt(O,0)};function ae(q,et){M=Tt(function(){q(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(q){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var ct=D;D=et;try{return q()}finally{D=ct}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(q,et){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ct=D;D=q;try{return et()}finally{D=ct}},r.unstable_scheduleCallback=function(q,et,ct){var Lt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Lt+ct:Lt):ct=Lt,q){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ct+C,q={id:T++,callback:et,priorityLevel:q,startTime:ct,expirationTime:C,sortIndex:-1},ct>Lt?(q.sortIndex=ct,t(_,q),n(p)===null&&q===n(_)&&(it?(rt(M),M=-1):it=!0,ae(pt,ct-Lt))):(q.sortIndex=C,t(p,q),$||H||($=!0,Dt||(Dt=!0,P()))),q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(q){var et=D;return function(){var ct=D;D=et;try{return q.apply(this,arguments)}finally{D=ct}}}}(Od)),Od}var R_;function uS(){return R_||(R_=1,Nd.exports=lS()),Nd.exports}var Vd={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function cS(){if(I_)return en;I_=1;var r=_m();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,_,T){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:_,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(p,_,null,T)},en.flushSync=function(p){var _=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=_,s.p=T,s.d.f()}},en.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,I=g(T,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:D,fetchPriority:H}):T==="script"&&s.d.X(p,{crossOrigin:I,integrity:D,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},en.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},en.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,I=g(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},en.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,_){return p(_)},en.useFormState=function(p,_,T){return d.H.useFormState(p,_,T)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.1.1",en}var C_;function hS(){if(C_)return Vd.exports;C_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Vd.exports=cS(),Vd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function fS(){if(D_)return Al;D_=1;var r=uS(),t=_m(),n=hS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=f;break}if(E===o){v=!0,o=h,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,o=h;break}if(E===o){v=!0,o=f,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function _(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=_(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,I=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),it=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case Z:return"Profiler";case it:return"StrictMode";case pt:return"Suspense";case Dt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case ut:return(e.displayName||"Context")+".Provider";case rt:return(e._context.displayName||"Context")+".Consumer";case Pt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M:return i=e.displayName||null,i!==null?i:ue(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return ue(e(i))}catch{}}return null}var ae=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},Lt=[],C=-1;function X(e){return{current:e}}function nt(e){0>C||(e.current=Lt[C],Lt[C]=null,C--)}function J(e,i){C++,Lt[C]=e.current,e.current=i}var ft=X(null),It=X(null),vt=X(null),Se=X(null);function Wt(e,i){switch(J(vt,i),J(It,e),J(ft,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Xy(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Xy(i),e=$y(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}nt(ft),J(ft,e)}function Rn(){nt(ft),nt(It),nt(vt)}function ti(e){e.memoizedState!==null&&J(Se,e);var i=ft.current,a=$y(i,e.type);i!==a&&(J(It,e),J(ft,a))}function qn(e){It.current===e&&(nt(ft),nt(It)),Se.current===e&&(nt(Se),pl._currentValue=ct)}var ei=Object.prototype.hasOwnProperty,Ii=r.unstable_scheduleCallback,st=r.unstable_cancelCallback,St=r.unstable_shouldYield,Nt=r.unstable_requestPaint,wt=r.unstable_now,Bt=r.unstable_getCurrentPriorityLevel,zt=r.unstable_ImmediatePriority,oe=r.unstable_UserBlockingPriority,Oe=r.unstable_NormalPriority,Je=r.unstable_LowPriority,yn=r.unstable_IdlePriority,Hn=r.log,go=r.unstable_setDisableYieldValue,ce=null,Qt=null;function ln(e){if(typeof Hn=="function"&&go(e),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(ce,e)}catch{}}var Le=Math.clz32?Math.clz32:is,nu=Math.log,Ch=Math.LN2;function is(e){return e>>>=0,e===0?32:31-(nu(e)/Ch|0)|0}var rs=256,ss=4194304;function Fn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Js(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Fn(o):(v&=E,v!==0?h=Fn(v):a||(a=E&~e,a!==0&&(h=Fn(a))))):(E=o&~f,E!==0?h=Fn(E):v!==0?h=Fn(v):a||(a=o&~e,a!==0&&(h=Fn(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function as(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function po(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yo(){var e=rs;return rs<<=1,(rs&4194048)===0&&(rs=256),e}function _o(){var e=ss;return ss<<=1,(ss&62914560)===0&&(ss=4194304),e}function Ci(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Di(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vo(e,i,a,o,h,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var F=31-Le(a),K=1<<F;E[F]=0,b[F]=-1;var z=L[F];if(z!==null)for(L[F]=null,F=0;F<z.length;F++){var B=z[F];B!==null&&(B.lane&=-536870913)}a&=~K}o!==0&&ni(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~i))}function ni(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-Le(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function Eo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-Le(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function ur(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ta(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cr(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:g_(e.type))}function iu(e,i){var a=et.p;try{return et.p=e,i()}finally{et.p=a}}var he=Math.random().toString(36).slice(2),Ve="__reactFiber$"+he,be="__reactProps$"+he,In="__reactContainer$"+he,To="__reactEvents$"+he,Dh="__reactListeners$"+he,hr="__reactHandles$"+he,ru="__reactResources$"+he,os="__reactMarker$"+he;function fr(e){delete e[Ve],delete e[be],delete e[To],delete e[Dh],delete e[hr]}function Ni(e){var i=e[Ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[In]||a[Ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=t_(e);e!==null;){if(a=e[Ve])return a;e=t_(e)}return i}e=a,a=e.parentNode}return null}function ii(e){if(e=e[Ve]||e[In]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function ri(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function un(e){var i=e[ru];return i||(i=e[ru]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function _e(e){e[os]=!0}var Ao=new Set,ea={};function Gn(e,i){Oi(e,i),Oi(e+"Capture",i)}function Oi(e,i){for(ea[e]=i,e=0;e<i.length;e++)Ao.add(i[e])}var su=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),au={},ls={};function ou(e){return ei.call(ls,e)?!0:ei.call(au,e)?!1:su.test(e)?ls[e]=!0:(au[e]=!0,!1)}function dr(e,i,a){if(ou(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function si(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Ge(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var us,lu;function Vi(e){if(us===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);us=i&&i[1]||"",lu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+us+e+lu}var na=!1;function ia(e,i){if(!e||na)return"";na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){z=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var b=v.split(`
`),L=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===L.length)for(o=b.length-1,h=L.length-1;1<=o&&0<=h&&b[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==L[h]){var F=`
`+b[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{na=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Vi(a):""}function So(e){switch(e.tag){case 26:case 27:case 5:return Vi(e.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 15:return ia(e.type,!1);case 11:return ia(e.type.render,!1);case 1:return ia(e.type,!0);case 31:return Vi("Activity");default:return""}}function ra(e){try{var i="";do i+=So(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Nh(e){var i=bo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function sa(e){e._valueTracker||(e._valueTracker=Nh(e))}function wo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=bo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function cs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Oh=/[\n"\\]/g;function we(e){return e.replace(Oh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _n(e,i,a,o,h,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+cn(i)):e.value!==""+cn(i)&&(e.value=""+cn(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?mr(e,v,cn(i)):a!=null?mr(e,v,cn(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+cn(E):e.removeAttribute("name")}function hs(e,i,a,o,h,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+cn(a):"",i=i!=null?""+cn(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function mr(e,i,a){i==="number"&&cs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Mi(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+cn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Jt(e,i,a){if(i!=null&&(i=""+cn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+cn(a):""}function fs(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(ae(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=cn(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Cn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var ds=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uu(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||ds.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Ro(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&uu(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&uu(e,f,i[f])}function Io(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return Mh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Pi=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ui=null,ki=null;function Co(e){var i=ii(e);if(i&&(e=i.stateNode)){var a=e[be]||null;t:switch(e=i.stateNode,i.type){case"input":if(_n(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+we(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[be]||null;if(!h)throw Error(s(90));_n(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&wo(o)}break t;case"textarea":Jt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Mi(e,!!a.multiple,i,!1)}}}var ai=!1;function cu(e,i,a){if(ai)return e(i,a);ai=!0;try{var o=e(i);return o}finally{if(ai=!1,(Ui!==null||ki!==null)&&(ic(),Ui&&(i=Ui,e=ki,ki=Ui=null,Co(i),e)))for(i=0;i<e.length;i++)Co(e[i])}}function ms(e,i){var a=e.stateNode;if(a===null)return null;var o=a[be]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nn=!1;if(Qn)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{Nn=!1}var oi=null,gr=null,xi=null;function Do(){if(xi)return xi;var e,i=gr,a=i.length,o,h="value"in oi?oi.value:oi.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[f-o];o++);return xi=h.slice(e,1<o?1-o:void 0)}function li(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function ui(){return!0}function No(){return!1}function ze(e){function i(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ui:No,this.isPropagationStopped=No,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),i}var Yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oa=ze(Yt),ps=T({},Yt,{view:0,detail:0}),hu=ze(ps),la,ua,ci,ys=T({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ci&&(ci&&e.type==="mousemove"?(la=e.screenX-ci.screenX,ua=e.screenY-ci.screenY):ua=la=0,ci=e),la)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),On=ze(ys),fu=T({},ys,{dataTransfer:0}),Ph=ze(fu),_s=T({},ps,{relatedTarget:0}),ca=ze(_s),Oo=T({},Yt,{animationName:0,elapsedTime:0,pseudoElement:0}),ha=ze(Oo),du=T({},Yt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fa=ze(du),Uh=T({},Yt,{data:0}),Vo=ze(Uh),vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=gu[e])?!!i[e]:!1}function Es(){return Mo}var pu=T({},ps,{key:function(e){if(e.key){var i=vs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),da=ze(pu),yu=T({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Po=ze(yu),Li=T({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),_u=ze(Li),vu=T({},Yt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eu=ze(vu),Tu=T({},ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ma=ze(Tu),hn=T({},Yt,{newState:0,oldState:0}),Au=ze(hn),Su=[9,13,27,32],hi=Qn&&"CompositionEvent"in window,u=null;Qn&&"documentMode"in document&&(u=document.documentMode);var m=Qn&&"TextEvent"in window&&!u,y=Qn&&(!hi||u&&8<u&&11>=u),A=" ",k=!1;function j(e,i){switch(e){case"keyup":return Su.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jt=!1;function Me(e,i){switch(e){case"compositionend":return tt(i);case"keypress":return i.which!==32?null:(k=!0,A);case"textInput":return e=i.data,e===A&&k?null:e;default:return null}}function qt(e,i){if(jt)return e==="compositionend"||!hi&&j(e,i)?(e=Do(),xi=gr=oi=null,jt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var Be={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pe(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Be[e.type]:i==="textarea"}function zi(e,i,a,o){Ui?ki?ki.push(o):ki=[o]:Ui=o,i=uc(i,"onChange"),0<i.length&&(a=new oa("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Qe=null,fi=null;function Uo(e){Fy(e,0)}function bu(e){var i=ri(e);if(wo(i))return e}function hg(e,i){if(e==="change")return i}var fg=!1;if(Qn){var kh;if(Qn){var xh="oninput"in document;if(!xh){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),xh=typeof dg.oninput=="function"}kh=xh}else kh=!1;fg=kh&&(!document.documentMode||9<document.documentMode)}function mg(){Qe&&(Qe.detachEvent("onpropertychange",gg),fi=Qe=null)}function gg(e){if(e.propertyName==="value"&&bu(fi)){var i=[];zi(i,fi,e,Dn(e)),cu(Uo,i)}}function P0(e,i,a){e==="focusin"?(mg(),Qe=i,fi=a,Qe.attachEvent("onpropertychange",gg)):e==="focusout"&&mg()}function U0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(fi)}function k0(e,i){if(e==="click")return bu(i)}function x0(e,i){if(e==="input"||e==="change")return bu(i)}function L0(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var vn=typeof Object.is=="function"?Object.is:L0;function ko(e,i){if(vn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ei.call(i,h)||!vn(e[h],i[h]))return!1}return!0}function pg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yg(e,i){var a=pg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=pg(a)}}function _g(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?_g(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function vg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=cs(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=cs(e.document)}return i}function Lh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var z0=Qn&&"documentMode"in document&&11>=document.documentMode,ga=null,zh=null,xo=null,Bh=!1;function Eg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bh||ga==null||ga!==cs(o)||(o=ga,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),xo&&ko(xo,o)||(xo=o,o=uc(zh,"onSelect"),0<o.length&&(i=new oa("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ga)))}function Ts(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var pa={animationend:Ts("Animation","AnimationEnd"),animationiteration:Ts("Animation","AnimationIteration"),animationstart:Ts("Animation","AnimationStart"),transitionrun:Ts("Transition","TransitionRun"),transitionstart:Ts("Transition","TransitionStart"),transitioncancel:Ts("Transition","TransitionCancel"),transitionend:Ts("Transition","TransitionEnd")},jh={},Tg={};Qn&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function As(e){if(jh[e])return jh[e];if(!pa[e])return e;var i=pa[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Tg)return jh[e]=i[a];return e}var Ag=As("animationend"),Sg=As("animationiteration"),bg=As("animationstart"),B0=As("transitionrun"),j0=As("transitionstart"),q0=As("transitioncancel"),wg=As("transitionend"),Rg=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function Kn(e,i){Rg.set(e,i),Gn(i,[e])}var Ig=new WeakMap;function Vn(e,i){if(typeof e=="object"&&e!==null){var a=Ig.get(e);return a!==void 0?a:(i={value:e,source:i,stack:ra(i)},Ig.set(e,i),i)}return{value:e,source:i,stack:ra(i)}}var Mn=[],ya=0,Hh=0;function wu(){for(var e=ya,i=Hh=ya=0;i<e;){var a=Mn[i];Mn[i++]=null;var o=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var f=Mn[i];if(Mn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&Cg(a,h,f)}}function Ru(e,i,a,o){Mn[ya++]=e,Mn[ya++]=i,Mn[ya++]=a,Mn[ya++]=o,Hh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Fh(e,i,a,o){return Ru(e,i,a,o),Iu(e)}function _a(e,i){return Ru(e,null,null,i),Iu(e)}function Cg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-Le(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Iu(e){if(50<ll)throw ll=0,Zf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var va={};function H0(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,i,a,o){return new H0(e,i,a,o)}function Gh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bi(e,i){var a=e.alternate;return a===null?(a=En(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Dg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Cu(e,i,a,o,h,f){var v=0;if(o=e,typeof e=="function")Gh(e)&&(v=1);else if(typeof e=="string")v=GA(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=En(31,a,i,h),e.elementType=R,e.lanes=f,e;case $:return Ss(a.children,h,f,i);case it:v=8,h|=24;break;case Z:return e=En(12,a,i,h|2),e.elementType=Z,e.lanes=f,e;case pt:return e=En(13,a,i,h),e.elementType=pt,e.lanes=f,e;case Dt:return e=En(19,a,i,h),e.elementType=Dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:case ut:v=10;break t;case rt:v=9;break t;case Pt:v=11;break t;case M:v=14;break t;case S:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=En(v,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function Ss(e,i,a,o){return e=En(7,e,o,i),e.lanes=a,e}function Qh(e,i,a){return e=En(6,e,null,i),e.lanes=a,e}function Kh(e,i,a){return i=En(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Ea=[],Ta=0,Du=null,Nu=0,Pn=[],Un=0,bs=null,ji=1,qi="";function ws(e,i){Ea[Ta++]=Nu,Ea[Ta++]=Du,Du=e,Nu=i}function Ng(e,i,a){Pn[Un++]=ji,Pn[Un++]=qi,Pn[Un++]=bs,bs=e;var o=ji;e=qi;var h=32-Le(o)-1;o&=~(1<<h),a+=1;var f=32-Le(i)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,ji=1<<32-Le(i)+h|a<<h|o,qi=f+e}else ji=1<<f|a<<h|o,qi=e}function Yh(e){e.return!==null&&(ws(e,1),Ng(e,1,0))}function Xh(e){for(;e===Du;)Du=Ea[--Ta],Ea[Ta]=null,Nu=Ea[--Ta],Ea[Ta]=null;for(;e===bs;)bs=Pn[--Un],Pn[Un]=null,qi=Pn[--Un],Pn[Un]=null,ji=Pn[--Un],Pn[Un]=null}var fn=null,ge=null,Kt=!1,Rs=null,di=!1,$h=Error(s(519));function Is(e){var i=Error(s(418,""));throw Bo(Vn(i,e)),$h}function Og(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ve]=e,i[be]=o,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<cl.length;a++)Mt(cl[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),hs(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),sa(i);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),fs(i,o.value,o.defaultValue,o.children),sa(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||Yy(i.textContent,a)?(o.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),o.onScroll!=null&&Mt("scroll",i),o.onScrollEnd!=null&&Mt("scrollend",i),o.onClick!=null&&(i.onclick=cc),i=!0):i=!1,i||Is(e)}function Vg(e){for(fn=e.return;fn;)switch(fn.tag){case 5:case 13:di=!1;return;case 27:case 3:di=!0;return;default:fn=fn.return}}function Lo(e){if(e!==fn)return!1;if(!Kt)return Vg(e),Kt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||dd(e.type,e.memoizedProps)),a=!a),a&&ge&&Is(e),Vg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){ge=Xn(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}ge=null}}else i===27?(i=ge,Or(e.type)?(e=yd,yd=null,ge=e):ge=i):ge=fn?Xn(e.stateNode.nextSibling):null;return!0}function zo(){ge=fn=null,Kt=!1}function Mg(){var e=Rs;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),Rs=null),e}function Bo(e){Rs===null?Rs=[e]:Rs.push(e)}var Zh=X(null),Cs=null,Hi=null;function pr(e,i,a){J(Zh,i._currentValue),i._currentValue=a}function Fi(e){e._currentValue=Zh.current,nt(Zh)}function Wh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Jh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Wh(f.return,a,e),o||(v=null);break t}f=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Wh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function jo(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;vn(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Se.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(pl):e=[pl])}h=h.return}e!==null&&Jh(i,e,a,o),i.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ds(e){Cs=e,Hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tn(e){return Pg(Cs,e)}function Vu(e,i){return Cs===null&&Ds(e),Pg(e,i)}function Pg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Hi===null){if(e===null)throw Error(s(308));Hi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Hi=Hi.next=i;return a}var F0=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},G0=r.unstable_scheduleCallback,Q0=r.unstable_NormalPriority,Ue={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new F0,data:new Map,refCount:0}}function qo(e){e.refCount--,e.refCount===0&&G0(Q0,function(){e.controller.abort()})}var Ho=null,ef=0,Aa=0,Sa=null;function K0(e,i){if(Ho===null){var a=Ho=[];ef=0,Aa=rd(),Sa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return ef++,i.then(Ug,Ug),i}function Ug(){if(--ef===0&&Ho!==null){Sa!==null&&(Sa.status="fulfilled");var e=Ho;Ho=null,Aa=0,Sa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Y0(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var kg=q.S;q.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&K0(e,i),kg!==null&&kg(e,i)};var Ns=X(null);function nf(){var e=Ns.current;return e!==null?e:re.pooledCache}function Mu(e,i){i===null?J(Ns,Ns.current):J(Ns,i.pool)}function xg(){var e=nf();return e===null?null:{parent:Ue._currentValue,pool:e}}var Fo=Error(s(460)),Lg=Error(s(474)),Pu=Error(s(542)),rf={then:function(){}};function zg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Uu(){}function Bg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Uu,Uu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,qg(e),e;default:if(typeof i.status=="string")i.then(Uu,Uu);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,qg(e),e}throw Go=i,Fo}}var Go=null;function jg(){if(Go===null)throw Error(s(459));var e=Go;return Go=null,e}function qg(e){if(e===Fo||e===Pu)throw Error(s(483))}var yr=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _r(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function vr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,($t&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Iu(e),Cg(e,null,a),i}return Ru(e,o,i,a),Iu(e)}function Qo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Eo(e,a)}}function of(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var lf=!1;function Ko(){if(lf){var e=Sa;if(e!==null)throw e}}function Yo(e,i,a,o){lf=!1;var h=e.updateQueue;yr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,v===null?f=L:v.next=L,v=b;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=L:E.next=L,F.lastBaseUpdate=b))}if(f!==null){var K=h.baseState;v=0,F=L=b=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Ht&z)===z:(o&z)===z){z!==0&&z===Aa&&(lf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Et=e,mt=E;z=i;var ne=a;switch(mt.tag){case 1:if(Et=mt.payload,typeof Et=="function"){K=Et.call(ne,K,z);break t}K=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=mt.payload,z=typeof Et=="function"?Et.call(ne,K,z):Et,z==null)break t;K=T({},K,z);break t;case 2:yr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(L=F=B,b=K):F=F.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);F===null&&(b=K),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ir|=v,e.lanes=v,e.memoizedState=K}}function Hg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Fg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Hg(a[e],i)}var ba=X(null),ku=X(0);function Gg(e,i){e=Zi,J(ku,e),J(ba,i),Zi=e|i.baseLanes}function uf(){J(ku,Zi),J(ba,ba.current)}function cf(){Zi=ku.current,nt(ba),nt(ku)}var Er=0,Ct=null,te=null,Re=null,xu=!1,wa=!1,Os=!1,Lu=0,Xo=0,Ra=null,X0=0;function ve(){throw Error(s(321))}function hf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!vn(e[a],i[a]))return!1;return!0}function ff(e,i,a,o,h,f){return Er=f,Ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=e===null||e.memoizedState===null?Cp:Dp,Os=!1,f=a(o,h),Os=!1,wa&&(f=Kg(i,a,o,h)),Qg(e),f}function Qg(e){q.H=Fu;var i=te!==null&&te.next!==null;if(Er=0,Re=te=Ct=null,xu=!1,Xo=0,Ra=null,i)throw Error(s(300));e===null||je||(e=e.dependencies,e!==null&&Ou(e)&&(je=!0))}function Kg(e,i,a,o){Ct=e;var h=0;do{if(wa&&(Ra=null),Xo=0,wa=!1,25<=h)throw Error(s(301));if(h+=1,Re=te=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=nA,f=i(a,o)}while(wa);return f}function $0(){var e=q.H,i=e.useState()[0];return i=typeof i.then=="function"?$o(i):i,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(Ct.flags|=1024),i}function df(){var e=Lu!==0;return Lu=0,e}function mf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function gf(e){if(xu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}xu=!1}Er=0,Re=te=Ct=null,wa=!1,Xo=Lu=0,Ra=null}function dn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Ct.memoizedState=Re=e:Re=Re.next=e,Re}function Ie(){if(te===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var i=Re===null?Ct.memoizedState:Re.next;if(i!==null)Re=i,te=e;else{if(e===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Re===null?Ct.memoizedState=Re=e:Re=Re.next=e}return Re}function pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function $o(e){var i=Xo;return Xo+=1,Ra===null&&(Ra=[]),e=Bg(Ra,e,i),i=Ct,(Re===null?i.memoizedState:Re.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?Cp:Dp),e}function zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return $o(e);if(e.$$typeof===ut)return tn(e)}throw Error(s(438,String(e)))}function yf(e){var i=null,a=Ct.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=pf(),Ct.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=V;return i.index++,a}function Gi(e,i){return typeof i=="function"?i(e):i}function Bu(e){var i=Ie();return _f(i,te,e)}function _f(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=v=null,b=null,L=i,F=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(Ht&K)===K:(Er&K)===K){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===Aa&&(F=!0);else if((Er&z)===z){L=L.next,z===Aa&&(F=!0);continue}else K={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=K,v=f):b=b.next=K,Ct.lanes|=z,Ir|=z;K=L.action,Os&&a(f,K),f=L.hasEagerState?L.eagerState:a(f,K)}else z={lane:K,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,v=f):b=b.next=z,Ct.lanes|=K,Ir|=K;L=L.next}while(L!==null&&L!==i);if(b===null?v=f:b.next=E,!vn(f,e.memoizedState)&&(je=!0,F&&(a=Sa,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=b,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function vf(e){var i=Ie(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);vn(f,i.memoizedState)||(je=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Yg(e,i,a){var o=Ct,h=Ie(),f=Kt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!vn((te||h).memoizedState,a);v&&(h.memoizedState=a,je=!0),h=h.queue;var E=Zg.bind(null,o,h,e);if(Zo(2048,8,E,[e]),h.getSnapshot!==i||v||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,Ia(9,ju(),$g.bind(null,o,h,a,i),null),re===null)throw Error(s(349));f||(Er&124)!==0||Xg(o,i,a)}return a}function Xg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ct.updateQueue,i===null?(i=pf(),Ct.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function $g(e,i,a,o){i.value=a,i.getSnapshot=o,Wg(i)&&Jg(e)}function Zg(e,i,a){return a(function(){Wg(i)&&Jg(e)})}function Wg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!vn(e,a)}catch{return!0}}function Jg(e){var i=_a(e,2);i!==null&&wn(i,e,2)}function Ef(e){var i=dn();if(typeof e=="function"){var a=e;if(e=a(),Os){ln(!0);try{a()}finally{ln(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},i}function tp(e,i,a,o){return e.baseState=a,_f(e,te,typeof o=="function"?o:Gi)}function Z0(e,i,a,o,h){if(Hu(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};q.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,ep(i,f)):(f.next=a.next,i.pending=a.next=f)}}function ep(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=q.T,v={};q.T=v;try{var E=a(h,o),b=q.S;b!==null&&b(v,E),np(e,i,E)}catch(L){Tf(e,i,L)}finally{q.T=f}}else try{f=a(h,o),np(e,i,f)}catch(L){Tf(e,i,L)}}function np(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){ip(e,i,o)},function(o){return Tf(e,i,o)}):ip(e,i,a)}function ip(e,i,a){i.status="fulfilled",i.value=a,rp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,ep(e,a)))}function Tf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,rp(i),i=i.next;while(i!==o)}e.action=null}function rp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function sp(e,i){return i}function ap(e,i){if(Kt){var a=re.formState;if(a!==null){t:{var o=Ct;if(Kt){if(ge){e:{for(var h=ge,f=di;h.nodeType!==8;){if(!f){h=null;break e}if(h=Xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ge=Xn(h.nextSibling),o=h.data==="F!";break t}}Is(o)}o=!1}o&&(i=a[0])}}return a=dn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sp,lastRenderedState:i},a.queue=o,a=wp.bind(null,Ct,o),o.dispatch=a,o=Ef(!1),f=Rf.bind(null,Ct,!1,o.queue),o=dn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=Z0.bind(null,Ct,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function op(e){var i=Ie();return lp(i,te,e)}function lp(e,i,a){if(i=_f(e,i,sp)[0],e=Bu(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=$o(i)}catch(v){throw v===Fo?Pu:v}else o=i;i=Ie();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Ct.flags|=2048,Ia(9,ju(),W0.bind(null,h,a),null)),[o,f,e]}function W0(e,i){e.action=i}function up(e){var i=Ie(),a=te;if(a!==null)return lp(i,a,e);Ie(),i=i.memoizedState,a=Ie();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Ia(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Ct.updateQueue,i===null&&(i=pf(),Ct.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function ju(){return{destroy:void 0,resource:void 0}}function cp(){return Ie().memoizedState}function qu(e,i,a,o){var h=dn();o=o===void 0?null:o,Ct.flags|=e,h.memoizedState=Ia(1|i,ju(),a,o)}function Zo(e,i,a,o){var h=Ie();o=o===void 0?null:o;var f=h.memoizedState.inst;te!==null&&o!==null&&hf(o,te.memoizedState.deps)?h.memoizedState=Ia(i,f,a,o):(Ct.flags|=e,h.memoizedState=Ia(1|i,f,a,o))}function hp(e,i){qu(8390656,8,e,i)}function fp(e,i){Zo(2048,8,e,i)}function dp(e,i){return Zo(4,2,e,i)}function mp(e,i){return Zo(4,4,e,i)}function gp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function pp(e,i,a){a=a!=null?a.concat([e]):null,Zo(4,4,gp.bind(null,i,e),a)}function Af(){}function yp(e,i){var a=Ie();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&hf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function _p(e,i){var a=Ie();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&hf(i,o[1]))return o[0];if(o=e(),Os){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[o,i],o}function Sf(e,i,a){return a===void 0||(Er&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=Ty(),Ct.lanes|=e,Ir|=e,a)}function vp(e,i,a,o){return vn(a,i)?a:ba.current!==null?(e=Sf(e,a,o),vn(e,i)||(je=!0),e):(Er&42)===0?(je=!0,e.memoizedState=a):(e=Ty(),Ct.lanes|=e,Ir|=e,i)}function Ep(e,i,a,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var v=q.T,E={};q.T=E,Rf(e,!1,i,a);try{var b=h(),L=q.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var F=Y0(b,o);Wo(e,i,F,bn(e))}else Wo(e,i,o,bn(e))}catch(K){Wo(e,i,{then:function(){},status:"rejected",reason:K},bn())}finally{et.p=f,q.T=v}}function J0(){}function bf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=Tp(e).queue;Ep(e,h,i,ct,a===null?J0:function(){return Ap(e),a(o)})}function Tp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:ct},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Ap(e){var i=Tp(e).next.queue;Wo(e,i,{},bn())}function wf(){return tn(pl)}function Sp(){return Ie().memoizedState}function bp(){return Ie().memoizedState}function tA(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();e=_r(a);var o=vr(i,e,a);o!==null&&(wn(o,i,a),Qo(o,i,a)),i={cache:tf()},e.payload=i;return}i=i.return}}function eA(e,i,a){var o=bn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Hu(e)?Rp(i,a):(a=Fh(e,i,a,o),a!==null&&(wn(a,e,o),Ip(a,i,o)))}function wp(e,i,a){var o=bn();Wo(e,i,a,o)}function Wo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Hu(e))Rp(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var v=i.lastRenderedState,E=f(v,a);if(h.hasEagerState=!0,h.eagerState=E,vn(E,v))return Ru(e,i,h,0),re===null&&wu(),!1}catch{}finally{}if(a=Fh(e,i,h,o),a!==null)return wn(a,e,o),Ip(a,i,o),!0}return!1}function Rf(e,i,a,o){if(o={lane:2,revertLane:rd(),action:o,hasEagerState:!1,eagerState:null,next:null},Hu(e)){if(i)throw Error(s(479))}else i=Fh(e,a,o,2),i!==null&&wn(i,e,2)}function Hu(e){var i=e.alternate;return e===Ct||i!==null&&i===Ct}function Rp(e,i){wa=xu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Ip(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,Eo(e,a)}}var Fu={readContext:tn,use:zu,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve},Cp={readContext:tn,use:zu,useCallback:function(e,i){return dn().memoizedState=[e,i===void 0?null:i],e},useContext:tn,useEffect:hp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,qu(4194308,4,gp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return qu(4194308,4,e,i)},useInsertionEffect:function(e,i){qu(4,2,e,i)},useMemo:function(e,i){var a=dn();i=i===void 0?null:i;var o=e();if(Os){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=dn();if(a!==void 0){var h=a(i);if(Os){ln(!0);try{a(i)}finally{ln(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=eA.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var i=dn();return e={current:e},i.memoizedState=e},useState:function(e){e=Ef(e);var i=e.queue,a=wp.bind(null,Ct,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Af,useDeferredValue:function(e,i){var a=dn();return Sf(a,e,i)},useTransition:function(){var e=Ef(!1);return e=Ep.bind(null,Ct,e.queue,!0,!1),dn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Ct,h=dn();if(Kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),re===null)throw Error(s(349));(Ht&124)!==0||Xg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,hp(Zg.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,ju(),$g.bind(null,o,f,a,i),null),a},useId:function(){var e=dn(),i=re.identifierPrefix;if(Kt){var a=qi,o=ji;a=(o&~(1<<32-Le(o)-1)).toString(32)+a,i="«"+i+"R"+a,a=Lu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=X0++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:wf,useFormState:ap,useActionState:ap,useOptimistic:function(e){var i=dn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Rf.bind(null,Ct,!0,a),a.dispatch=i,[e,i]},useMemoCache:yf,useCacheRefresh:function(){return dn().memoizedState=tA.bind(null,Ct)}},Dp={readContext:tn,use:zu,useCallback:yp,useContext:tn,useEffect:fp,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:mp,useMemo:_p,useReducer:Bu,useRef:cp,useState:function(){return Bu(Gi)},useDebugValue:Af,useDeferredValue:function(e,i){var a=Ie();return vp(a,te.memoizedState,e,i)},useTransition:function(){var e=Bu(Gi)[0],i=Ie().memoizedState;return[typeof e=="boolean"?e:$o(e),i]},useSyncExternalStore:Yg,useId:Sp,useHostTransitionStatus:wf,useFormState:op,useActionState:op,useOptimistic:function(e,i){var a=Ie();return tp(a,te,e,i)},useMemoCache:yf,useCacheRefresh:bp},nA={readContext:tn,use:zu,useCallback:yp,useContext:tn,useEffect:fp,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:mp,useMemo:_p,useReducer:vf,useRef:cp,useState:function(){return vf(Gi)},useDebugValue:Af,useDeferredValue:function(e,i){var a=Ie();return te===null?Sf(a,e,i):vp(a,te.memoizedState,e,i)},useTransition:function(){var e=vf(Gi)[0],i=Ie().memoizedState;return[typeof e=="boolean"?e:$o(e),i]},useSyncExternalStore:Yg,useId:Sp,useHostTransitionStatus:wf,useFormState:up,useActionState:up,useOptimistic:function(e,i){var a=Ie();return te!==null?tp(a,te,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:yf,useCacheRefresh:bp},Ca=null,Jo=0;function Gu(e){var i=Jo;return Jo+=1,Ca===null&&(Ca=[]),Bg(Ca,e,i)}function tl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Qu(e,i){throw i.$$typeof===I?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Np(e){var i=e._init;return i(e._payload)}function Op(e){function i(U,N){if(e){var x=U.deletions;x===null?(U.deletions=[N],U.flags|=16):x.push(N)}}function a(U,N){if(!e)return null;for(;N!==null;)i(U,N),N=N.sibling;return null}function o(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function h(U,N){return U=Bi(U,N),U.index=0,U.sibling=null,U}function f(U,N,x){return U.index=x,e?(x=U.alternate,x!==null?(x=x.index,x<N?(U.flags|=67108866,N):x):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function v(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,N,x,G){return N===null||N.tag!==6?(N=Qh(x,U.mode,G),N.return=U,N):(N=h(N,x),N.return=U,N)}function b(U,N,x,G){var lt=x.type;return lt===$?F(U,N,x.props.children,G,x.key):N!==null&&(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Np(lt)===N.type)?(N=h(N,x.props),tl(N,x),N.return=U,N):(N=Cu(x.type,x.key,x.props,null,U.mode,G),tl(N,x),N.return=U,N)}function L(U,N,x,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==x.containerInfo||N.stateNode.implementation!==x.implementation?(N=Kh(x,U.mode,G),N.return=U,N):(N=h(N,x.children||[]),N.return=U,N)}function F(U,N,x,G,lt){return N===null||N.tag!==7?(N=Ss(x,U.mode,G,lt),N.return=U,N):(N=h(N,x),N.return=U,N)}function K(U,N,x){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Qh(""+N,U.mode,x),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case D:return x=Cu(N.type,N.key,N.props,null,U.mode,x),tl(x,N),x.return=U,x;case H:return N=Kh(N,U.mode,x),N.return=U,N;case S:var G=N._init;return N=G(N._payload),K(U,N,x)}if(ae(N)||P(N))return N=Ss(N,U.mode,x,null),N.return=U,N;if(typeof N.then=="function")return K(U,Gu(N),x);if(N.$$typeof===ut)return K(U,Vu(U,N),x);Qu(U,N)}return null}function z(U,N,x,G){var lt=N!==null?N.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return lt!==null?null:E(U,N,""+x,G);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case D:return x.key===lt?b(U,N,x,G):null;case H:return x.key===lt?L(U,N,x,G):null;case S:return lt=x._init,x=lt(x._payload),z(U,N,x,G)}if(ae(x)||P(x))return lt!==null?null:F(U,N,x,G,null);if(typeof x.then=="function")return z(U,N,Gu(x),G);if(x.$$typeof===ut)return z(U,N,Vu(U,x),G);Qu(U,x)}return null}function B(U,N,x,G,lt){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(x)||null,E(N,U,""+G,lt);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case D:return U=U.get(G.key===null?x:G.key)||null,b(N,U,G,lt);case H:return U=U.get(G.key===null?x:G.key)||null,L(N,U,G,lt);case S:var Ot=G._init;return G=Ot(G._payload),B(U,N,x,G,lt)}if(ae(G)||P(G))return U=U.get(x)||null,F(N,U,G,lt,null);if(typeof G.then=="function")return B(U,N,x,Gu(G),lt);if(G.$$typeof===ut)return B(U,N,x,Vu(N,G),lt);Qu(N,G)}return null}function Et(U,N,x,G){for(var lt=null,Ot=null,ht=N,gt=N=0,He=null;ht!==null&&gt<x.length;gt++){ht.index>gt?(He=ht,ht=null):He=ht.sibling;var Gt=z(U,ht,x[gt],G);if(Gt===null){ht===null&&(ht=He);break}e&&ht&&Gt.alternate===null&&i(U,ht),N=f(Gt,N,gt),Ot===null?lt=Gt:Ot.sibling=Gt,Ot=Gt,ht=He}if(gt===x.length)return a(U,ht),Kt&&ws(U,gt),lt;if(ht===null){for(;gt<x.length;gt++)ht=K(U,x[gt],G),ht!==null&&(N=f(ht,N,gt),Ot===null?lt=ht:Ot.sibling=ht,Ot=ht);return Kt&&ws(U,gt),lt}for(ht=o(ht);gt<x.length;gt++)He=B(ht,U,gt,x[gt],G),He!==null&&(e&&He.alternate!==null&&ht.delete(He.key===null?gt:He.key),N=f(He,N,gt),Ot===null?lt=He:Ot.sibling=He,Ot=He);return e&&ht.forEach(function(kr){return i(U,kr)}),Kt&&ws(U,gt),lt}function mt(U,N,x,G){if(x==null)throw Error(s(151));for(var lt=null,Ot=null,ht=N,gt=N=0,He=null,Gt=x.next();ht!==null&&!Gt.done;gt++,Gt=x.next()){ht.index>gt?(He=ht,ht=null):He=ht.sibling;var kr=z(U,ht,Gt.value,G);if(kr===null){ht===null&&(ht=He);break}e&&ht&&kr.alternate===null&&i(U,ht),N=f(kr,N,gt),Ot===null?lt=kr:Ot.sibling=kr,Ot=kr,ht=He}if(Gt.done)return a(U,ht),Kt&&ws(U,gt),lt;if(ht===null){for(;!Gt.done;gt++,Gt=x.next())Gt=K(U,Gt.value,G),Gt!==null&&(N=f(Gt,N,gt),Ot===null?lt=Gt:Ot.sibling=Gt,Ot=Gt);return Kt&&ws(U,gt),lt}for(ht=o(ht);!Gt.done;gt++,Gt=x.next())Gt=B(ht,U,gt,Gt.value,G),Gt!==null&&(e&&Gt.alternate!==null&&ht.delete(Gt.key===null?gt:Gt.key),N=f(Gt,N,gt),Ot===null?lt=Gt:Ot.sibling=Gt,Ot=Gt);return e&&ht.forEach(function(iS){return i(U,iS)}),Kt&&ws(U,gt),lt}function ne(U,N,x,G){if(typeof x=="object"&&x!==null&&x.type===$&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case D:t:{for(var lt=x.key;N!==null;){if(N.key===lt){if(lt=x.type,lt===$){if(N.tag===7){a(U,N.sibling),G=h(N,x.props.children),G.return=U,U=G;break t}}else if(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===S&&Np(lt)===N.type){a(U,N.sibling),G=h(N,x.props),tl(G,x),G.return=U,U=G;break t}a(U,N);break}else i(U,N);N=N.sibling}x.type===$?(G=Ss(x.props.children,U.mode,G,x.key),G.return=U,U=G):(G=Cu(x.type,x.key,x.props,null,U.mode,G),tl(G,x),G.return=U,U=G)}return v(U);case H:t:{for(lt=x.key;N!==null;){if(N.key===lt)if(N.tag===4&&N.stateNode.containerInfo===x.containerInfo&&N.stateNode.implementation===x.implementation){a(U,N.sibling),G=h(N,x.children||[]),G.return=U,U=G;break t}else{a(U,N);break}else i(U,N);N=N.sibling}G=Kh(x,U.mode,G),G.return=U,U=G}return v(U);case S:return lt=x._init,x=lt(x._payload),ne(U,N,x,G)}if(ae(x))return Et(U,N,x,G);if(P(x)){if(lt=P(x),typeof lt!="function")throw Error(s(150));return x=lt.call(x),mt(U,N,x,G)}if(typeof x.then=="function")return ne(U,N,Gu(x),G);if(x.$$typeof===ut)return ne(U,N,Vu(U,x),G);Qu(U,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,N!==null&&N.tag===6?(a(U,N.sibling),G=h(N,x),G.return=U,U=G):(a(U,N),G=Qh(x,U.mode,G),G.return=U,U=G),v(U)):a(U,N)}return function(U,N,x,G){try{Jo=0;var lt=ne(U,N,x,G);return Ca=null,lt}catch(ht){if(ht===Fo||ht===Pu)throw ht;var Ot=En(29,ht,null,U.mode);return Ot.lanes=G,Ot.return=U,Ot}finally{}}}var Da=Op(!0),Vp=Op(!1),kn=X(null),mi=null;function Tr(e){var i=e.alternate;J(ke,ke.current&1),J(kn,e),mi===null&&(i===null||ba.current!==null||i.memoizedState!==null)&&(mi=e)}function Mp(e){if(e.tag===22){if(J(ke,ke.current),J(kn,e),mi===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(mi=e)}}else Ar()}function Ar(){J(ke,ke.current),J(kn,kn.current)}function Qi(e){nt(kn),mi===e&&(mi=null),nt(ke)}var ke=X(0);function Ku(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||pd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function If(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Cf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=bn(),h=_r(o);h.payload=i,a!=null&&(h.callback=a),i=vr(e,h,o),i!==null&&(wn(i,e,o),Qo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=bn(),h=_r(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=vr(e,h,o),i!==null&&(wn(i,e,o),Qo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=bn(),o=_r(a);o.tag=2,i!=null&&(o.callback=i),i=vr(e,o,a),i!==null&&(wn(i,e,a),Qo(i,e,a))}};function Pp(e,i,a,o,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):i.prototype&&i.prototype.isPureReactComponent?!ko(a,o)||!ko(h,f):!0}function Up(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Cf.enqueueReplaceState(i,i.state,null)}function Vs(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Yu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function kp(e){Yu(e)}function xp(e){console.error(e)}function Lp(e){Yu(e)}function Xu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function zp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(e,i,a){return a=_r(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(e,i)},a}function Bp(e){return e=_r(e),e.tag=3,e}function jp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){zp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){zp(i,a,o),typeof h!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function iA(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&jo(i,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 13:return mi===null?Jf():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===rf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),ed(e,o,h)),!1;case 22:return a.flags|=65536,o===rf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),ed(e,o,h)),!1}throw Error(s(435,a.tag))}return ed(e,o,h),Jf(),!1}if(Kt)return i=kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==$h&&(e=Error(s(422),{cause:o}),Bo(Vn(e,a)))):(o!==$h&&(i=Error(s(423),{cause:o}),Bo(Vn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Vn(o,a),h=Df(e.stateNode,o,h),of(e,h),pe!==4&&(pe=2)),!1;var f=Error(s(520),{cause:o});if(f=Vn(f,a),ol===null?ol=[f]:ol.push(f),pe!==4&&(pe=2),i===null)return!0;o=Vn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Df(a.stateNode,o,e),of(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cr===null||!Cr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Bp(h),jp(h,e,a,o),of(a,h),!1}a=a.return}while(a!==null);return!1}var qp=Error(s(461)),je=!1;function Ke(e,i,a,o){i.child=e===null?Vp(i,null,a,o):Da(i,e.child,a,o)}function Hp(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return Ds(i),o=ff(e,i,a,v,f,h),E=df(),e!==null&&!je?(mf(e,i,h),Ki(e,i,h)):(Kt&&E&&Yh(i),i.flags|=1,Ke(e,i,o,h),i.child)}function Fp(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Gp(e,i,f,o,h)):(e=Cu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!xf(e,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:ko,a(v,o)&&e.ref===i.ref)return Ki(e,i,h)}return i.flags|=1,e=Bi(f,o),e.ref=i.ref,e.return=i,i.child=e}function Gp(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(ko(f,o)&&e.ref===i.ref)if(je=!1,i.pendingProps=o=f,xf(e,h))(e.flags&131072)!==0&&(je=!0);else return i.lanes=e.lanes,Ki(e,i,h)}return Nf(e,i,a,o,h)}function Qp(e,i,a){var o=i.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(h=i.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~o}else i.childLanes=0,i.child=null;return Kp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(i,f!==null?f.cachePool:null),f!==null?Gg(i,f):uf(),Mp(i);else return i.lanes=i.childLanes=536870912,Kp(e,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(Mu(i,f.cachePool),Gg(i,f),Ar(),i.memoizedState=null):(e!==null&&Mu(i,null),uf(),Ar());return Ke(e,i,h,a),i.child}function Kp(e,i,a,o){var h=nf();return h=h===null?null:{parent:Ue._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Mu(i,null),uf(),Mp(i),e!==null&&jo(e,i,o,!0),null}function $u(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Nf(e,i,a,o,h){return Ds(i),a=ff(e,i,a,o,void 0,h),o=df(),e!==null&&!je?(mf(e,i,h),Ki(e,i,h)):(Kt&&o&&Yh(i),i.flags|=1,Ke(e,i,a,h),i.child)}function Yp(e,i,a,o,h,f){return Ds(i),i.updateQueue=null,a=Kg(i,o,a,h),Qg(e),o=df(),e!==null&&!je?(mf(e,i,f),Ki(e,i,f)):(Kt&&o&&Yh(i),i.flags|=1,Ke(e,i,a,f),i.child)}function Xp(e,i,a,o,h){if(Ds(i),i.stateNode===null){var f=va,v=a.contextType;typeof v=="object"&&v!==null&&(f=tn(v)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},sf(i),v=a.contextType,f.context=typeof v=="object"&&v!==null?tn(v):va,f.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(If(i,a,v,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Cf.enqueueReplaceState(f,f.state,null),Yo(i,o,f,h),Ko(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,b=Vs(a,E);f.props=b;var L=f.context,F=a.contextType;v=va,typeof F=="object"&&F!==null&&(v=tn(F));var K=a.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==v)&&Up(i,f,o,v),yr=!1;var z=i.memoizedState;f.state=z,Yo(i,o,f,h),Ko(),L=i.memoizedState,E||z!==L||yr?(typeof K=="function"&&(If(i,a,K,o),L=i.memoizedState),(b=yr||Pp(i,a,b,o,z,L,v))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=L),f.props=o,f.state=L,f.context=v,o=b):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,af(e,i),v=i.memoizedProps,F=Vs(a,v),f.props=F,K=i.pendingProps,z=f.context,L=a.contextType,b=va,typeof L=="object"&&L!==null&&(b=tn(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==K||z!==b)&&Up(i,f,o,b),yr=!1,z=i.memoizedState,f.state=z,Yo(i,o,f,h),Ko();var B=i.memoizedState;v!==K||z!==B||yr||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(If(i,a,E,o),B=i.memoizedState),(F=yr||Pp(i,a,F,o,z,B,b)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,b)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),f.props=o,f.state=B,f.context=b,o=F):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,$u(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=Da(i,e.child,null,h),i.child=Da(i,null,a,h)):Ke(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Ki(e,i,h),e}function $p(e,i,a,o){return zo(),i.flags|=256,Ke(e,i,a,o),i.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(e){return{baseLanes:e,cachePool:xg()}}function Mf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=xn),e}function Zp(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(ke.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Kt){if(h?Tr(i):Ar(),Kt){var E=ge,b;if(b=E){t:{for(b=E,E=di;b.nodeType!==8;){if(!E){E=null;break t}if(b=Xn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:bs!==null?{id:ji,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},b=En(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,fn=i,ge=null,b=!0):b=!1}b||Is(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return pd(E)?i.lanes=32:i.lanes=536870912,null;Qi(i)}return E=o.children,o=o.fallback,h?(Ar(),h=i.mode,E=Zu({mode:"hidden",children:E},h),o=Ss(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=Vf(a),h.childLanes=Mf(e,v,a),i.memoizedState=Of,o):(Tr(i),Pf(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)i.flags&256?(Tr(i),i.flags&=-257,i=Uf(e,i,a)):i.memoizedState!==null?(Ar(),i.child=e.child,i.flags|=128,i=null):(Ar(),h=o.fallback,E=i.mode,o=Zu({mode:"visible",children:o.children},E),h=Ss(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,Da(i,e.child,null,a),o=i.child,o.memoizedState=Vf(a),o.childLanes=Mf(e,v,a),i.memoizedState=Of,i=h);else if(Tr(i),pd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(s(419)),o.stack="",o.digest=v,Bo({value:o,source:null,stack:null}),i=Uf(e,i,a)}else if(je||jo(e,i,a,!1),v=(a&e.childLanes)!==0,je||v){if(v=re,v!==null&&(o=a&-a,o=(o&42)!==0?1:ur(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,_a(e,o),wn(v,e,o),qp;E.data==="$?"||Jf(),i=Uf(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,ge=Xn(E.nextSibling),fn=i,Kt=!0,Rs=null,di=!1,e!==null&&(Pn[Un++]=ji,Pn[Un++]=qi,Pn[Un++]=bs,ji=e.id,qi=e.overflow,bs=i),i=Pf(i,o.children),i.flags|=4096);return i}return h?(Ar(),h=o.fallback,E=i.mode,b=e.child,L=b.sibling,o=Bi(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=Bi(L,h):(h=Ss(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=Vf(a):(b=E.cachePool,b!==null?(L=Ue._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=xg(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=Mf(e,v,a),i.memoizedState=Of,o):(Tr(i),a=e.child,e=a.sibling,a=Bi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Pf(e,i){return i=Zu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Zu(e,i){return e=En(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Uf(e,i,a){return Da(i,e.child,null,a),e=Pf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Wp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Wh(e.return,i,a)}function kf(e,i,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function Jp(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;if(Ke(e,i,o.children,a),o=ke.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wp(e,a,i);else if(e.tag===19)Wp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(J(ke,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Ku(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),kf(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Ku(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}kf(i,!0,a,null,f);break;case"together":kf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ki(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Ir|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(jo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Bi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Bi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function xf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function rA(e,i,a){switch(i.tag){case 3:Wt(i,i.stateNode.containerInfo),pr(i,Ue,e.memoizedState.cache),zo();break;case 27:case 5:ti(i);break;case 4:Wt(i,i.stateNode.containerInfo);break;case 10:pr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Tr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Zp(e,i,a):(Tr(i),e=Ki(e,i,a),e!==null?e.sibling:null);Tr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(jo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Jp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(ke,ke.current),o)break;return null;case 22:case 23:return i.lanes=0,Qp(e,i,a);case 24:pr(i,Ue,e.memoizedState.cache)}return Ki(e,i,a)}function ty(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)je=!0;else{if(!xf(e,a)&&(i.flags&128)===0)return je=!1,rA(e,i,a);je=(e.flags&131072)!==0}else je=!1,Kt&&(i.flags&1048576)!==0&&Ng(i,Nu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Gh(o)?(e=Vs(o,e),i.tag=1,i=Xp(null,i,o,e,a)):(i.tag=0,i=Nf(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Pt){i.tag=11,i=Hp(null,i,o,e,a);break t}else if(h===M){i.tag=14,i=Fp(null,i,o,e,a);break t}}throw i=ue(o)||o,Error(s(306,i,""))}}return i;case 0:return Nf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Vs(o,i.pendingProps),Xp(e,i,o,h,a);case 3:t:{if(Wt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,af(e,i),Yo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,pr(i,Ue,o),o!==f.cache&&Jh(i,[Ue],a,!0),Ko(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=$p(e,i,o,a);break t}else if(o!==h){h=Vn(Error(s(424)),i),Bo(h),i=$p(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ge=Xn(e.firstChild),fn=i,Kt=!0,Rs=null,di=!0,a=Vp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zo(),o===h){i=Ki(e,i,a);break t}Ke(e,i,o,a)}i=i.child}return i;case 26:return $u(e,i),e===null?(a=r_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Kt||(a=i.type,e=i.pendingProps,o=hc(vt.current).createElement(a),o[Ve]=i,o[be]=e,Xe(o,a,e),_e(o),i.stateNode=o):i.memoizedState=r_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ti(i),e===null&&Kt&&(o=i.stateNode=e_(i.type,i.pendingProps,vt.current),fn=i,di=!0,h=ge,Or(i.type)?(yd=h,ge=Xn(o.firstChild)):ge=h),Ke(e,i,i.pendingProps.children,a),$u(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Kt&&((h=o=ge)&&(o=VA(o,i.type,i.pendingProps,di),o!==null?(i.stateNode=o,fn=i,ge=Xn(o.firstChild),di=!1,h=!0):h=!1),h||Is(i)),ti(i),h=i.type,f=i.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,dd(h,f)?o=null:v!==null&&dd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=ff(e,i,$0,null,null,a),pl._currentValue=h),$u(e,i),Ke(e,i,o,a),i.child;case 6:return e===null&&Kt&&((e=a=ge)&&(a=MA(a,i.pendingProps,di),a!==null?(i.stateNode=a,fn=i,ge=null,e=!0):e=!1),e||Is(i)),null;case 13:return Zp(e,i,a);case 4:return Wt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Da(i,null,o,a):Ke(e,i,o,a),i.child;case 11:return Hp(e,i,i.type,i.pendingProps,a);case 7:return Ke(e,i,i.pendingProps,a),i.child;case 8:return Ke(e,i,i.pendingProps.children,a),i.child;case 12:return Ke(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,pr(i,i.type,o.value),Ke(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ds(i),h=tn(h),o=o(h),i.flags|=1,Ke(e,i,o,a),i.child;case 14:return Fp(e,i,i.type,i.pendingProps,a);case 15:return Gp(e,i,i.type,i.pendingProps,a);case 19:return Jp(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=Zu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Bi(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Qp(e,i,a);case 24:return Ds(i),o=tn(Ue),e===null?(h=nf(),h===null&&(h=re,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},sf(i),pr(i,Ue,h)):((e.lanes&a)!==0&&(af(e,i),Yo(i,null,null,a),Ko()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),pr(i,Ue,o)):(o=f.cache,pr(i,Ue,o),o!==h.cache&&Jh(i,[Ue],a,!0))),Ke(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Yi(e){e.flags|=4}function ey(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!u_(i)){if(i=kn.current,i!==null&&((Ht&4194048)===Ht?mi!==null:(Ht&62914560)!==Ht&&(Ht&536870912)===0||i!==mi))throw Go=rf,Lg;e.flags|=8192}}function Wu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?_o():536870912,e.lanes|=i,Ma|=i)}function el(e,i){if(!Kt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function de(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function sA(e,i,a){var o=i.pendingProps;switch(Xh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(i),null;case 1:return de(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Fi(Ue),Rn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Lo(i)?Yi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mg())),de(i),null;case 26:return a=i.memoizedState,e===null?(Yi(i),a!==null?(de(i),ey(i,a)):(de(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Yi(i),de(i),ey(i,a)):(de(i),i.flags&=-16777217):(e.memoizedProps!==o&&Yi(i),de(i),i.flags&=-16777217),null;case 27:qn(i),a=vt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Yi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return de(i),null}e=ft.current,Lo(i)?Og(i):(e=e_(h,o,a),i.stateNode=e,Yi(i))}return de(i),null;case 5:if(qn(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Yi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return de(i),null}if(e=ft.current,Lo(i))Og(i);else{switch(h=hc(vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[Ve]=i,e[be]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Xe(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Yi(i)}}return de(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Yi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=vt.current,Lo(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=fn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ve]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Yy(e.nodeValue,a)),e||Is(i)}else e=hc(e).createTextNode(o),e[Ve]=i,i.stateNode=e}return de(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Lo(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ve]=i}else zo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;de(i),h=!1}else h=Mg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Qi(i),i):(Qi(i),null)}if(Qi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Wu(i,i.updateQueue),de(i),null;case 4:return Rn(),e===null&&ld(i.stateNode.containerInfo),de(i),null;case 10:return Fi(i.type),de(i),null;case 19:if(nt(ke),h=i.memoizedState,h===null)return de(i),null;if(o=(i.flags&128)!==0,f=h.rendering,f===null)if(o)el(h,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Ku(e),f!==null){for(i.flags|=128,el(h,!1),e=f.updateQueue,i.updateQueue=e,Wu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Dg(a,e),a=a.sibling;return J(ke,ke.current&1|2),i.child}e=e.sibling}h.tail!==null&&wt()>ec&&(i.flags|=128,o=!0,el(h,!1),i.lanes=4194304)}else{if(!o)if(e=Ku(f),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Wu(i,e),el(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Kt)return de(i),null}else 2*wt()-h.renderingStartTime>ec&&a!==536870912&&(i.flags|=128,o=!0,el(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(e=h.last,e!==null?e.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=wt(),i.sibling=null,e=ke.current,J(ke,o?e&1|2:e&1),i):(de(i),null);case 22:case 23:return Qi(i),cf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(de(i),i.subtreeFlags&6&&(i.flags|=8192)):de(i),a=i.updateQueue,a!==null&&Wu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&nt(Ns),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fi(Ue),de(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function aA(e,i){switch(Xh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Fi(Ue),Rn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return qn(i),null;case 13:if(Qi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return nt(ke),null;case 4:return Rn(),null;case 10:return Fi(i.type),null;case 22:case 23:return Qi(i),cf(),e!==null&&nt(Ns),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Fi(Ue),null;case 25:return null;default:return null}}function ny(e,i){switch(Xh(i),i.tag){case 3:Fi(Ue),Rn();break;case 26:case 27:case 5:qn(i);break;case 4:Rn();break;case 13:Qi(i);break;case 19:nt(ke);break;case 10:Fi(i.type);break;case 22:case 23:Qi(i),cf(),e!==null&&nt(Ns);break;case 24:Fi(Ue)}}function nl(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){ie(i,i.return,E)}}function Sr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var b=a,L=E;try{L()}catch(F){ie(h,b,F)}}}o=o.next}while(o!==f)}}catch(F){ie(i,i.return,F)}}function iy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Fg(i,a)}catch(o){ie(e,e.return,o)}}}function ry(e,i,a){a.props=Vs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){ie(e,i,o)}}function il(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){ie(e,i,h)}}function gi(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){ie(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ie(e,i,h)}else a.current=null}function sy(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){ie(e,e.return,h)}}function Lf(e,i,a){try{var o=e.stateNode;IA(o,e.type,a,i),o[be]=i}catch(h){ie(e,e.return,h)}}function ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Or(e.type)||e.tag===4}function zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Or(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=cc));else if(o!==4&&(o===27&&Or(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Bf(e,i,a),e=e.sibling;e!==null;)Bf(e,i,a),e=e.sibling}function Ju(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Or(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ju(e,i,a),e=e.sibling;e!==null;)Ju(e,i,a),e=e.sibling}function oy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Xe(i,o,a),i[Ve]=e,i[be]=a}catch(f){ie(e,e.return,f)}}var Xi=!1,Ee=!1,jf=!1,ly=typeof WeakSet=="function"?WeakSet:Set,qe=null;function oA(e,i){if(e=e.containerInfo,hd=yc,e=vg(e),Lh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,L=0,F=0,K=e,z=null;e:for(;;){for(var B;K!==a||h!==0&&K.nodeType!==3||(E=v+h),K!==f||o!==0&&K.nodeType!==3||(b=v+o),K.nodeType===3&&(v+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===e)break e;if(z===a&&++L===h&&(E=v),z===f&&++F===o&&(b=v),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(fd={focusedElem:e,selectionRange:a},yc=!1,qe=i;qe!==null;)if(i=qe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,qe=e;else for(;qe!==null;){switch(i=qe,f=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var Et=Vs(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(Et,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){ie(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)gd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,qe=e;break}qe=i.return}}function uy(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:br(e,a),o&4&&nl(5,a);break;case 1:if(br(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){ie(a,a.return,v)}else{var h=Vs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ie(a,a.return,v)}}o&64&&iy(a),o&512&&il(a,a.return);break;case 3:if(br(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Fg(e,i)}catch(v){ie(a,a.return,v)}}break;case 27:i===null&&o&4&&oy(a);case 26:case 5:br(e,a),i===null&&o&4&&sy(a),o&512&&il(a,a.return);break;case 12:br(e,a);break;case 13:br(e,a),o&4&&fy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=pA.bind(null,a),PA(e,a))));break;case 22:if(o=a.memoizedState!==null||Xi,!o){i=i!==null&&i.memoizedState!==null||Ee,h=Xi;var f=Ee;Xi=o,(Ee=i)&&!f?wr(e,a,(a.subtreeFlags&8772)!==0):br(e,a),Xi=h,Ee=f}break;case 30:break;default:br(e,a)}}function cy(e){var i=e.alternate;i!==null&&(e.alternate=null,cy(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&fr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,mn=!1;function $i(e,i,a){for(a=a.child;a!==null;)hy(e,i,a),a=a.sibling}function hy(e,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(ce,a)}catch{}switch(a.tag){case 26:Ee||gi(a,i),$i(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ee||gi(a,i);var o=fe,h=mn;Or(a.type)&&(fe=a.stateNode,mn=!1),$i(e,i,a),fl(a.stateNode),fe=o,mn=h;break;case 5:Ee||gi(a,i);case 6:if(o=fe,h=mn,fe=null,$i(e,i,a),fe=o,mn=h,fe!==null)if(mn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(a.stateNode)}catch(f){ie(a,i,f)}else try{fe.removeChild(a.stateNode)}catch(f){ie(a,i,f)}break;case 18:fe!==null&&(mn?(e=fe,Jy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),El(e)):Jy(fe,a.stateNode));break;case 4:o=fe,h=mn,fe=a.stateNode.containerInfo,mn=!0,$i(e,i,a),fe=o,mn=h;break;case 0:case 11:case 14:case 15:Ee||Sr(2,a,i),Ee||Sr(4,a,i),$i(e,i,a);break;case 1:Ee||(gi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&ry(a,i,o)),$i(e,i,a);break;case 21:$i(e,i,a);break;case 22:Ee=(o=Ee)||a.memoizedState!==null,$i(e,i,a),Ee=o;break;default:$i(e,i,a)}}function fy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{El(e)}catch(a){ie(i,i.return,a)}}function lA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new ly),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new ly),i;default:throw Error(s(435,e.tag))}}function qf(e,i){var a=lA(e);i.forEach(function(o){var h=yA.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function Tn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(Or(E.type)){fe=E.stateNode,mn=!1;break t}break;case 5:fe=E.stateNode,mn=!1;break t;case 3:case 4:fe=E.stateNode.containerInfo,mn=!0;break t}E=E.return}if(fe===null)throw Error(s(160));hy(f,v,h),fe=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)dy(i,e),i=i.sibling}var Yn=null;function dy(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tn(i,e),An(e),o&4&&(Sr(3,e,e.return),nl(3,e),Sr(5,e,e.return));break;case 1:Tn(i,e),An(e),o&512&&(Ee||a===null||gi(a,a.return)),o&64&&Xi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Yn;if(Tn(i,e),An(e),o&512&&(Ee||a===null||gi(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[os]||f[Ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Xe(f,o,a),f[Ve]=e,_e(f),o=f;break t;case"link":var v=o_("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=h.createElement(o),Xe(f,o,a),h.head.appendChild(f);break;case"meta":if(v=o_("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=h.createElement(o),Xe(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ve]=e,_e(f),o=f}e.stateNode=o}else l_(h,e.type,e.stateNode);else e.stateNode=a_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?l_(h,e.type,e.stateNode):a_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Lf(e,e.memoizedProps,a.memoizedProps)}break;case 27:Tn(i,e),An(e),o&512&&(Ee||a===null||gi(a,a.return)),a!==null&&o&4&&Lf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Tn(i,e),An(e),o&512&&(Ee||a===null||gi(a,a.return)),e.flags&32){h=e.stateNode;try{Cn(h,"")}catch(B){ie(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Lf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(jf=!0);break;case 6:if(Tn(i,e),An(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){ie(e,e.return,B)}}break;case 3:if(mc=null,h=Yn,Yn=fc(i.containerInfo),Tn(i,e),Yn=h,An(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{El(i.containerInfo)}catch(B){ie(e,e.return,B)}jf&&(jf=!1,my(e));break;case 4:o=Yn,Yn=fc(e.stateNode.containerInfo),Tn(i,e),An(e),Yn=o;break;case 12:Tn(i,e),An(e);break;case 13:Tn(i,e),An(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Yf=wt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,qf(e,o)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,L=Xi,F=Ee;if(Xi=L||h,Ee=F||b,Tn(i,e),Ee=F,Xi=L,An(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||b||Xi||Ee||Ms(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(f=b.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=b.stateNode;var K=b.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){ie(b,b.return,B)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){ie(b,b.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,qf(e,a))));break;case 19:Tn(i,e),An(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,qf(e,o)));break;case 30:break;case 21:break;default:Tn(i,e),An(e)}}function An(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(ay(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=zf(e);Ju(e,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(Cn(v,""),a.flags&=-33);var E=zf(e);Ju(e,E,v);break;case 3:case 4:var b=a.stateNode.containerInfo,L=zf(e);Bf(e,L,b);break;default:throw Error(s(161))}}catch(F){ie(e,e.return,F)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;my(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function br(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)uy(e,i.alternate,i),i=i.sibling}function Ms(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Sr(4,i,i.return),Ms(i);break;case 1:gi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ry(i,i.return,a),Ms(i);break;case 27:fl(i.stateNode);case 26:case 5:gi(i,i.return),Ms(i);break;case 22:i.memoizedState===null&&Ms(i);break;case 30:Ms(i);break;default:Ms(i)}e=e.sibling}}function wr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,v=f.flags;switch(f.tag){case 0:case 11:case 15:wr(h,f,a),nl(4,f);break;case 1:if(wr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){ie(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)Hg(b[h],E)}catch(L){ie(o,o.return,L)}}a&&v&64&&iy(f),il(f,f.return);break;case 27:oy(f);case 26:case 5:wr(h,f,a),a&&o===null&&v&4&&sy(f),il(f,f.return);break;case 12:wr(h,f,a);break;case 13:wr(h,f,a),a&&v&4&&fy(h,f);break;case 22:f.memoizedState===null&&wr(h,f,a),il(f,f.return);break;case 30:break;default:wr(h,f,a)}i=i.sibling}}function Hf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&qo(a))}function Ff(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&qo(e))}function pi(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)gy(e,i,a,o),i=i.sibling}function gy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:pi(e,i,a,o),h&2048&&nl(9,i);break;case 1:pi(e,i,a,o);break;case 3:pi(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&qo(e)));break;case 12:if(h&2048){pi(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){ie(i,i.return,b)}}else pi(e,i,a,o);break;case 13:pi(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,v=i.alternate,i.memoizedState!==null?f._visibility&2?pi(e,i,a,o):rl(e,i):f._visibility&2?pi(e,i,a,o):(f._visibility|=2,Na(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Hf(v,i);break;case 24:pi(e,i,a,o),h&2048&&Ff(i.alternate,i);break;default:pi(e,i,a,o)}}function Na(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=e,v=i,E=a,b=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:Na(f,v,E,b,h),nl(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?Na(f,v,E,b,h):rl(f,v):(F._visibility|=2,Na(f,v,E,b,h)),h&&L&2048&&Hf(v.alternate,v);break;case 24:Na(f,v,E,b,h),h&&L&2048&&Ff(v.alternate,v);break;default:Na(f,v,E,b,h)}i=i.sibling}}function rl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:rl(a,o),h&2048&&Hf(o.alternate,o);break;case 24:rl(a,o),h&2048&&Ff(o.alternate,o);break;default:rl(a,o)}i=i.sibling}}var sl=8192;function Oa(e){if(e.subtreeFlags&sl)for(e=e.child;e!==null;)py(e),e=e.sibling}function py(e){switch(e.tag){case 26:Oa(e),e.flags&sl&&e.memoizedState!==null&&KA(Yn,e.memoizedState,e.memoizedProps);break;case 5:Oa(e);break;case 3:case 4:var i=Yn;Yn=fc(e.stateNode.containerInfo),Oa(e),Yn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=sl,sl=16777216,Oa(e),sl=i):Oa(e));break;default:Oa(e)}}function yy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function al(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];qe=o,vy(o,e)}yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_y(e),e=e.sibling}function _y(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&Sr(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,tc(e)):al(e);break;default:al(e)}}function tc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];qe=o,vy(o,e)}yy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Sr(8,i,i.return),tc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,tc(i));break;default:tc(i)}e=e.sibling}}function vy(e,i){for(;qe!==null;){var a=qe;switch(a.tag){case 0:case 11:case 15:Sr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,qe=o;else t:for(a=e;qe!==null;){o=qe;var h=o.sibling,f=o.return;if(cy(o),o===a){qe=null;break t}if(h!==null){h.return=f,qe=h;break t}qe=f}}}var uA={getCacheForType:function(e){var i=tn(Ue),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},cA=typeof WeakMap=="function"?WeakMap:Map,$t=0,re=null,Vt=null,Ht=0,Zt=0,Sn=null,Rr=!1,Va=!1,Gf=!1,Zi=0,pe=0,Ir=0,Ps=0,Qf=0,xn=0,Ma=0,ol=null,gn=null,Kf=!1,Yf=0,ec=1/0,nc=null,Cr=null,Ye=0,Dr=null,Pa=null,Ua=0,Xf=0,$f=null,Ey=null,ll=0,Zf=null;function bn(){if(($t&2)!==0&&Ht!==0)return Ht&-Ht;if(q.T!==null){var e=Aa;return e!==0?e:rd()}return cr()}function Ty(){xn===0&&(xn=(Ht&536870912)===0||Kt?yo():536870912);var e=kn.current;return e!==null&&(e.flags|=32),xn}function wn(e,i,a){(e===re&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),Nr(e,Ht,xn,!1)),Di(e,a),(($t&2)===0||e!==re)&&(e===re&&(($t&2)===0&&(Ps|=a),pe===4&&Nr(e,Ht,xn,!1)),yi(e))}function Ay(e,i,a){if(($t&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||as(e,i),h=o?dA(e,i):td(e,i,!0),f=o;do{if(h===0){Va&&!o&&Nr(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!hA(a)){h=td(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=ol;var b=E.current.memoizedState.isDehydrated;if(b&&(ka(E,v).flags|=256),v=td(E,v,!1),v!==2){if(Gf&&!b){E.errorRecoveryDisabledLanes|=f,Ps|=f,h=4;break t}f=gn,gn=h,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){ka(e,0),Nr(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Nr(o,i,xn,!Rr);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Yf+300-wt(),10<h)){if(Nr(o,i,xn,!Rr),Js(o,0,!0)!==0)break t;o.timeoutHandle=Zy(Sy.bind(null,o,a,gn,nc,Kf,i,xn,Ps,Ma,Rr,f,2,-0,0),h);break t}Sy(o,a,gn,nc,Kf,i,xn,Ps,Ma,Rr,f,0,-0,0)}}break}while(!0);yi(e)}function Sy(e,i,a,o,h,f,v,E,b,L,F,K,z,B){if(e.timeoutHandle=-1,K=i.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(gl={stylesheets:null,count:0,unsuspend:QA},py(i),K=YA(),K!==null)){e.cancelPendingCommit=K(Ny.bind(null,e,i,f,a,o,h,v,E,b,F,1,z,B)),Nr(e,f,v,!L);return}Ny(e,i,f,a,o,h,v,E,b)}function hA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!vn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Nr(e,i,a,o){i&=~Qf,i&=~Ps,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-Le(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&ni(e,a,i)}function ic(){return($t&6)===0?(ul(0),!1):!0}function Wf(){if(Vt!==null){if(Zt===0)var e=Vt.return;else e=Vt,Hi=Cs=null,gf(e),Ca=null,Jo=0,e=Vt;for(;e!==null;)ny(e.alternate,e),e=e.return;Vt=null}}function ka(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,DA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wf(),re=e,Vt=a=Bi(e.current,null),Ht=i,Zt=0,Sn=null,Rr=!1,Va=as(e,i),Gf=!1,Ma=xn=Qf=Ps=Ir=pe=0,gn=ol=null,Kf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-Le(o),f=1<<h;i|=e[h],o&=~f}return Zi=i,wu(),a}function by(e,i){Ct=null,q.H=Fu,i===Fo||i===Pu?(i=jg(),Zt=3):i===Lg?(i=jg(),Zt=4):Zt=i===qp?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Vt===null&&(pe=1,Xu(e,Vn(i,e.current)))}function wy(){var e=q.H;return q.H=Fu,e===null?Fu:e}function Ry(){var e=q.A;return q.A=uA,e}function Jf(){pe=4,Rr||(Ht&4194048)!==Ht&&kn.current!==null||(Va=!0),(Ir&134217727)===0&&(Ps&134217727)===0||re===null||Nr(re,Ht,xn,!1)}function td(e,i,a){var o=$t;$t|=2;var h=wy(),f=Ry();(re!==e||Ht!==i)&&(nc=null,ka(e,i)),i=!1;var v=pe;t:do try{if(Zt!==0&&Vt!==null){var E=Vt,b=Sn;switch(Zt){case 8:Wf(),v=6;break t;case 3:case 2:case 9:case 6:kn.current===null&&(i=!0);var L=Zt;if(Zt=0,Sn=null,xa(e,E,b,L),a&&Va){v=0;break t}break;default:L=Zt,Zt=0,Sn=null,xa(e,E,b,L)}}fA(),v=pe;break}catch(F){by(e,F)}while(!0);return i&&e.shellSuspendCounter++,Hi=Cs=null,$t=o,q.H=h,q.A=f,Vt===null&&(re=null,Ht=0,wu()),v}function fA(){for(;Vt!==null;)Iy(Vt)}function dA(e,i){var a=$t;$t|=2;var o=wy(),h=Ry();re!==e||Ht!==i?(nc=null,ec=wt()+500,ka(e,i)):Va=as(e,i);t:do try{if(Zt!==0&&Vt!==null){i=Vt;var f=Sn;e:switch(Zt){case 1:Zt=0,Sn=null,xa(e,i,f,1);break;case 2:case 9:if(zg(f)){Zt=0,Sn=null,Cy(i);break}i=function(){Zt!==2&&Zt!==9||re!==e||(Zt=7),yi(e)},f.then(i,i);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:zg(f)?(Zt=0,Sn=null,Cy(i)):(Zt=0,Sn=null,xa(e,i,f,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var E=Vt;if(!v||u_(v)){Zt=0,Sn=null;var b=E.sibling;if(b!==null)Vt=b;else{var L=E.return;L!==null?(Vt=L,rc(L)):Vt=null}break e}}Zt=0,Sn=null,xa(e,i,f,5);break;case 6:Zt=0,Sn=null,xa(e,i,f,6);break;case 8:Wf(),pe=6;break t;default:throw Error(s(462))}}mA();break}catch(F){by(e,F)}while(!0);return Hi=Cs=null,q.H=o,q.A=h,$t=a,Vt!==null?0:(re=null,Ht=0,wu(),pe)}function mA(){for(;Vt!==null&&!St();)Iy(Vt)}function Iy(e){var i=ty(e.alternate,e,Zi);e.memoizedProps=e.pendingProps,i===null?rc(e):Vt=i}function Cy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Yp(a,i,i.pendingProps,i.type,void 0,Ht);break;case 11:i=Yp(a,i,i.pendingProps,i.type.render,i.ref,Ht);break;case 5:gf(i);default:ny(a,i),i=Vt=Dg(i,Zi),i=ty(a,i,Zi)}e.memoizedProps=e.pendingProps,i===null?rc(e):Vt=i}function xa(e,i,a,o){Hi=Cs=null,gf(i),Ca=null,Jo=0;var h=i.return;try{if(iA(e,h,i,a,Ht)){pe=1,Xu(e,Vn(a,e.current)),Vt=null;return}}catch(f){if(h!==null)throw Vt=h,f;pe=1,Xu(e,Vn(a,e.current)),Vt=null;return}i.flags&32768?(Kt||o===1?e=!0:Va||(Ht&536870912)!==0?e=!1:(Rr=e=!0,(o===2||o===9||o===3||o===6)&&(o=kn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Dy(i,e)):rc(i)}function rc(e){var i=e;do{if((i.flags&32768)!==0){Dy(i,Rr);return}e=i.return;var a=sA(i.alternate,i,Zi);if(a!==null){Vt=a;return}if(i=i.sibling,i!==null){Vt=i;return}Vt=i=e}while(i!==null);pe===0&&(pe=5)}function Dy(e,i){do{var a=aA(e.alternate,e);if(a!==null){a.flags&=32767,Vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=a}while(e!==null);pe=6,Vt=null}function Ny(e,i,a,o,h,f,v,E,b){e.cancelPendingCommit=null;do sc();while(Ye!==0);if(($t&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Hh,vo(e,a,f,v,E,b),e===re&&(Vt=re=null,Ht=0),Pa=i,Dr=e,Ua=a,Xf=f,$f=h,Ey=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_A(Oe,function(){return Uy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=et.p,et.p=2,v=$t,$t|=4;try{oA(e,i,a)}finally{$t=v,et.p=h,q.T=o}}Ye=1,Oy(),Vy(),My()}}function Oy(){if(Ye===1){Ye=0;var e=Dr,i=Pa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var o=et.p;et.p=2;var h=$t;$t|=4;try{dy(i,e);var f=fd,v=vg(e.containerInfo),E=f.focusedElem,b=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&_g(E.ownerDocument.documentElement,E)){if(b!==null&&Lh(E)){var L=b.start,F=b.end;if(F===void 0&&(F=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),Et=E.textContent.length,mt=Math.min(b.start,Et),ne=b.end===void 0?mt:Math.min(b.end,Et);!B.extend&&mt>ne&&(v=ne,ne=mt,mt=v);var U=yg(E,mt),N=yg(E,ne);if(U&&N&&(B.rangeCount!==1||B.anchorNode!==U.node||B.anchorOffset!==U.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var x=K.createRange();x.setStart(U.node,U.offset),B.removeAllRanges(),mt>ne?(B.addRange(x),B.extend(N.node,N.offset)):(x.setEnd(N.node,N.offset),B.addRange(x))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var G=K[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}yc=!!hd,fd=hd=null}finally{$t=h,et.p=o,q.T=a}}e.current=i,Ye=2}}function Vy(){if(Ye===2){Ye=0;var e=Dr,i=Pa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var o=et.p;et.p=2;var h=$t;$t|=4;try{uy(e,i.alternate,i)}finally{$t=h,et.p=o,q.T=a}}Ye=3}}function My(){if(Ye===4||Ye===3){Ye=0,Nt();var e=Dr,i=Pa,a=Ua,o=Ey;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ye=5:(Ye=0,Pa=Dr=null,Py(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Cr=null),ta(a),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(ce,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=q.T,h=et.p,et.p=2,q.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];f(E.value,{componentStack:E.stack})}}finally{q.T=i,et.p=h}}(Ua&3)!==0&&sc(),yi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Zf?ll++:(ll=0,Zf=e):ll=0,ul(0)}}function Py(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,qo(i)))}function sc(e){return Oy(),Vy(),My(),Uy()}function Uy(){if(Ye!==5)return!1;var e=Dr,i=Xf;Xf=0;var a=ta(Ua),o=q.T,h=et.p;try{et.p=32>a?32:a,q.T=null,a=$f,$f=null;var f=Dr,v=Ua;if(Ye=0,Pa=Dr=null,Ua=0,($t&6)!==0)throw Error(s(331));var E=$t;if($t|=4,_y(f.current),gy(f,f.current,v,a),$t=E,ul(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(ce,f)}catch{}return!0}finally{et.p=h,q.T=o,Py(e,i)}}function ky(e,i,a){i=Vn(a,i),i=Df(e.stateNode,i,2),e=vr(e,i,2),e!==null&&(Di(e,2),yi(e))}function ie(e,i,a){if(e.tag===3)ky(e,e,a);else for(;i!==null;){if(i.tag===3){ky(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cr===null||!Cr.has(o))){e=Vn(a,e),a=Bp(2),o=vr(i,a,2),o!==null&&(jp(a,o,i,e),Di(o,2),yi(o));break}}i=i.return}}function ed(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new cA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Gf=!0,h.add(a),e=gA.bind(null,e,i,a),i.then(e,e))}function gA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,re===e&&(Ht&a)===a&&(pe===4||pe===3&&(Ht&62914560)===Ht&&300>wt()-Yf?($t&2)===0&&ka(e,0):Qf|=a,Ma===Ht&&(Ma=0)),yi(e)}function xy(e,i){i===0&&(i=_o()),e=_a(e,i),e!==null&&(Di(e,i),yi(e))}function pA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),xy(e,a)}function yA(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),xy(e,a)}function _A(e,i){return Ii(e,i)}var ac=null,La=null,nd=!1,oc=!1,id=!1,Us=0;function yi(e){e!==La&&e.next===null&&(La===null?ac=La=e:La=La.next=e),oc=!0,nd||(nd=!0,EA())}function ul(e,i){if(!id&&oc){id=!0;do for(var a=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Le(42|e)+1)-1,f&=h&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,jy(o,f))}else f=Ht,f=Js(o,o===re?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||as(o,f)||(a=!0,jy(o,f));o=o.next}while(a);id=!1}}function vA(){Ly()}function Ly(){oc=nd=!1;var e=0;Us!==0&&(CA()&&(e=Us),Us=0);for(var i=wt(),a=null,o=ac;o!==null;){var h=o.next,f=zy(o,i);f===0?(o.next=null,a===null?ac=h:a.next=h,h===null&&(La=a)):(a=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=h}ul(e)}function zy(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Le(f),E=1<<v,b=h[v];b===-1?((E&a)===0||(E&o)!==0)&&(h[v]=po(E,i)):b<=i&&(e.expiredLanes|=E),f&=~E}if(i=re,a=Ht,a=Js(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Zt===2||Zt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&st(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||as(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&st(o),ta(a)){case 2:case 8:a=oe;break;case 32:a=Oe;break;case 268435456:a=yn;break;default:a=Oe}return o=By.bind(null,e),a=Ii(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&st(o),e.callbackPriority=2,e.callbackNode=null,2}function By(e,i){if(Ye!==0&&Ye!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(sc()&&e.callbackNode!==a)return null;var o=Ht;return o=Js(e,e===re?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ay(e,o,i),zy(e,wt()),e.callbackNode!=null&&e.callbackNode===a?By.bind(null,e):null)}function jy(e,i){if(sc())return null;Ay(e,i,!0)}function EA(){NA(function(){($t&6)!==0?Ii(zt,vA):Ly()})}function rd(){return Us===0&&(Us=yo()),Us}function qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function Hy(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function TA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=qy((h[be]||null).action),v=o.submitter;v&&(i=(i=v[be]||null)?qy(i.formAction):v.getAttribute("formAction"),i!==null&&(f=i,v=null));var E=new oa("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Us!==0){var b=v?Hy(h,v):new FormData(h);bf(a,{pending:!0,data:b,method:h.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=v?Hy(h,v):new FormData(h),bf(a,{pending:!0,data:b,method:h.method,action:f},f,b))},currentTarget:h}]})}}for(var sd=0;sd<qh.length;sd++){var ad=qh[sd],AA=ad.toLowerCase(),SA=ad[0].toUpperCase()+ad.slice(1);Kn(AA,"on"+SA)}Kn(Ag,"onAnimationEnd"),Kn(Sg,"onAnimationIteration"),Kn(bg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(B0,"onTransitionRun"),Kn(j0,"onTransitionStart"),Kn(q0,"onTransitionCancel"),Kn(wg,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function Fy(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(F){Yu(F)}h.currentTarget=null,f=b}else for(v=0;v<o.length;v++){if(E=o[v],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=L;try{f(h)}catch(F){Yu(F)}h.currentTarget=null,f=b}}}}function Mt(e,i){var a=i[To];a===void 0&&(a=i[To]=new Set);var o=e+"__bubble";a.has(o)||(Gy(i,e,2,!1),a.add(o))}function od(e,i,a){var o=0;i&&(o|=4),Gy(a,e,o,i)}var lc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[lc]){e[lc]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(bA.has(a)||od(a,!1,e),od(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[lc]||(i[lc]=!0,od("selectionchange",!1,i))}}function Gy(e,i,a,o){switch(g_(i)){case 2:var h=ZA;break;case 8:h=WA;break;default:h=Ad}a=h.bind(null,i,a,e),h=void 0,!Nn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function ud(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Ni(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){o=f=v;continue t}E=E.parentNode}}o=o.return}cu(function(){var L=f,F=Dn(a),K=[];t:{var z=Rg.get(e);if(z!==void 0){var B=oa,Et=e;switch(e){case"keypress":if(li(a)===0)break t;case"keydown":case"keyup":B=da;break;case"focusin":Et="focus",B=ca;break;case"focusout":Et="blur",B=ca;break;case"beforeblur":case"afterblur":B=ca;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Ph;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=_u;break;case Ag:case Sg:case bg:B=ha;break;case wg:B=Eu;break;case"scroll":case"scrollend":B=hu;break;case"wheel":B=ma;break;case"copy":case"cut":case"paste":B=fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Po;break;case"toggle":case"beforetoggle":B=Au}var mt=(i&4)!==0,ne=!mt&&(e==="scroll"||e==="scrollend"),U=mt?z!==null?z+"Capture":null:z;mt=[];for(var N=L,x;N!==null;){var G=N;if(x=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||x===null||U===null||(G=ms(N,U),G!=null&&mt.push(hl(N,G,x))),ne)break;N=N.return}0<mt.length&&(z=new B(z,Et,null,a,F),K.push({event:z,listeners:mt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==Pi&&(Et=a.relatedTarget||a.fromElement)&&(Ni(Et)||Et[In]))break t;if((B||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,B?(Et=a.relatedTarget||a.toElement,B=L,Et=Et?Ni(Et):null,Et!==null&&(ne=c(Et),mt=Et.tag,Et!==ne||mt!==5&&mt!==27&&mt!==6)&&(Et=null)):(B=null,Et=L),B!==Et)){if(mt=On,G="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Po,G="onPointerLeave",U="onPointerEnter",N="pointer"),ne=B==null?z:ri(B),x=Et==null?z:ri(Et),z=new mt(G,N+"leave",B,a,F),z.target=ne,z.relatedTarget=x,G=null,Ni(F)===L&&(mt=new mt(U,N+"enter",Et,a,F),mt.target=x,mt.relatedTarget=ne,G=mt),ne=G,B&&Et)e:{for(mt=B,U=Et,N=0,x=mt;x;x=za(x))N++;for(x=0,G=U;G;G=za(G))x++;for(;0<N-x;)mt=za(mt),N--;for(;0<x-N;)U=za(U),x--;for(;N--;){if(mt===U||U!==null&&mt===U.alternate)break e;mt=za(mt),U=za(U)}mt=null}else mt=null;B!==null&&Qy(K,z,B,mt,!1),Et!==null&&ne!==null&&Qy(K,ne,Et,mt,!0)}}t:{if(z=L?ri(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var lt=hg;else if(Pe(z))if(fg)lt=x0;else{lt=U0;var Ot=P0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&Io(L.elementType)&&(lt=hg):lt=k0;if(lt&&(lt=lt(e,L))){zi(K,lt,a,F);break t}Ot&&Ot(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&mr(z,"number",z.value)}switch(Ot=L?ri(L):window,e){case"focusin":(Pe(Ot)||Ot.contentEditable==="true")&&(ga=Ot,zh=L,xo=null);break;case"focusout":xo=zh=ga=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,Eg(K,a,F);break;case"selectionchange":if(z0)break;case"keydown":case"keyup":Eg(K,a,F)}var ht;if(hi)t:{switch(e){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else jt?j(e,a)&&(gt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(y&&a.locale!=="ko"&&(jt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&jt&&(ht=Do()):(oi=F,gr="value"in oi?oi.value:oi.textContent,jt=!0)),Ot=uc(L,gt),0<Ot.length&&(gt=new Vo(gt,e,null,a,F),K.push({event:gt,listeners:Ot}),ht?gt.data=ht:(ht=tt(a),ht!==null&&(gt.data=ht)))),(ht=m?Me(e,a):qt(e,a))&&(gt=uc(L,"onBeforeInput"),0<gt.length&&(Ot=new Vo("onBeforeInput","beforeinput",null,a,F),K.push({event:Ot,listeners:gt}),Ot.data=ht)),TA(K,e,L,a,F)}Fy(K,i)})}function hl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function uc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ms(e,a),h!=null&&o.unshift(hl(e,h,f)),h=ms(e,i),h!=null&&o.push(hl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function za(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qy(e,i,a,o,h){for(var f=i._reactName,v=[];a!==null&&a!==o;){var E=a,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=ms(a,f),L!=null&&v.unshift(hl(a,L,b))):h||(L=ms(a,f),L!=null&&v.push(hl(a,L,b)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var wA=/\r\n?/g,RA=/\u0000|\uFFFD/g;function Ky(e){return(typeof e=="string"?e:""+e).replace(wA,`
`).replace(RA,"")}function Yy(e,i){return i=Ky(i),Ky(e)===i}function cc(){}function ee(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||Cn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&Cn(e,""+o);break;case"className":si(e,"class",o);break;case"tabIndex":si(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":si(e,a,o);break;case"style":Ro(e,o,f);break;case"data":if(i!=="object"){si(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=aa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&ee(e,i,"name",h.name,h,null),ee(e,i,"formEncType",h.formEncType,h,null),ee(e,i,"formMethod",h.formMethod,h,null),ee(e,i,"formTarget",h.formTarget,h,null)):(ee(e,i,"encType",h.encType,h,null),ee(e,i,"method",h.method,h,null),ee(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=aa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=cc);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=aa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),dr(e,"popover",o);break;case"xlinkActuate":Ge(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ge(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ge(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ge(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ge(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ge(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":dr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vh.get(a)||a,dr(e,a,o))}}function cd(e,i,a,o,h,f){switch(a){case"style":Ro(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Cn(e,o):(typeof o=="number"||typeof o=="bigint")&&Cn(e,""+o);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=cc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ea.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[be]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):dr(e,a,o)}}}function Xe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,f,v,a,null)}}h&&ee(e,i,"srcSet",a.srcSet,a,null),o&&ee(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var E=f=v=h=null,b=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var F=a[o];if(F!=null)switch(o){case"name":h=F;break;case"type":v=F;break;case"checked":b=F;break;case"defaultChecked":L=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:ee(e,i,o,F,a,null)}}hs(e,f,E,b,L,v,h,!1),sa(e);return;case"select":Mt("invalid",e),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:ee(e,i,h,E,a,null)}i=f,a=v,e.multiple=!!o,i!=null?Mi(e,!!o,i,!1):a!=null&&Mi(e,!!o,a,!0);return;case"textarea":Mt("invalid",e),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:ee(e,i,v,E,a,null)}fs(e,o,h,f),sa(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ee(e,i,b,o,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(o=0;o<cl.length;o++)Mt(cl[o],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,L,o,a,null)}return;default:if(Io(i)){for(F in a)a.hasOwnProperty(F)&&(o=a[F],o!==void 0&&cd(e,i,F,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ee(e,i,E,o,a,null))}function IA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,E=null,b=null,L=null,F=null;for(B in a){var K=a[B];if(a.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=K;default:o.hasOwnProperty(B)||ee(e,i,B,null,o,K)}}for(var z in o){var B=o[z];if(K=a[z],o.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":F=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==K&&ee(e,i,z,B,o,K)}}_n(e,v,E,b,L,F,f,h);return;case"select":B=v=E=z=null;for(f in a)if(b=a[f],a.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(f)||ee(e,i,f,null,o,b)}for(h in o)if(f=o[h],b=a[h],o.hasOwnProperty(h)&&(f!=null||b!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==b&&ee(e,i,h,f,o,b)}i=E,a=v,o=B,z!=null?Mi(e,!!a,z,!1):!!o!=!!a&&(i!=null?Mi(e,!!a,i,!0):Mi(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ee(e,i,E,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&ee(e,i,v,h,o,f)}Jt(e,z,B);return;case"option":for(var Et in a)if(z=a[Et],a.hasOwnProperty(Et)&&z!=null&&!o.hasOwnProperty(Et))switch(Et){case"selected":e.selected=!1;break;default:ee(e,i,Et,null,o,z)}for(b in o)if(z=o[b],B=a[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:ee(e,i,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)z=a[mt],a.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&ee(e,i,mt,null,o,z);for(L in o)if(z=o[L],B=a[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:ee(e,i,L,z,o,B)}return;default:if(Io(i)){for(var ne in a)z=a[ne],a.hasOwnProperty(ne)&&z!==void 0&&!o.hasOwnProperty(ne)&&cd(e,i,ne,void 0,o,z);for(F in o)z=o[F],B=a[F],!o.hasOwnProperty(F)||z===B||z===void 0&&B===void 0||cd(e,i,F,z,o,B);return}}for(var U in a)z=a[U],a.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&ee(e,i,U,null,o,z);for(K in o)z=o[K],B=a[K],!o.hasOwnProperty(K)||z===B||z==null&&B==null||ee(e,i,K,z,o,B)}var hd=null,fd=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function Xy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function dd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var md=null;function CA(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var Zy=typeof setTimeout=="function"?setTimeout:void 0,DA=typeof clearTimeout=="function"?clearTimeout:void 0,Wy=typeof Promise=="function"?Promise:void 0,NA=typeof queueMicrotask=="function"?queueMicrotask:typeof Wy<"u"?function(e){return Wy.resolve(null).then(e).catch(OA)}:Zy;function OA(e){setTimeout(function(){throw e})}function Or(e){return e==="head"}function Jy(e,i){var a=i,o=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&fl(v.documentElement),a&2&&fl(v.body),a&4)for(a=v.head,fl(a),v=a.firstChild;v;){var E=v.nextSibling,b=v.nodeName;v[os]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(f),El(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);El(i)}function gd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gd(a),fr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function VA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[os])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Xn(e.nextSibling),e===null)break}return null}function MA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Xn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function PA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Xn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var yd=null;function t_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function e_(e,i,a){switch(i=hc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function fl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);fr(e)}var Ln=new Map,n_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wi=et.d;et.d={f:UA,r:kA,D:xA,C:LA,L:zA,m:BA,X:qA,S:jA,M:HA};function UA(){var e=Wi.f(),i=ic();return e||i}function kA(e){var i=ii(e);i!==null&&i.tag===5&&i.type==="form"?Ap(i):Wi.r(e)}var Ba=typeof document>"u"?null:document;function i_(e,i,a){var o=Ba;if(o&&typeof i=="string"&&i){var h=we(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),n_.has(h)||(n_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Xe(i,"link",e),_e(i),o.head.appendChild(i)))}}function xA(e){Wi.D(e),i_("dns-prefetch",e,null)}function LA(e,i){Wi.C(e,i),i_("preconnect",e,i)}function zA(e,i,a){Wi.L(e,i,a);var o=Ba;if(o&&e&&i){var h='link[rel="preload"][as="'+we(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+we(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+we(a.imageSizes)+'"]')):h+='[href="'+we(e)+'"]';var f=h;switch(i){case"style":f=ja(e);break;case"script":f=qa(e)}Ln.has(f)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Ln.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(dl(f))||i==="script"&&o.querySelector(ml(f))||(i=o.createElement("link"),Xe(i,"link",e),_e(i),o.head.appendChild(i)))}}function BA(e,i){Wi.m(e,i);var a=Ba;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+we(o)+'"][href="'+we(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=qa(e)}if(!Ln.has(f)&&(e=T({rel:"modulepreload",href:e},i),Ln.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ml(f)))return}o=a.createElement("link"),Xe(o,"link",e),_e(o),a.head.appendChild(o)}}}function jA(e,i,a){Wi.S(e,i,a);var o=Ba;if(o&&e){var h=un(o).hoistableStyles,f=ja(e);i=i||"default";var v=h.get(f);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(dl(f)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Ln.get(f))&&_d(e,a);var b=v=o.createElement("link");_e(b),Xe(b,"link",e),b._p=new Promise(function(L,F){b.onload=L,b.onerror=F}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,dc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(f,v)}}}function qA(e,i){Wi.X(e,i);var a=Ba;if(a&&e){var o=un(a).hoistableScripts,h=qa(e),f=o.get(h);f||(f=a.querySelector(ml(h)),f||(e=T({src:e,async:!0},i),(i=Ln.get(h))&&vd(e,i),f=a.createElement("script"),_e(f),Xe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function HA(e,i){Wi.M(e,i);var a=Ba;if(a&&e){var o=un(a).hoistableScripts,h=qa(e),f=o.get(h);f||(f=a.querySelector(ml(h)),f||(e=T({src:e,async:!0,type:"module"},i),(i=Ln.get(h))&&vd(e,i),f=a.createElement("script"),_e(f),Xe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function r_(e,i,a,o){var h=(h=vt.current)?fc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ja(a.href),a=un(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ja(a.href);var f=un(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(dl(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),f||FA(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=qa(a),a=un(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ja(e){return'href="'+we(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function s_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function FA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Xe(i,"link",a),_e(i),e.head.appendChild(i))}function qa(e){return'[src="'+we(e)+'"]'}function ml(e){return"script[async]"+e}function a_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+we(a.href)+'"]');if(o)return i.instance=o,_e(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),Xe(o,"style",h),dc(o,a.precedence,e),i.instance=o;case"stylesheet":h=ja(a.href);var f=e.querySelector(dl(h));if(f)return i.state.loading|=4,i.instance=f,_e(f),f;o=s_(a),(h=Ln.get(h))&&_d(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var v=f;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Xe(f,"link",o),i.state.loading|=4,dc(f,a.precedence,e),i.instance=f;case"script":return f=qa(a.src),(h=e.querySelector(ml(f)))?(i.instance=h,_e(h),h):(o=a,(h=Ln.get(f))&&(o=T({},a),vd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),Xe(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,dc(o,a.precedence,e));return i.instance}function dc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function _d(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function vd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var mc=null;function o_(e,i,a){if(mc===null){var o=new Map,h=mc=new Map;h.set(a,o)}else h=mc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[os]||f[Ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(f):o.set(v,[f])}}return o}function l_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function GA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function u_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var gl=null;function QA(){}function KA(e,i,a){if(gl===null)throw Error(s(475));var o=gl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ja(a.href),f=e.querySelector(dl(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=gc.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=f,_e(f);return}f=e.ownerDocument||e,a=s_(a),(h=Ln.get(h))&&_d(a,h),f=f.createElement("link"),_e(f);var v=f;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Xe(f,"link",a),i.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=gc.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function YA(){if(gl===null)throw Error(s(475));var e=gl;return e.stylesheets&&e.count===0&&Ed(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Ed(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function gc(){if(this.count--,this.count===0){if(this.stylesheets)Ed(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var pc=null;function Ed(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,pc=new Map,i.forEach(XA,e),pc=null,gc.call(e))}function XA(e,i){if(!(i.state.loading&4)){var a=pc.get(e);if(a)var o=a.get(null);else{a=new Map,pc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var pl={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function $A(e,i,a,o,h,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.hiddenUpdates=Ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function c_(e,i,a,o,h,f,v,E,b,L,F,K){return e=new $A(e,i,a,v,E,b,L,K),i=1,f===!0&&(i|=24),f=En(3,null,null,i),e.current=f,f.stateNode=e,i=tf(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},sf(f),e}function h_(e){return e?(e=va,e):va}function f_(e,i,a,o,h,f){h=h_(h),o.context===null?o.context=h:o.pendingContext=h,o=_r(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=vr(e,o,i),a!==null&&(wn(a,e,i),Qo(a,e,i))}function d_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Td(e,i){d_(e,i),(e=e.alternate)&&d_(e,i)}function m_(e){if(e.tag===13){var i=_a(e,67108864);i!==null&&wn(i,e,67108864),Td(e,67108864)}}var yc=!0;function ZA(e,i,a,o){var h=q.T;q.T=null;var f=et.p;try{et.p=2,Ad(e,i,a,o)}finally{et.p=f,q.T=h}}function WA(e,i,a,o){var h=q.T;q.T=null;var f=et.p;try{et.p=8,Ad(e,i,a,o)}finally{et.p=f,q.T=h}}function Ad(e,i,a,o){if(yc){var h=Sd(o);if(h===null)ud(e,i,o,_c,a),p_(e,o);else if(tS(h,e,i,a,o))o.stopPropagation();else if(p_(e,o),i&4&&-1<JA.indexOf(e)){for(;h!==null;){var f=ii(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Fn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-Le(v);E.entanglements[1]|=b,v&=~b}yi(f),($t&6)===0&&(ec=wt()+500,ul(0))}}break;case 13:E=_a(f,2),E!==null&&wn(E,f,2),ic(),Td(f,2)}if(f=Sd(o),f===null&&ud(e,i,o,_c,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else ud(e,i,o,null,a)}}function Sd(e){return e=Dn(e),bd(e)}var _c=null;function bd(e){if(_c=null,e=Ni(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return _c=e,null}function g_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bt()){case zt:return 2;case oe:return 8;case Oe:case Je:return 32;case yn:return 268435456;default:return 32}default:return 32}}var wd=!1,Vr=null,Mr=null,Pr=null,yl=new Map,_l=new Map,Ur=[],JA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p_(e,i){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":Mr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":yl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(i.pointerId)}}function vl(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=ii(i),i!==null&&m_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function tS(e,i,a,o,h){switch(i){case"focusin":return Vr=vl(Vr,e,i,a,o,h),!0;case"dragenter":return Mr=vl(Mr,e,i,a,o,h),!0;case"mouseover":return Pr=vl(Pr,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return yl.set(f,vl(yl.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,_l.set(f,vl(_l.get(f)||null,e,i,a,o,h)),!0}return!1}function y_(e){var i=Ni(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,iu(e.priority,function(){if(a.tag===13){var o=bn();o=ur(o);var h=_a(a,o);h!==null&&wn(h,a,o),Td(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Sd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Pi=o,a.target.dispatchEvent(o),Pi=null}else return i=ii(a),i!==null&&m_(i),e.blockedOn=a,!1;i.shift()}return!0}function __(e,i,a){vc(e)&&a.delete(i)}function eS(){wd=!1,Vr!==null&&vc(Vr)&&(Vr=null),Mr!==null&&vc(Mr)&&(Mr=null),Pr!==null&&vc(Pr)&&(Pr=null),yl.forEach(__),_l.forEach(__)}function Ec(e,i){e.blockedOn===i&&(e.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,eS)))}var Tc=null;function v_(e){Tc!==e&&(Tc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(bd(o||a)===null)continue;break}var f=ii(a);f!==null&&(e.splice(i,3),i-=3,bf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function El(e){function i(b){return Ec(b,e)}Vr!==null&&Ec(Vr,e),Mr!==null&&Ec(Mr,e),Pr!==null&&Ec(Pr,e),yl.forEach(i),_l.forEach(i);for(var a=0;a<Ur.length;a++){var o=Ur[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ur.length&&(a=Ur[0],a.blockedOn===null);)y_(a),a.blockedOn===null&&Ur.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[be]||null;if(typeof f=="function")v||v_(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[be]||null)E=v.formAction;else if(bd(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),v_(a)}}}function Rd(e){this._internalRoot=e}Ac.prototype.render=Rd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=bn();f_(a,o,e,i,null,null)},Ac.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;f_(e.current,2,null,e,null,null),ic(),i[In]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var i=cr();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Ur.length&&i!==0&&i<Ur[a].priority;a++);Ur.splice(a,0,e),a===0&&y_(e)}};var E_=t.version;if(E_!=="19.1.1")throw Error(s(527,E_,"19.1.1"));et.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var nS={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{ce=Sc.inject(nS),Qt=Sc}catch{}}return Al.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=kp,f=xp,v=Lp,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=c_(e,1,!1,null,null,a,o,h,f,v,E,null),e[In]=i.current,ld(e),new Rd(i)},Al.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=kp,v=xp,E=Lp,b=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=c_(e,1,!0,i,a??null,o,h,f,v,E,b,L),i.context=h_(null),a=i.current,o=bn(),o=ur(o),h=_r(o),h.callback=null,vr(a,h,o),a=o,i.current.lanes=a,Di(i,a),yi(i),e[In]=i.current,ld(e),new Ac(i)},Al.version="19.1.1",Al}var N_;function dS(){if(N_)return Dd.exports;N_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Dd.exports=fS(),Dd.exports}var mS=dS();const gS=lE(mS),pS=()=>{};var O_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},yS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],d=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},cE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,_=p?r[l+2]:0,T=c>>2,I=(c&3)<<4|g>>4;let D=(g&15)<<2|_>>6,H=_&63;p||(H=64,d||(D=64)),s.push(n[T],n[I],n[D],n[H])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(uE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):yS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const _=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||I==null)throw new _S;const D=c<<2|g>>4;if(s.push(D),_!==64){const H=g<<4&240|_>>2;if(s.push(H),I!==64){const $=_<<6&192|I;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _S extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vS=function(r){const t=uE(r);return cE.encodeByteArray(t,!0)},jc=function(r){return vS(r).replace(/\./g,"")},hE=function(r){try{return cE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=()=>ES().__FIREBASE_DEFAULTS__,AS=()=>{if(typeof process>"u"||typeof O_>"u")return;const r=O_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},SS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&hE(r[1]);return t&&JSON.parse(t)},lh=()=>{try{return pS()||TS()||AS()||SS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},fE=r=>lh()?.emulatorHosts?.[r],bS=r=>{const t=fE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},dE=()=>lh()?.config,mE=r=>lh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[jc(JSON.stringify(n)),jc(JSON.stringify(d)),""].join(".")}const Dl={};function IS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Dl))Dl[t]?r.emulator.push(t):r.prod.push(t);return r}function CS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let V_=!1;function pE(r,t){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||Dl[r]===t||Dl[r]||V_)return;Dl[r]=t;function n(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=IS().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function p(D,H){D.setAttribute("width","24"),D.setAttribute("id",H),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{V_=!0,d()},D}function T(D,H){D.setAttribute("id",H),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function I(){const D=CS(s),H=n("text"),$=document.getElementById(H)||document.createElement("span"),it=n("learnmore"),Z=document.getElementById(it)||document.createElement("a"),Tt=n("preprendIcon"),rt=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ut=D.element;g(ut),T(Z,it);const Pt=_();p(rt,Tt),ut.append(rt,$,Z,Pt),document.body.appendChild(ut)}c?($.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function NS(){const r=lh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function MS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PS(){const r=an();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function US(){return!NS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kS(){try{return typeof indexedDB=="object"}catch{return!1}}function xS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="FirebaseError";class lr extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=LS,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?zS(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new lr(l,g,s)}}function zS(r,t){return r.replace(BS,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const BS=/\{\$([^}]+)}/g;function jS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function js(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(M_(c)&&M_(d)){if(!js(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function M_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Sl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function bl(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function qS(r,t){const n=new HS(r,t);return n.subscribe.bind(n)}class HS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");FS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=Md),l.error===void 0&&(l.error=Md),l.complete===void 0&&(l.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Md(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(r){return r&&r._delegate?r._delegate:r}class qs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new wS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(KS(t))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=xs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xs){return this.instances.has(t)}getOptions(t=xs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=xs){return this.component?this.component.multipleInstances?t:xs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QS(r){return r===xs?void 0:r}function KS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new GS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const XS={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},$S=Ut.INFO,ZS={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},WS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=ZS[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vm{constructor(t){this.name=t,this._logLevel=$S,this._logHandler=WS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const JS=(r,t)=>t.some(n=>r instanceof n);let P_,U_;function t1(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function e1(){return U_||(U_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yE=new WeakMap,Qd=new WeakMap,_E=new WeakMap,Pd=new WeakMap,Em=new WeakMap;function n1(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{n(Fr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&yE.set(n,r)}).catch(()=>{}),Em.set(t,r),t}function i1(r){if(Qd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Qd.set(r,t)}let Kd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Qd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||_E.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function r1(r){Kd=r(Kd)}function s1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Ud(this),t,...n);return _E.set(s,t.sort?t.sort():[t]),Fr(s)}:e1().includes(r)?function(...t){return r.apply(Ud(this),t),Fr(yE.get(this))}:function(...t){return Fr(r.apply(Ud(this),t))}}function a1(r){return typeof r=="function"?s1(r):(r instanceof IDBTransaction&&i1(r),JS(r,t1())?new Proxy(r,Kd):r)}function Fr(r){if(r instanceof IDBRequest)return n1(r);if(Pd.has(r))return Pd.get(r);const t=a1(r);return t!==r&&(Pd.set(r,t),Em.set(t,r)),t}const Ud=r=>Em.get(r);function o1(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Fr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Fr(d.result),p.oldVersion,p.newVersion,Fr(d.transaction),p)}),n&&d.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const l1=["get","getKey","getAll","getAllKeys","count"],u1=["put","add","delete","clear"],kd=new Map;function k_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(kd.get(t))return kd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=u1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||l1.includes(n)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),l&&p.done]))[0]};return kd.set(t,c),c}r1(r=>({...r,get:(t,n,s)=>k_(t,n)||r.get(t,n,s),has:(t,n)=>!!k_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function h1(r){return r.getComponent()?.type==="VERSION"}const Yd="@firebase/app",x_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new vm("@firebase/app"),f1="@firebase/app-compat",d1="@firebase/analytics-compat",m1="@firebase/analytics",g1="@firebase/app-check-compat",p1="@firebase/app-check",y1="@firebase/auth",_1="@firebase/auth-compat",v1="@firebase/database",E1="@firebase/data-connect",T1="@firebase/database-compat",A1="@firebase/functions",S1="@firebase/functions-compat",b1="@firebase/installations",w1="@firebase/installations-compat",R1="@firebase/messaging",I1="@firebase/messaging-compat",C1="@firebase/performance",D1="@firebase/performance-compat",N1="@firebase/remote-config",O1="@firebase/remote-config-compat",V1="@firebase/storage",M1="@firebase/storage-compat",P1="@firebase/firestore",U1="@firebase/ai",k1="@firebase/firestore-compat",x1="firebase",L1="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="[DEFAULT]",z1={[Yd]:"fire-core",[f1]:"fire-core-compat",[m1]:"fire-analytics",[d1]:"fire-analytics-compat",[p1]:"fire-app-check",[g1]:"fire-app-check-compat",[y1]:"fire-auth",[_1]:"fire-auth-compat",[v1]:"fire-rtdb",[E1]:"fire-data-connect",[T1]:"fire-rtdb-compat",[A1]:"fire-fn",[S1]:"fire-fn-compat",[b1]:"fire-iid",[w1]:"fire-iid-compat",[R1]:"fire-fcm",[I1]:"fire-fcm-compat",[C1]:"fire-perf",[D1]:"fire-perf-compat",[N1]:"fire-rc",[O1]:"fire-rc-compat",[V1]:"fire-gcs",[M1]:"fire-gcs-compat",[P1]:"fire-fst",[k1]:"fire-fst-compat",[U1]:"fire-vertex","fire-js":"fire-js",[x1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,B1=new Map,$d=new Map;function L_(r,t){try{r.container.addComponent(t)}catch(n){rr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ja(r){const t=r.name;if($d.has(t))return rr.debug(`There were multiple attempts to register component ${t}.`),!1;$d.set(t,r);for(const n of qc.values())L_(n,r);for(const n of B1.values())L_(n,r);return!0}function Tm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function zn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new Fl("app","Firebase",j1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=L1;function vE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:Xd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Gr.create("bad-app-name",{appName:String(l)});if(n||(n=dE()),!n)throw Gr.create("no-options");const c=qc.get(l);if(c){if(js(n,c.options)&&js(s,c.config))return c;throw Gr.create("duplicate-app",{appName:l})}const d=new YS(l);for(const p of $d.values())d.addComponent(p);const g=new q1(n,s,d);return qc.set(l,g),g}function EE(r=Xd){const t=qc.get(r);if(!t&&r===Xd&&dE())return vE();if(!t)throw Gr.create("no-app",{appName:r});return t}function Qr(r,t,n){let s=z1[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rr.warn(d.join(" "));return}Ja(new qs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firebase-heartbeat-database",F1=1,Ul="firebase-heartbeat-store";let xd=null;function TE(){return xd||(xd=o1(H1,F1,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ul)}catch(n){console.warn(n)}}}}).catch(r=>{throw Gr.create("idb-open",{originalErrorMessage:r.message})})),xd}async function G1(r){try{const n=(await TE()).transaction(Ul),s=await n.objectStore(Ul).get(AE(r));return await n.done,s}catch(t){if(t instanceof lr)rr.warn(t.message);else{const n=Gr.create("idb-get",{originalErrorMessage:t?.message});rr.warn(n.message)}}}async function z_(r,t){try{const s=(await TE()).transaction(Ul,"readwrite");await s.objectStore(Ul).put(t,AE(r)),await s.done}catch(n){if(n instanceof lr)rr.warn(n.message);else{const s=Gr.create("idb-set",{originalErrorMessage:n?.message});rr.warn(s.message)}}}function AE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=1024,K1=30;class Y1{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=B_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>K1){const l=Z1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){rr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=B_(),{heartbeatsToSend:n,unsentEntries:s}=X1(this._heartbeatsCache.heartbeats),l=jc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return rr.warn(t),""}}}function B_(){return new Date().toISOString().substring(0,10)}function X1(r,t=Q1){const n=[];let s=r.slice();for(const l of r){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),j_(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),j_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kS()?xS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await G1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function j_(r){return jc(JSON.stringify({version:2,heartbeats:r})).length}function Z1(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(r){Ja(new qs("platform-logger",t=>new c1(t),"PRIVATE")),Ja(new qs("heartbeat",t=>new Y1(t),"PRIVATE")),Qr(Yd,x_,r),Qr(Yd,x_,"esm2020"),Qr("fire-js","")}W1("");var J1="firebase",tb="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qr(J1,tb,"app");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kr,SE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,S){function R(){}R.prototype=S.prototype,M.D=S.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(V,O,P){for(var w=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)w[ue-2]=arguments[ue];return S.prototype[O].apply(V,w)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,S,R){R||(R=0);var V=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)V[O]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(O=0;16>O;++O)V[O]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=M.g[0],R=M.g[1],O=M.g[2];var P=M.g[3],w=S+(P^R&(O^P))+V[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=P+(O^S&(R^O))+V[1]+3905402710&4294967295,P=S+(w<<12&4294967295|w>>>20),w=O+(R^P&(S^R))+V[2]+606105819&4294967295,O=P+(w<<17&4294967295|w>>>15),w=R+(S^O&(P^S))+V[3]+3250441966&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(P^R&(O^P))+V[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(O^S&(R^O))+V[5]+1200080426&4294967295,P=S+(w<<12&4294967295|w>>>20),w=O+(R^P&(S^R))+V[6]+2821735955&4294967295,O=P+(w<<17&4294967295|w>>>15),w=R+(S^O&(P^S))+V[7]+4249261313&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(P^R&(O^P))+V[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(O^S&(R^O))+V[9]+2336552879&4294967295,P=S+(w<<12&4294967295|w>>>20),w=O+(R^P&(S^R))+V[10]+4294925233&4294967295,O=P+(w<<17&4294967295|w>>>15),w=R+(S^O&(P^S))+V[11]+2304563134&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(P^R&(O^P))+V[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=P+(O^S&(R^O))+V[13]+4254626195&4294967295,P=S+(w<<12&4294967295|w>>>20),w=O+(R^P&(S^R))+V[14]+2792965006&4294967295,O=P+(w<<17&4294967295|w>>>15),w=R+(S^O&(P^S))+V[15]+1236535329&4294967295,R=O+(w<<22&4294967295|w>>>10),w=S+(O^P&(R^O))+V[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^O&(S^R))+V[6]+3225465664&4294967295,P=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(P^S))+V[11]+643717713&4294967295,O=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(O^P))+V[0]+3921069994&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(O^P&(R^O))+V[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^O&(S^R))+V[10]+38016083&4294967295,P=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(P^S))+V[15]+3634488961&4294967295,O=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(O^P))+V[4]+3889429448&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(O^P&(R^O))+V[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^O&(S^R))+V[14]+3275163606&4294967295,P=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(P^S))+V[3]+4107603335&4294967295,O=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(O^P))+V[8]+1163531501&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(O^P&(R^O))+V[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=P+(R^O&(S^R))+V[2]+4243563512&4294967295,P=S+(w<<9&4294967295|w>>>23),w=O+(S^R&(P^S))+V[7]+1735328473&4294967295,O=P+(w<<14&4294967295|w>>>18),w=R+(P^S&(O^P))+V[12]+2368359562&4294967295,R=O+(w<<20&4294967295|w>>>12),w=S+(R^O^P)+V[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^O)+V[8]+2272392833&4294967295,P=S+(w<<11&4294967295|w>>>21),w=O+(P^S^R)+V[11]+1839030562&4294967295,O=P+(w<<16&4294967295|w>>>16),w=R+(O^P^S)+V[14]+4259657740&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(R^O^P)+V[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^O)+V[4]+1272893353&4294967295,P=S+(w<<11&4294967295|w>>>21),w=O+(P^S^R)+V[7]+4139469664&4294967295,O=P+(w<<16&4294967295|w>>>16),w=R+(O^P^S)+V[10]+3200236656&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(R^O^P)+V[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^O)+V[0]+3936430074&4294967295,P=S+(w<<11&4294967295|w>>>21),w=O+(P^S^R)+V[3]+3572445317&4294967295,O=P+(w<<16&4294967295|w>>>16),w=R+(O^P^S)+V[6]+76029189&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(R^O^P)+V[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=P+(S^R^O)+V[12]+3873151461&4294967295,P=S+(w<<11&4294967295|w>>>21),w=O+(P^S^R)+V[15]+530742520&4294967295,O=P+(w<<16&4294967295|w>>>16),w=R+(O^P^S)+V[2]+3299628645&4294967295,R=O+(w<<23&4294967295|w>>>9),w=S+(O^(R|~P))+V[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~O))+V[7]+1126891415&4294967295,P=S+(w<<10&4294967295|w>>>22),w=O+(S^(P|~R))+V[14]+2878612391&4294967295,O=P+(w<<15&4294967295|w>>>17),w=R+(P^(O|~S))+V[5]+4237533241&4294967295,R=O+(w<<21&4294967295|w>>>11),w=S+(O^(R|~P))+V[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~O))+V[3]+2399980690&4294967295,P=S+(w<<10&4294967295|w>>>22),w=O+(S^(P|~R))+V[10]+4293915773&4294967295,O=P+(w<<15&4294967295|w>>>17),w=R+(P^(O|~S))+V[1]+2240044497&4294967295,R=O+(w<<21&4294967295|w>>>11),w=S+(O^(R|~P))+V[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~O))+V[15]+4264355552&4294967295,P=S+(w<<10&4294967295|w>>>22),w=O+(S^(P|~R))+V[6]+2734768916&4294967295,O=P+(w<<15&4294967295|w>>>17),w=R+(P^(O|~S))+V[13]+1309151649&4294967295,R=O+(w<<21&4294967295|w>>>11),w=S+(O^(R|~P))+V[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=P+(R^(S|~O))+V[11]+3174756917&4294967295,P=S+(w<<10&4294967295|w>>>22),w=O+(S^(P|~R))+V[2]+718787259&4294967295,O=P+(w<<15&4294967295|w>>>17),w=R+(P^(O|~S))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+S&4294967295,M.g[1]=M.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+P&4294967295}s.prototype.u=function(M,S){S===void 0&&(S=M.length);for(var R=S-this.blockSize,V=this.B,O=this.h,P=0;P<S;){if(O==0)for(;P<=R;)l(this,M,P),P+=this.blockSize;if(typeof M=="string"){for(;P<S;)if(V[O++]=M.charCodeAt(P++),O==this.blockSize){l(this,V),O=0;break}}else for(;P<S;)if(V[O++]=M[P++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=S},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var S=1;S<M.length-8;++S)M[S]=0;var R=8*this.o;for(S=M.length-8;S<M.length;++S)M[S]=R&255,R/=256;for(this.u(M),M=Array(16),S=R=0;4>S;++S)for(var V=0;32>V;V+=8)M[R++]=this.g[S]>>>V&255;return M};function c(M,S){var R=g;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=S(M)}function d(M,S){this.h=S;for(var R=[],V=!0,O=M.length-1;0<=O;O--){var P=M[O]|0;V&&P==S||(R[O]=P,V=!1)}this.g=R}var g={};function p(M){return-128<=M&&128>M?c(M,function(S){return new d([S|0],0>S?-1:0)}):new d([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return I;if(0>M)return Z(_(-M));for(var S=[],R=1,V=0;M>=R;V++)S[V]=M/R|0,R*=4294967296;return new d(S,0)}function T(M,S){if(M.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M.charAt(0)=="-")return Z(T(M.substring(1),S));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=_(Math.pow(S,8)),V=I,O=0;O<M.length;O+=8){var P=Math.min(8,M.length-O),w=parseInt(M.substring(O,O+P),S);8>P?(P=_(Math.pow(S,P)),V=V.j(P).add(_(w))):(V=V.j(R),V=V.add(_(w)))}return V}var I=p(0),D=p(1),H=p(16777216);r=d.prototype,r.m=function(){if(it(this))return-Z(this).m();for(var M=0,S=1,R=0;R<this.g.length;R++){var V=this.i(R);M+=(0<=V?V:4294967296+V)*S,S*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if($(this))return"0";if(it(this))return"-"+Z(this).toString(M);for(var S=_(Math.pow(M,6)),R=this,V="";;){var O=Pt(R,S).g;R=Tt(R,O.j(S));var P=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=O,$(R))return P+V;for(;6>P.length;)P="0"+P;V=P+V}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function $(M){if(M.h!=0)return!1;for(var S=0;S<M.g.length;S++)if(M.g[S]!=0)return!1;return!0}function it(M){return M.h==-1}r.l=function(M){return M=Tt(this,M),it(M)?-1:$(M)?0:1};function Z(M){for(var S=M.g.length,R=[],V=0;V<S;V++)R[V]=~M.g[V];return new d(R,~M.h).add(D)}r.abs=function(){return it(this)?Z(this):this},r.add=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],V=0,O=0;O<=S;O++){var P=V+(this.i(O)&65535)+(M.i(O)&65535),w=(P>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);V=w>>>16,P&=65535,w&=65535,R[O]=w<<16|P}return new d(R,R[R.length-1]&-2147483648?-1:0)};function Tt(M,S){return M.add(Z(S))}r.j=function(M){if($(this)||$(M))return I;if(it(this))return it(M)?Z(this).j(Z(M)):Z(Z(this).j(M));if(it(M))return Z(this.j(Z(M)));if(0>this.l(H)&&0>M.l(H))return _(this.m()*M.m());for(var S=this.g.length+M.g.length,R=[],V=0;V<2*S;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var O=0;O<M.g.length;O++){var P=this.i(V)>>>16,w=this.i(V)&65535,ue=M.i(O)>>>16,ae=M.i(O)&65535;R[2*V+2*O]+=w*ae,rt(R,2*V+2*O),R[2*V+2*O+1]+=P*ae,rt(R,2*V+2*O+1),R[2*V+2*O+1]+=w*ue,rt(R,2*V+2*O+1),R[2*V+2*O+2]+=P*ue,rt(R,2*V+2*O+2)}for(V=0;V<S;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=S;V<2*S;V++)R[V]=0;return new d(R,0)};function rt(M,S){for(;(M[S]&65535)!=M[S];)M[S+1]+=M[S]>>>16,M[S]&=65535,S++}function ut(M,S){this.g=M,this.h=S}function Pt(M,S){if($(S))throw Error("division by zero");if($(M))return new ut(I,I);if(it(M))return S=Pt(Z(M),S),new ut(Z(S.g),Z(S.h));if(it(S))return S=Pt(M,Z(S)),new ut(Z(S.g),S.h);if(30<M.g.length){if(it(M)||it(S))throw Error("slowDivide_ only works with positive integers.");for(var R=D,V=S;0>=V.l(M);)R=pt(R),V=pt(V);var O=Dt(R,1),P=Dt(V,1);for(V=Dt(V,2),R=Dt(R,2);!$(V);){var w=P.add(V);0>=w.l(M)&&(O=O.add(R),P=w),V=Dt(V,1),R=Dt(R,1)}return S=Tt(M,O.j(S)),new ut(O,S)}for(O=I;0<=M.l(S);){for(R=Math.max(1,Math.floor(M.m()/S.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),P=_(R),w=P.j(S);it(w)||0<w.l(M);)R-=V,P=_(R),w=P.j(S);$(P)&&(P=D),O=O.add(P),M=Tt(M,w)}return new ut(O,M)}r.A=function(M){return Pt(this,M).h},r.and=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],V=0;V<S;V++)R[V]=this.i(V)&M.i(V);return new d(R,this.h&M.h)},r.or=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],V=0;V<S;V++)R[V]=this.i(V)|M.i(V);return new d(R,this.h|M.h)},r.xor=function(M){for(var S=Math.max(this.g.length,M.g.length),R=[],V=0;V<S;V++)R[V]=this.i(V)^M.i(V);return new d(R,this.h^M.h)};function pt(M){for(var S=M.g.length+1,R=[],V=0;V<S;V++)R[V]=M.i(V)<<1|M.i(V-1)>>>31;return new d(R,M.h)}function Dt(M,S){var R=S>>5;S%=32;for(var V=M.g.length-R,O=[],P=0;P<V;P++)O[P]=0<S?M.i(P+R)>>>S|M.i(P+R+1)<<32-S:M.i(P+R);return new d(O,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,SE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Kr=d}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bE,wl,wE,Oc,Zd,RE,IE,CE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var y=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var k=u[A];if(!(k in y))break t;y=y[k]}u=u[u.length-1],A=y[u],m=m(A),m!=A&&m!=null&&t(y,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var y=0,A=!1,k={next:function(){if(!A&&y<u.length){var j=y++;return{value:m(j,u[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,y){return u.call.apply(u.bind,arguments)}function I(u,m,y){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,A),u.apply(m,k)}}return function(){return u.apply(m,arguments)}}function D(u,m,y){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:I,D.apply(null,arguments)}function H(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function $(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(A,k,j){for(var tt=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)tt[jt-2]=arguments[jt];return m.prototype[k].apply(A,tt)}}function it(u){const m=u.length;if(0<m){const y=Array(m);for(let A=0;A<m;A++)y[A]=u[A];return y}return[]}function Z(u,m){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(p(A)){const k=u.length||0,j=A.length||0;u.length=k+j;for(let tt=0;tt<j;tt++)u[k+tt]=A[tt]}else u.push(A)}}class Tt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function rt(u){return/^[\s\xa0]*$/.test(u)}function ut(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Pt(u){return Pt[" "](u),u}Pt[" "]=function(){};var pt=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function Dt(u,m,y){for(const A in u)m.call(y,u[A],A,u)}function M(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function S(u){const m={};for(const y in u)m[y]=u[y];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let y,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(y in A)u[y]=A[y];for(let j=0;j<R.length;j++)y=R[j],Object.prototype.hasOwnProperty.call(A,y)&&(u[y]=A[y])}}function O(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function P(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Lt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ue{constructor(){this.h=this.g=null}add(m,y){const A=ae.get();A.set(m,y),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new Tt(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ct=!1,Lt=new ue,C=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(X)}};var X=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(y){P(y)}var m=ae;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};g.addEventListener("test",y,m),g.removeEventListener("test",y,m)}catch{}return u}();function It(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(pt){t:{try{Pt(m.nodeName);var k=!0;break t}catch{}k=!1}k||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&It.aa.h.call(this)}}$(It,J);var vt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function Rn(u,m,y,A,k){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!A,this.ha=k,this.key=++Wt,this.da=this.fa=!1}function ti(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function qn(u){this.src=u,this.g={},this.h=0}qn.prototype.add=function(u,m,y,A,k){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var tt=Ii(u,m,A,k);return-1<tt?(m=u[tt],y||(m.fa=!1)):(m=new Rn(m,this.src,j,!!A,k),m.fa=y,u.push(m)),m};function ei(u,m){var y=m.type;if(y in u.g){var A=u.g[y],k=Array.prototype.indexOf.call(A,m,void 0),j;(j=0<=k)&&Array.prototype.splice.call(A,k,1),j&&(ti(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Ii(u,m,y,A){for(var k=0;k<u.length;++k){var j=u[k];if(!j.da&&j.listener==m&&j.capture==!!y&&j.ha==A)return k}return-1}var st="closure_lm_"+(1e6*Math.random()|0),St={};function Nt(u,m,y,A,k){if(Array.isArray(m)){for(var j=0;j<m.length;j++)Nt(u,m[j],y,A,k);return null}return y=go(y),u&&u[Se]?u.K(m,y,_(A)?!!A.capture:!1,k):wt(u,m,y,!1,A,k)}function wt(u,m,y,A,k,j){if(!m)throw Error("Invalid event type");var tt=_(k)?!!k.capture:!!k,jt=yn(u);if(jt||(u[st]=jt=new qn(u)),y=jt.add(m,y,A,tt,j),y.proxy)return y;if(A=Bt(),y.proxy=A,A.src=u,A.listener=y,u.addEventListener)ft||(k=tt),k===void 0&&(k=!1),u.addEventListener(m.toString(),A,k);else if(u.attachEvent)u.attachEvent(Oe(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Bt(){function u(y){return m.call(u.src,u.listener,y)}const m=Je;return u}function zt(u,m,y,A,k){if(Array.isArray(m))for(var j=0;j<m.length;j++)zt(u,m[j],y,A,k);else A=_(A)?!!A.capture:!!A,y=go(y),u&&u[Se]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],y=Ii(j,y,A,k),-1<y&&(ti(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=yn(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ii(m,y,A,k)),(y=-1<u?m[u]:null)&&oe(y))}function oe(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Se])ei(m.i,u);else{var y=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(y,A,u.capture):m.detachEvent?m.detachEvent(Oe(y),A):m.addListener&&m.removeListener&&m.removeListener(A),(y=yn(m))?(ei(y,u),y.h==0&&(y.src=null,m[st]=null)):ti(u)}}}function Oe(u){return u in St?St[u]:St[u]="on"+u}function Je(u,m){if(u.da)u=!0;else{m=new It(m,this);var y=u.listener,A=u.ha||u.src;u.fa&&oe(u),u=y.call(A,m)}return u}function yn(u){return u=u[st],u instanceof qn?u:null}var Hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function go(u){return typeof u=="function"?u:(u[Hn]||(u[Hn]=function(m){return u.handleEvent(m)}),u[Hn])}function ce(){nt.call(this),this.i=new qn(this),this.M=this,this.F=null}$(ce,nt),ce.prototype[Se]=!0,ce.prototype.removeEventListener=function(u,m,y,A){zt(this,u,m,y,A)};function Qt(u,m){var y,A=u.F;if(A)for(y=[];A;A=A.F)y.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var k=m;m=new J(A,u),V(m,k)}if(k=!0,y)for(var j=y.length-1;0<=j;j--){var tt=m.g=y[j];k=ln(tt,A,!0,m)&&k}if(tt=m.g=u,k=ln(tt,A,!0,m)&&k,k=ln(tt,A,!1,m)&&k,y)for(j=0;j<y.length;j++)tt=m.g=y[j],k=ln(tt,A,!1,m)&&k}ce.prototype.N=function(){if(ce.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],A=0;A<y.length;A++)ti(y[A]);delete u.g[m],u.h--}}this.F=null},ce.prototype.K=function(u,m,y,A){return this.i.add(String(u),m,!1,y,A)},ce.prototype.L=function(u,m,y,A){return this.i.add(String(u),m,!0,y,A)};function ln(u,m,y,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,j=0;j<m.length;++j){var tt=m[j];if(tt&&!tt.da&&tt.capture==y){var jt=tt.listener,Me=tt.ha||tt.src;tt.fa&&ei(u.i,tt),k=jt.call(Me,A)!==!1&&k}}return k&&!A.defaultPrevented}function Le(u,m,y){if(typeof u=="function")y&&(u=D(u,y));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function nu(u){u.g=Le(()=>{u.g=null,u.i&&(u.i=!1,nu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ch extends nt{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:nu(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(u){nt.call(this),this.h=u,this.g={}}$(is,nt);var rs=[];function ss(u){Dt(u.g,function(m,y){this.g.hasOwnProperty(y)&&oe(m)},u),u.g={}}is.prototype.N=function(){is.aa.N.call(this),ss(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=g.JSON.stringify,Js=g.JSON.parse,as=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function po(){}po.prototype.h=null;function yo(u){return u.h||(u.h=u.i())}function _o(){}var Ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Di(){J.call(this,"d")}$(Di,J);function vo(){J.call(this,"c")}$(vo,J);var ni={},Eo=null;function ur(){return Eo=Eo||new ce}ni.La="serverreachability";function ta(u){J.call(this,ni.La,u)}$(ta,J);function cr(u){const m=ur();Qt(m,new ta(m))}ni.STAT_EVENT="statevent";function iu(u,m){J.call(this,ni.STAT_EVENT,u),this.stat=m}$(iu,J);function he(u){const m=ur();Qt(m,new iu(m,u))}ni.Ma="timingevent";function Ve(u,m){J.call(this,ni.Ma,u),this.size=m}$(Ve,J);function be(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function To(u,m,y,A,k,j){u.info(function(){if(u.g)if(j)for(var tt="",jt=j.split("&"),Me=0;Me<jt.length;Me++){var qt=jt[Me].split("=");if(1<qt.length){var Be=qt[0];qt=qt[1];var Pe=Be.split("_");tt=2<=Pe.length&&Pe[1]=="type"?tt+(Be+"="+qt+"&"):tt+(Be+"=redacted&")}}else tt=null;else tt=j;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+m+`
`+y+`
`+tt})}function Dh(u,m,y,A,k,j,tt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+m+`
`+y+`
`+j+" "+tt})}function hr(u,m,y,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+os(u,y)+(A?" "+A:"")})}function ru(u,m){u.info(function(){return"TIMEOUT: "+m})}In.prototype.info=function(){};function os(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var A=y[u];if(!(2>A.length)){var k=A[1];if(Array.isArray(k)&&!(1>k.length)){var j=k[0];if(j!="noop"&&j!="stop"&&j!="close")for(var tt=1;tt<k.length;tt++)k[tt]=""}}}}return Fn(y)}catch{return m}}var fr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ii;function ri(){}$(ri,po),ri.prototype.g=function(){return new XMLHttpRequest},ri.prototype.i=function(){return{}},ii=new ri;function un(u,m,y,A){this.j=u,this.i=m,this.l=y,this.R=A||1,this.U=new is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _e}function _e(){this.i=null,this.g="",this.h=!1}var Ao={},ea={};function Gn(u,m,y){u.L=1,u.v=fs(_n(m)),u.m=y,u.P=!0,Oi(u,null)}function Oi(u,m){u.F=Date.now(),ls(u),u.A=_n(u.v);var y=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Co(y.i,"t",A),u.C=0,y=u.j.J,u.h=new _e,u.g=Eu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Ch(D(u.Y,u,u.g),u.O)),m=u.U,y=u.g,A=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(rs[0]=k.toString()),k=rs);for(var j=0;j<k.length;j++){var tt=Nt(y,k[j],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),cr(),To(u.i,u.u,u.A,u.l,u.R,u.m)}un.prototype.ca=function(u){u=u.target;const m=this.M;m&&On(u)==3?m.j():this.Y(u)},un.prototype.Y=function(u){try{if(u==this.g)t:{const Pe=On(this.g);var m=this.g.Ba();const zi=this.g.Z();if(!(3>Pe)&&(Pe!=3||this.g&&(this.h.h||this.g.oa()||fu(this.g)))){this.J||Pe!=4||m==7||(m==8||0>=zi?cr(3):cr(2)),dr(this);var y=this.g.Z();this.X=y;e:if(su(this)){var A=fu(this.g);u="";var k=A.length,j=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ge(this),si(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(j&&m==k-1)});A.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=y==200,Dh(this.i,this.u,this.A,this.l,this.R,Pe,y),this.o){if(this.T&&!this.K){e:{if(this.g){var jt,Me=this.g;if((jt=Me.g?Me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(jt)){var qt=jt;break e}}qt=null}if(y=qt)hr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,us(this,y);else{this.o=!1,this.s=3,he(12),Ge(this),si(this);break t}}if(this.P){y=!0;let Qe;for(;!this.J&&this.C<tt.length;)if(Qe=au(this,tt),Qe==ea){Pe==4&&(this.s=4,he(14),y=!1),hr(this.i,this.l,null,"[Incomplete Response]");break}else if(Qe==Ao){this.s=4,he(15),hr(this.i,this.l,tt,"[Invalid Chunk]"),y=!1;break}else hr(this.i,this.l,Qe,null),us(this,Qe);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||tt.length!=0||this.h.h||(this.s=1,he(16),y=!1),this.o=this.o&&y,!y)hr(this.i,this.l,tt,"[Invalid Chunked Response]"),Ge(this),si(this);else if(0<tt.length&&!this.W){this.W=!0;var Be=this.j;Be.g==this&&Be.ba&&!Be.M&&(Be.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Es(Be),Be.M=!0,he(11))}}else hr(this.i,this.l,tt,null),us(this,tt);Pe==4&&Ge(this),this.o&&!this.J&&(Pe==4?yu(this.j,this):(this.o=!1,ls(this)))}else Ph(this.g),y==400&&0<tt.indexOf("Unknown SID")?(this.s=3,he(12)):(this.s=0,he(13)),Ge(this),si(this)}}}catch{}finally{}};function su(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function au(u,m){var y=u.C,A=m.indexOf(`
`,y);return A==-1?ea:(y=Number(m.substring(y,A)),isNaN(y)?Ao:(A+=1,A+y>m.length?ea:(m=m.slice(A,A+y),u.C=A+y,m)))}un.prototype.cancel=function(){this.J=!0,Ge(this)};function ls(u){u.S=Date.now()+u.I,ou(u,u.I)}function ou(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=be(D(u.ba,u),m)}function dr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}un.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ru(this.i,this.A),this.L!=2&&(cr(),he(17)),Ge(this),this.s=2,si(this)):ou(this,this.S-u)};function si(u){u.j.G==0||u.J||yu(u.j,u)}function Ge(u){dr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ss(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function us(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||So(y.h,u))){if(!u.K&&So(y.h,u)&&y.G==3){try{var A=y.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)da(y),ha(y);else break t;Mo(y),he(18)}}else y.za=k[1],0<y.za-y.T&&37500>k[2]&&y.F&&y.v==0&&!y.C&&(y.C=be(D(y.Za,y),6e3));if(1>=ia(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Li(y,11)}else if((u.K||y.g==u)&&da(y),!rt(m))for(k=y.Da.g.parse(m),m=0;m<k.length;m++){let qt=k[m];if(y.T=qt[0],qt=qt[1],y.G==2)if(qt[0]=="c"){y.K=qt[1],y.ia=qt[2];const Be=qt[3];Be!=null&&(y.la=Be,y.j.info("VER="+y.la));const Pe=qt[4];Pe!=null&&(y.Aa=Pe,y.j.info("SVER="+y.Aa));const zi=qt[5];zi!=null&&typeof zi=="number"&&0<zi&&(A=1.5*zi,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const Qe=u.g;if(Qe){const fi=Qe.g?Qe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fi){var j=A.h;j.g||fi.indexOf("spdy")==-1&&fi.indexOf("quic")==-1&&fi.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(ra(j,j.h),j.h=null))}if(A.D){const Uo=Qe.g?Qe.g.getResponseHeader("X-HTTP-Session-Id"):null;Uo&&(A.ya=Uo,Jt(A.I,A.D,Uo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var tt=u;if(A.qa=vu(A,A.J?A.ia:null,A.W),tt.K){cn(A.h,tt);var jt=tt,Me=A.L;Me&&(jt.I=Me),jt.B&&(dr(jt),ls(jt)),A.g=tt}else gu(A);0<y.i.length&&fa(y)}else qt[0]!="stop"&&qt[0]!="close"||Li(y,7);else y.G==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?Li(y,7):Oo(y):qt[0]!="noop"&&y.l&&y.l.ta(qt),y.v=0)}}cr(4)}catch{}}var lu=class{constructor(u,m){this.g=u,this.map=m}};function Vi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function na(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ia(u){return u.h?1:u.g?u.g.size:0}function So(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ra(u,m){u.g?u.g.add(m):u.h=m}function cn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Vi.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return it(u.i)}function Nh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,A=0;A<y;A++)m.push(u[A]);return m}m=[],y=0;for(A in u)m[y++]=u[A];return m}function sa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const A in u)m[y++]=A;return m}}}function wo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=sa(u),A=Nh(u),k=A.length,j=0;j<k;j++)m.call(void 0,A[j],y&&y[j],u)}var cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Oh(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var A=u[y].indexOf("="),k=null;if(0<=A){var j=u[y].substring(0,A);k=u[y].substring(A+1)}else j=u[y];m(j,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function we(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof we){this.h=u.h,hs(this,u.j),this.o=u.o,this.g=u.g,mr(this,u.s),this.l=u.l;var m=u.i,y=new Pi;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Mi(this,y),this.m=u.m}else u&&(m=String(u).match(cs))?(this.h=!1,hs(this,m[1]||"",!0),this.o=Cn(m[2]||""),this.g=Cn(m[3]||"",!0),mr(this,m[4]),this.l=Cn(m[5]||"",!0),Mi(this,m[6]||"",!0),this.m=Cn(m[7]||"")):(this.h=!1,this.i=new Pi(null,this.h))}we.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ds(m,Ro,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ds(m,Ro,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(ds(y,y.charAt(0)=="/"?Vh:Io,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",ds(y,aa)),u.join("")};function _n(u){return new we(u)}function hs(u,m,y){u.j=y?Cn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function mr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Mi(u,m,y){m instanceof Pi?(u.i=m,cu(u.i,u.h)):(y||(m=ds(m,Mh)),u.i=new Pi(m,u.h))}function Jt(u,m,y){u.i.set(m,y)}function fs(u){return Jt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Cn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ds(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,uu),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function uu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ro=/[#\/\?@]/g,Io=/[#\?:]/g,Vh=/[#\?]/g,Mh=/[#\?@]/g,aa=/#/g;function Pi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Dn(u){u.g||(u.g=new Map,u.h=0,u.i&&Oh(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}r=Pi.prototype,r.add=function(u,m){Dn(this),this.i=null,u=ai(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Ui(u,m){Dn(u),m=ai(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ki(u,m){return Dn(u),m=ai(u,m),u.g.has(m)}r.forEach=function(u,m){Dn(this),this.g.forEach(function(y,A){y.forEach(function(k){u.call(m,k,A,this)},this)},this)},r.na=function(){Dn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let A=0;A<m.length;A++){const k=u[A];for(let j=0;j<k.length;j++)y.push(m[A])}return y},r.V=function(u){Dn(this);let m=[];if(typeof u=="string")ki(this,u)&&(m=m.concat(this.g.get(ai(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},r.set=function(u,m){return Dn(this),this.i=null,u=ai(this,u),ki(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Co(u,m,y){Ui(u,m),0<y.length&&(u.i=null,u.g.set(ai(u,m),it(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var A=m[y];const j=encodeURIComponent(String(A)),tt=this.V(A);for(A=0;A<tt.length;A++){var k=j;tt[A]!==""&&(k+="="+encodeURIComponent(String(tt[A]))),u.push(k)}}return this.i=u.join("&")};function ai(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function cu(u,m){m&&!u.j&&(Dn(u),u.i=null,u.g.forEach(function(y,A){var k=A.toLowerCase();A!=k&&(Ui(this,A),Co(this,k,y))},u)),u.j=m}function ms(u,m){const y=new In;if(g.Image){const A=new Image;A.onload=H(Nn,y,"TestLoadImage: loaded",!0,m,A),A.onerror=H(Nn,y,"TestLoadImage: error",!1,m,A),A.onabort=H(Nn,y,"TestLoadImage: abort",!1,m,A),A.ontimeout=H(Nn,y,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Qn(u,m){const y=new In,A=new AbortController,k=setTimeout(()=>{A.abort(),Nn(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(j=>{clearTimeout(k),j.ok?Nn(y,"TestPingServer: ok",!0,m):Nn(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),Nn(y,"TestPingServer: error",!1,m)})}function Nn(u,m,y,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(y)}catch{}}function gs(){this.g=new as}function oi(u,m,y){const A=y||"";try{wo(u,function(k,j){let tt=k;_(k)&&(tt=Fn(k)),m.push(A+j+"="+encodeURIComponent(tt))})}catch(k){throw m.push(A+"type="+encodeURIComponent("_badmap")),k}}function gr(u){this.l=u.Ub||null,this.j=u.eb||!1}$(gr,po),gr.prototype.g=function(){return new xi(this.l,this.j)},gr.prototype.i=function(u){return function(){return u}}({});function xi(u,m){ce.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(xi,ce),r=xi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,ui(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,li(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Do(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Do(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?li(this):ui(this),this.readyState==3&&Do(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,li(this))},r.Qa=function(u){this.g&&(this.response=u,li(this))},r.ga=function(){this.g&&li(this)};function li(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ui(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function ui(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function No(u){let m="";return Dt(u,function(y,A){m+=A,m+=":",m+=y,m+=`\r
`}),m}function ze(u,m,y){t:{for(A in y){var A=!1;break t}A=!0}A||(y=No(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Jt(u,m,y))}function Yt(u){ce.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Yt,ce);var oa=/^https?$/i,ps=["POST","PUT"];r=Yt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ii.g(),this.v=this.o?yo(this.o):yo(ii),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){hu(this,j);return}if(u=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)y.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())y.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),k=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ps,m,void 0))||A||k||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of y)this.g.setRequestHeader(j,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ys(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){hu(this,j)}};function hu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,la(u),ci(u)}function la(u){u.A||(u.A=!0,Qt(u,"complete"),Qt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Qt(this,"complete"),Qt(this,"abort"),ci(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ci(this,!0)),Yt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ua(this):this.bb())},r.bb=function(){ua(this)};function ua(u){if(u.h&&typeof d<"u"&&(!u.v[1]||On(u)!=4||u.Z()!=2)){if(u.u&&On(u)==4)Le(u.Ea,0,u);else if(Qt(u,"readystatechange"),On(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var A;if(A=tt===0){var k=String(u.D).match(cs)[1]||null;!k&&g.self&&g.self.location&&(k=g.self.location.protocol.slice(0,-1)),A=!oa.test(k?k.toLowerCase():"")}y=A}if(y)Qt(u,"complete"),Qt(u,"success");else{u.m=6;try{var j=2<On(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",la(u)}}finally{ci(u)}}}}function ci(u,m){if(u.g){ys(u);const y=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Qt(u,"ready");try{y.onreadystatechange=A}catch{}}}function ys(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function On(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Js(m)}};function fu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ph(u){const m={};u=(u.g&&2<=On(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(rt(u[A]))continue;var y=O(u[A]);const k=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=m[k]||[];m[k]=j,j.push(y)}M(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _s(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ca(u){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_s("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_s("baseRetryDelayMs",5e3,u),this.cb=_s("retryDelaySeedMs",1e4,u),this.Wa=_s("forwardChannelMaxRetries",2,u),this.wa=_s("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Vi(u&&u.concurrentRequestLimit),this.Da=new gs,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ca.prototype,r.la=8,r.G=1,r.connect=function(u,m,y,A){he(0),this.W=u,this.H=m||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=vu(this,null,this.W),fa(this)};function Oo(u){if(du(u),u.G==3){var m=u.U++,y=_n(u.I);if(Jt(y,"SID",u.K),Jt(y,"RID",m),Jt(y,"TYPE","terminate"),vs(u,y),m=new un(u,u.j,m),m.L=2,m.v=fs(_n(y)),y=!1,g.navigator&&g.navigator.sendBeacon)try{y=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&g.Image&&(new Image().src=m.v,y=!0),y||(m.g=Eu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ls(m)}_u(u)}function ha(u){u.g&&(Es(u),u.g.cancel(),u.g=null)}function du(u){ha(u),u.u&&(g.clearTimeout(u.u),u.u=null),da(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function fa(u){if(!na(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||C(),ct||(et(),ct=!0),Lt.add(m,u),u.B=0}}function Uh(u,m){return ia(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=be(D(u.Ga,u,m),Po(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new un(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),V(j,this.S)):j=this.S),this.m!==null||this.O||(k.H=j,j=null),this.P)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=mu(this,k,m),y=_n(this.I),Jt(y,"RID",u),Jt(y,"CVER",22),this.D&&Jt(y,"X-HTTP-Session-Id",this.D),vs(this,y),j&&(this.O?m="headers="+encodeURIComponent(String(No(j)))+"&"+m:this.m&&ze(y,this.m,j)),ra(this.h,k),this.Ua&&Jt(y,"TYPE","init"),this.P?(Jt(y,"$req",m),Jt(y,"SID","null"),k.T=!0,Gn(k,y,null)):Gn(k,y,m),this.G=2}}else this.G==3&&(u?Vo(this,u):this.i.length==0||na(this.h)||Vo(this))};function Vo(u,m){var y;m?y=m.l:y=u.U++;const A=_n(u.I);Jt(A,"SID",u.K),Jt(A,"RID",y),Jt(A,"AID",u.T),vs(u,A),u.m&&u.o&&ze(A,u.m,u.o),y=new un(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=mu(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ra(u.h,y),Gn(y,A,m)}function vs(u,m){u.H&&Dt(u.H,function(y,A){Jt(m,A,y)}),u.l&&wo({},function(y,A){Jt(m,A,y)})}function mu(u,m,y){y=Math.min(u.i.length,y);var A=u.l?D(u.l.Na,u.l,u):null;t:{var k=u.i;let j=-1;for(;;){const tt=["count="+y];j==-1?0<y?(j=k[0].g,tt.push("ofs="+j)):j=0:tt.push("ofs="+j);let jt=!0;for(let Me=0;Me<y;Me++){let qt=k[Me].g;const Be=k[Me].map;if(qt-=j,0>qt)j=Math.max(0,k[Me].g-100),jt=!1;else try{oi(Be,tt,"req"+qt+"_")}catch{A&&A(Be)}}if(jt){A=tt.join("&");break t}}}return u=u.i.splice(0,y),m.D=u,A}function gu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||C(),ct||(et(),ct=!0),Lt.add(m,u),u.v=0}}function Mo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=be(D(u.Fa,u),Po(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=be(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,he(10),ha(this),pu(this))};function Es(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function pu(u){u.g=new un(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=_n(u.qa);Jt(m,"RID","rpc"),Jt(m,"SID",u.K),Jt(m,"AID",u.T),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Jt(m,"TO",u.ja),Jt(m,"TYPE","xmlhttp"),vs(u,m),u.m&&u.o&&ze(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=fs(_n(m)),y.m=null,y.P=!0,Oi(y,u)}r.Za=function(){this.C!=null&&(this.C=null,ha(this),Mo(this),he(19))};function da(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function yu(u,m){var y=null;if(u.g==m){da(u),Es(u),u.g=null;var A=2}else if(So(u.h,m))y=m.D,cn(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var k=u.B;A=ur(),Qt(A,new Ve(A,y)),fa(u)}else gu(u);else if(k=m.s,k==3||k==0&&0<m.X||!(A==1&&Uh(u,m)||A==2&&Mo(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),k){case 1:Li(u,5);break;case 4:Li(u,10);break;case 3:Li(u,6);break;default:Li(u,2)}}}function Po(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function Li(u,m){if(u.j.info("Error code "+m),m==2){var y=D(u.fb,u),A=u.Xa;const k=!A;A=new we(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||hs(A,"https"),fs(A),k?ms(A.toString(),y):Qn(A.toString(),y)}else he(2);u.G=0,u.l&&u.l.sa(m),_u(u),du(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function _u(u){if(u.G=0,u.ka=[],u.l){const m=bo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,it(u.i),u.i.length=0),u.l.ra()}}function vu(u,m,y){var A=y instanceof we?_n(y):new we(y);if(A.g!="")m&&(A.g=m+"."+A.g),mr(A,A.s);else{var k=g.location;A=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var j=new we(null);A&&hs(j,A),m&&(j.g=m),k&&mr(j,k),y&&(j.l=y),A=j}return y=u.D,m=u.ya,y&&m&&Jt(A,y,m),Jt(A,"VER",u.la),vs(u,A),A}function Eu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Yt(new gr({eb:y})):new Yt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}r=Tu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ma(){}ma.prototype.g=function(u,m){return new hn(u,m)};function hn(u,m){ce.call(this),this.g=new ca(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!rt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!rt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new hi(this)}$(hn,ce),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Oo(this.g)},hn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Fn(u),u=y);m.i.push(new lu(m.Ya++,u)),m.G==3&&fa(m)},hn.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,hn.aa.N.call(this)};function Au(u){Di.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(Au,Di);function Su(){vo.call(this),this.status=1}$(Su,vo);function hi(u){this.g=u}$(hi,Tu),hi.prototype.ua=function(){Qt(this.g,"a")},hi.prototype.ta=function(u){Qt(this.g,new Au(u))},hi.prototype.sa=function(u){Qt(this.g,new Su)},hi.prototype.ra=function(){Qt(this.g,"b")},ma.prototype.createWebChannel=ma.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,CE=function(){return new ma},IE=function(){return ur()},RE=ni,Zd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,Oc=fr,Ni.COMPLETE="complete",wE=Ni,_o.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",ce.prototype.listen=ce.prototype.K,wl=_o,Yt.prototype.listenOnce=Yt.prototype.L,Yt.prototype.getLastError=Yt.prototype.Ka,Yt.prototype.getLastErrorCode=Yt.prototype.Ba,Yt.prototype.getStatus=Yt.prototype.Z,Yt.prototype.getResponseJson=Yt.prototype.Oa,Yt.prototype.getResponseText=Yt.prototype.oa,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Ha,bE=Yt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const H_="@firebase/firestore",F_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new vm("@firebase/firestore");function Fa(){return Hs.logLevel}function ot(r,...t){if(Hs.logLevel<=Ut.DEBUG){const n=t.map(Am);Hs.debug(`Firestore (${uo}): ${r}`,...n)}}function sr(r,...t){if(Hs.logLevel<=Ut.ERROR){const n=t.map(Am);Hs.error(`Firestore (${uo}): ${r}`,...n)}}function to(r,...t){if(Hs.logLevel<=Ut.WARN){const n=t.map(Am);Hs.warn(`Firestore (${uo}): ${r}`,...n)}}function Am(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,DE(r,s,n)}function DE(r,t,n){let s=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw sr(s),new Error(s)}function Xt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||DE(t,l,s)}function bt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends lr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(rn.UNAUTHENTICATED))}shutdown(){}}class nb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ib{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Xt(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new er;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new er,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new er)}},0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xt(typeof s.accessToken=="string",31837,{l:s}),new NE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class rb{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sb{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new rb(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ab{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Xt(this.o===void 0,3512);const s=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new G_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Xt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new G_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=ob(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function kt(r,t){return r<t?-1:r>t?1:0}function Wd(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Ld(l)===Ld(c)?kt(l,c):Ld(l)?1:-1}return kt(r.length,t.length)}const lb=55296,ub=57343;function Ld(r){const t=r.charCodeAt(0);return t>=lb&&t<=ub}function eo(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="__name__";class _i{constructor(t,n,s){n===void 0?n=0:n>t.length&&_t(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&_t(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return _i.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof _i?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=_i.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return kt(t.length,n.length)}static compareSegments(t,n){const s=_i.isNumericId(t),l=_i.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?_i.extractNumericId(t).compare(_i.extractNumericId(n)):Wd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Kr.fromString(t.substring(4,t.length-2))}}class se extends _i{construct(t,n,s){return new se(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new at(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new se(n)}static emptyPath(){return new se([])}}const cb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends _i{construct(t,n,s){return new Ze(t,n,s)}static isValidIdentifier(t){return cb.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q_}static keyField(){return new Ze([Q_])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new at(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new at(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new at(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new at(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(se.fromString(t))}static fromName(t){return new dt(se.fromString(t).popFirst(5))}static empty(){return new dt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return se.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new se(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(r,t,n){if(!n)throw new at(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function hb(r,t,n,s){if(t===!0&&s===!0)throw new at(Q.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function K_(r){if(!dt.isDocumentKey(r))throw new at(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Y_(r){if(dt.isDocumentKey(r))throw new at(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function VE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function uh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function vi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uh(r);throw new at(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(r,t){const n={typeString:r};return t&&(n.value=t),n}function Ql(r,t){if(!VE(r))throw new at(Q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new at(Q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_=-62135596800,$_=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*$_);return new le(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new at(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<X_)throw new at(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$_}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ql(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-X_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Ne("string",le._jsonSchemaVersion),seconds:Ne("number"),nanoseconds:Ne("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new le(0,0))}static max(){return new At(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function fb(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(s===1e9?new le(n+1,0):new le(n,s));return new Xr(l,dt.empty(),t)}function db(r){return new Xr(r.readTime,r.key,kl)}class Xr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Xr(At.min(),dt.empty(),kl)}static max(){return new Xr(At.max(),dt.empty(),kl)}}function mb(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(r.documentKey,t.documentKey),n!==0?n:kt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==gb)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Y((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Y.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Y.reject(n)}static resolve(t){return new Y((n,s)=>{n(t)})}static reject(t){return new Y((n,s)=>{s(t)})}static waitFor(t){return new Y((n,s)=>{let l=0,c=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&n()},p=>s(p))}),d=!0,c===l&&n()})}static or(t){let n=Y.resolve(!1);for(const s of t)n=n.next(l=>l?Y.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new Y((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const _=p;n(t[_]).next(T=>{d[_]=T,++g,g===c&&s(d)},T=>l(T))}})}static doWhile(t,n){return new Y((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function yb(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ho(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ch.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm=-1;function hh(r){return r==null}function Hc(r){return r===0&&1/r==-1/0}function _b(r){return typeof r=="number"&&Number.isInteger(r)&&!Hc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="";function vb(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=Z_(t)),t=Eb(r.get(n),t);return Z_(t)}function Eb(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case ME:n+="";break;default:n+=c}}return n}function Z_(r){return r+ME+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Ks(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function PE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,n){this.comparator=t,this.root=n||$e.EMPTY}insert(t,n){return new me(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??$e.RED,this.left=l??$e.EMPTY,this.right=c??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new $e(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return $e.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,n,s,l,c){return this}insert(t,n,s){return new $e(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(t){return new J_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new xe(this.comparator);return n.data=t,n}}class J_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new $n([])}unionWith(t){let n=new xe(Ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new $n(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new UE("Invalid base64 string: "+c):c}}(t);return new We(n)}static fromUint8Array(t){const n=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(t);return new We(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const Tb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(r){if(Xt(!!r,39018),typeof r=="string"){let t=0;const n=Tb.exec(r);if(Xt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Te(r.seconds),nanos:Te(r.nanos)}}function Te(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Zr(r){return typeof r=="string"?We.fromBase64String(r):We.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="server_timestamp",xE="__type__",LE="__previous_value__",zE="__local_write_time__";function wm(r){return(r?.mapValue?.fields||{})[xE]?.stringValue===kE}function fh(r){const t=r.mapValue.fields[LE];return wm(t)?fh(t):t}function xl(r){const t=$r(r.mapValue.fields[zE].timestampValue);return new le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(t,n,s,l,c,d,g,p,_,T){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const Fc="(default)";class Ll{constructor(t,n){this.projectId=t,this.database=n||Fc}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof Ll&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="__type__",Sb="__max__",Rc={mapValue:{}},jE="__vector__",Gc="value";function Wr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?wm(r)?4:wb(r)?9007199254740991:bb(r)?10:11:_t(28295,{value:r})}function Ri(r,t){if(r===t)return!0;const n=Wr(r);if(n!==Wr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return xl(r).isEqual(xl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$r(l.timestampValue),g=$r(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Zr(l.bytesValue).isEqual(Zr(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return Te(l.geoPointValue.latitude)===Te(c.geoPointValue.latitude)&&Te(l.geoPointValue.longitude)===Te(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return Te(l.integerValue)===Te(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Te(l.doubleValue),g=Te(c.doubleValue);return d===g?Hc(d)===Hc(g):isNaN(d)&&isNaN(g)}return!1}(r,t);case 9:return eo(r.arrayValue.values||[],t.arrayValue.values||[],Ri);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(W_(d)!==W_(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!Ri(d[p],g[p])))return!1;return!0}(r,t);default:return _t(52216,{left:r})}}function zl(r,t){return(r.values||[]).find(n=>Ri(n,t))!==void 0}function no(r,t){if(r===t)return 0;const n=Wr(r),s=Wr(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return function(c,d){const g=Te(c.integerValue||c.doubleValue),p=Te(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return tv(r.timestampValue,t.timestampValue);case 4:return tv(xl(r),xl(t));case 5:return Wd(r.stringValue,t.stringValue);case 6:return function(c,d){const g=Zr(c),p=Zr(d);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=kt(g[_],p[_]);if(T!==0)return T}return kt(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,d){const g=kt(Te(c.latitude),Te(d.latitude));return g!==0?g:kt(Te(c.longitude),Te(d.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return ev(r.arrayValue,t.arrayValue);case 10:return function(c,d){const g=c.fields||{},p=d.fields||{},_=g[Gc]?.arrayValue,T=p[Gc]?.arrayValue,I=kt(_?.values?.length||0,T?.values?.length||0);return I!==0?I:ev(_,T)}(r.mapValue,t.mapValue);case 11:return function(c,d){if(c===Rc.mapValue&&d===Rc.mapValue)return 0;if(c===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),_=d.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let I=0;I<p.length&&I<T.length;++I){const D=Wd(p[I],T[I]);if(D!==0)return D;const H=no(g[p[I]],_[T[I]]);if(H!==0)return H}return kt(p.length,T.length)}(r.mapValue,t.mapValue);default:throw _t(23264,{he:n})}}function tv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const n=$r(r),s=$r(t),l=kt(n.seconds,s.seconds);return l!==0?l:kt(n.nanos,s.nanos)}function ev(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=no(n[l],s[l]);if(c)return c}return kt(n.length,s.length)}function io(r){return Jd(r)}function Jd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=$r(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Zr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return dt.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Jd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Jd(n.fields[d])}`;return l+"}"}(r.mapValue):_t(61005,{value:r})}function Vc(r){switch(Wr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fh(r);return t?16+Vc(t):16;case 5:return 2*r.stringValue.length;case 6:return Zr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+Vc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Ks(s.fields,(c,d)=>{l+=c.length+Vc(d)}),l}(r.mapValue);default:throw _t(13486,{value:r})}}function nv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function tm(r){return!!r&&"integerValue"in r}function Rm(r){return!!r&&"arrayValue"in r}function iv(r){return!!r&&"nullValue"in r}function rv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mc(r){return!!r&&"mapValue"in r}function bb(r){return(r?.mapValue?.fields||{})[BE]?.stringValue===jE}function Nl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ks(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Nl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Nl(r.arrayValue.values[n]);return t}return{...r}}function wb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Sb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.value=t}static empty(){return new Bn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Mc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nl(n)}setAll(t){let n=Ze.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}d?s[g.lastSegment()]=Nl(d):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ri(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Mc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Ks(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Bn(Nl(this.value))}}function qE(r){const t=[];return Ks(r.fields,(n,s)=>{const l=new Ze([n]);if(Mc(s)){const c=qE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)}),new $n(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t,n,s,l,c,d,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new sn(t,0,At.min(),At.min(),At.min(),Bn.empty(),0)}static newFoundDocument(t,n,s,l){return new sn(t,1,n,At.min(),s,l,0)}static newNoDocument(t,n){return new sn(t,2,n,At.min(),At.min(),Bn.empty(),0)}static newUnknownDocument(t,n){return new sn(t,3,n,At.min(),At.min(),Bn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,n){this.position=t,this.inclusive=n}}function sv(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),n.key):s=no(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function av(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ri(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,n="asc"){this.field=t,this.dir=n}}function Rb(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{}class De extends HE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new Cb(t,n,s):n==="array-contains"?new Ob(t,s):n==="in"?new Vb(t,s):n==="not-in"?new Mb(t,s):n==="array-contains-any"?new Pb(t,s):new De(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new Db(t,s):new Nb(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&Wr(this.value)===Wr(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends HE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Wn(t,n)}matches(t){return FE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FE(r){return r.op==="and"}function GE(r){return Ib(r)&&FE(r)}function Ib(r){for(const t of r.filters)if(t instanceof Wn)return!1;return!0}function em(r){if(r instanceof De)return r.field.canonicalString()+r.op.toString()+io(r.value);if(GE(r))return r.filters.map(t=>em(t)).join(",");{const t=r.filters.map(n=>em(n)).join(",");return`${r.op}(${t})`}}function QE(r,t){return r instanceof De?function(s,l){return l instanceof De&&s.op===l.op&&s.field.isEqual(l.field)&&Ri(s.value,l.value)}(r,t):r instanceof Wn?function(s,l){return l instanceof Wn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&QE(d,l.filters[g]),!0):!1}(r,t):void _t(19439)}function KE(r){return r instanceof De?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(r):r instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(KE).join(" ,")+"}"}(r):"Filter"}class Cb extends De{constructor(t,n,s){super(t,n,s),this.key=dt.fromName(s.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Db extends De{constructor(t,n){super(t,"in",n),this.keys=YE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Nb extends De{constructor(t,n){super(t,"not-in",n),this.keys=YE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function YE(r,t){return(t.arrayValue?.values||[]).map(n=>dt.fromName(n.referenceValue))}class Ob extends De{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Rm(n)&&zl(n.arrayValue,this.value)}}class Vb extends De{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class Mb extends De{constructor(t,n){super(t,"not-in",n)}matches(t){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zl(this.value.arrayValue,n)}}class Pb extends De{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Rm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>zl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(t,n=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function ov(r,t=null,n=[],s=[],l=null,c=null,d=null){return new Ub(r,t,n,s,l,c,d)}function Im(r){const t=bt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>em(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),hh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>io(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>io(s)).join(",")),t.Te=n}return t.Te}function Cm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Rb(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!QE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!av(r.startAt,t.startAt)&&av(r.endAt,t.endAt)}function nm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t,n=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kb(r,t,n,s,l,c,d,g){return new Kl(r,t,n,s,l,c,d,g)}function dh(r){return new Kl(r)}function lv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function XE(r){return r.collectionGroup!==null}function Ol(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new xe(Ze.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Kc(c,s))}),n.has(Ze.keyField().canonicalString())||t.Ie.push(new Kc(Ze.keyField(),s))}return t.Ie}function Ei(r){const t=bt(r);return t.Ee||(t.Ee=xb(t,Ol(r))),t.Ee}function xb(r,t){if(r.limitType==="F")return ov(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Kc(l.field,c)});const n=r.endAt?new Qc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Qc(r.startAt.position,r.startAt.inclusive):null;return ov(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function im(r,t){const n=r.filters.concat([t]);return new Kl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function rm(r,t,n){return new Kl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function mh(r,t){return Cm(Ei(r),Ei(t))&&r.limitType===t.limitType}function $E(r){return`${Im(Ei(r))}|lt:${r.limitType}`}function Ga(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>KE(l)).join(", ")}]`),hh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>io(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>io(l)).join(",")),`Target(${s})`}(Ei(r))}; limitType=${r.limitType})`}function gh(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):dt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of Ol(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(d,g,p){const _=sv(d,g,p);return d.inclusive?_<=0:_<0}(s.startAt,Ol(s),l)||s.endAt&&!function(d,g,p){const _=sv(d,g,p);return d.inclusive?_>=0:_>0}(s.endAt,Ol(s),l))}(r,t)}function Lb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ZE(r){return(t,n)=>{let s=!1;for(const l of Ol(r)){const c=zb(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function zb(r,t,n){const s=r.field.isKeyField()?dt.comparator(t.key,n.key):function(c,d,g){const p=d.data.field(c),_=g.data.field(c);return p!==null&&_!==null?no(p,_):_t(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ks(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return PE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new me(dt.comparator);function ar(){return Bb}const WE=new me(dt.comparator);function Rl(...r){let t=WE;for(const n of r)t=t.insert(n.key,n);return t}function JE(r){let t=WE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function Ls(){return Vl()}function tT(){return Vl()}function Vl(){return new Ys(r=>r.toString(),(r,t)=>r.isEqual(t))}const jb=new me(dt.comparator),qb=new xe(dt.comparator);function xt(...r){let t=qb;for(const n of r)t=t.add(n);return t}const Hb=new xe(kt);function Fb(){return Hb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function eT(r){return{integerValue:""+r}}function Gb(r,t){return _b(t)?eT(t):Dm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function Qb(r,t,n){return r instanceof Yc?function(l,c){const d={fields:{[xE]:{stringValue:kE},[zE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&wm(c)&&(c=fh(c)),c&&(d.fields[LE]=c),{mapValue:d}}(n,t):r instanceof Bl?iT(r,t):r instanceof jl?rT(r,t):function(l,c){const d=nT(l,c),g=uv(d)+uv(l.Ae);return tm(d)&&tm(l.Ae)?eT(g):Dm(l.serializer,g)}(r,t)}function Kb(r,t,n){return r instanceof Bl?iT(r,t):r instanceof jl?rT(r,t):n}function nT(r,t){return r instanceof Xc?function(s){return tm(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Yc extends ph{}class Bl extends ph{constructor(t){super(),this.elements=t}}function iT(r,t){const n=sT(t);for(const s of r.elements)n.some(l=>Ri(l,s))||n.push(s);return{arrayValue:{values:n}}}class jl extends ph{constructor(t){super(),this.elements=t}}function rT(r,t){let n=sT(t);for(const s of r.elements)n=n.filter(l=>!Ri(l,s));return{arrayValue:{values:n}}}class Xc extends ph{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function uv(r){return Te(r.integerValue||r.doubleValue)}function sT(r){return Rm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Yb(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Bl&&l instanceof Bl||s instanceof jl&&l instanceof jl?eo(s.elements,l.elements,Ri):s instanceof Xc&&l instanceof Xc?Ri(s.Ae,l.Ae):s instanceof Yc&&l instanceof Yc}(r.transform,t.transform)}class Xb{constructor(t,n){this.version=t,this.transformResults=n}}class nr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new nr}static exists(t){return new nr(void 0,t)}static updateTime(t){return new nr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class yh{}function aT(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new lT(r.key,nr.none()):new Yl(r.key,r.data,nr.none());{const n=r.data,s=Bn.empty();let l=new xe(Ze.comparator);for(let c of t.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Xs(r.key,s,new $n(l.toArray()),nr.none())}}function $b(r,t,n){r instanceof Yl?function(l,c,d){const g=l.value.clone(),p=hv(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,t,n):r instanceof Xs?function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=hv(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(oT(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,n)}function Ml(r,t,n,s){return r instanceof Yl?function(c,d,g,p){if(!Pc(c.precondition,d))return g;const _=c.value.clone(),T=fv(c.fieldTransforms,p,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(r,t,n,s):r instanceof Xs?function(c,d,g,p){if(!Pc(c.precondition,d))return g;const _=fv(c.fieldTransforms,p,d),T=d.data;return T.setAll(oT(c)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(r,t,n,s):function(c,d,g){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,t,n)}function Zb(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=nT(s.transform,l||null);c!=null&&(n===null&&(n=Bn.empty()),n.set(s.field,c))}return n||null}function cv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&eo(s,l,(c,d)=>Yb(c,d))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Yl extends yh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Xs extends yh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function oT(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function hv(r,t,n){const s=new Map;Xt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,Kb(d,g,n[l]))}return s}function fv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,d=n.data.field(l.field);s.set(l.field,Qb(c,d,t))}return s}class lT extends yh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wb extends yh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&$b(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ml(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ml(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=tT();return this.mutations.forEach(l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=n.has(l.key)?null:g;const p=aT(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),xt())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,(n,s)=>cv(n,s))&&eo(this.baseMutations,t.baseMutations,(n,s)=>cv(n,s))}}class Nm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Xt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=function(){return jb}();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Nm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,Ft;function nw(r){switch(r){case Q.OK:return _t(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function uT(r){if(r===void 0)return sr("GRPC error has no .code"),Q.UNKNOWN;switch(r){case Ce.OK:return Q.OK;case Ce.CANCELLED:return Q.CANCELLED;case Ce.UNKNOWN:return Q.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return Q.INTERNAL;case Ce.UNAVAILABLE:return Q.UNAVAILABLE;case Ce.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Ce.NOT_FOUND:return Q.NOT_FOUND;case Ce.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Ce.ABORTED:return Q.ABORTED;case Ce.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Ce.DATA_LOSS:return Q.DATA_LOSS;default:return _t(39323,{code:r})}}(Ft=Ce||(Ce={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new Kr([4294967295,4294967295],0);function dv(r){const t=iw().encode(r),n=new SE;return n.update(t),new Uint8Array(n.digest())}function mv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Kr([n,s],0),new Kr([l,c],0)]}class Om{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(s<0)throw new Il(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Kr.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(Kr.fromNumber(s)));return l.compare(rw)===1&&(l=new Kr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=dv(t),[s,l]=mv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Om(c,l,n);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.ge===0)return;const n=dv(t),[s,l]=mv(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new _h(At.min(),l,new me(kt),ar(),xt())}}class Xl{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Xl(s,n,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,n,s,l){this.be=t,this.removedTargetIds=n,this.key=s,this.De=l}}class cT{constructor(t,n){this.targetId=t,this.Ce=n}}class hT{constructor(t,n,s=We.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class gv{constructor(){this.ve=0,this.Fe=pv(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=xt(),n=xt(),s=xt();return this.Fe.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:_t(38017,{changeType:c})}}),new Xl(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=pv()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ar(),this.Je=Ic(),this.He=Ic(),this.Ye=new me(kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,l)=>{this.rt(l)&&n(l)})}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const c=l.target;if(nm(c))if(s===0){const d=new dt(c.path);this.et(n,d,sn.newNoDocument(d,At.min()))}else Xt(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const g=this.ut(t),p=g?this.ct(g,t,d):1;if(p!==0){this.it(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let d,g;try{d=Zr(s).toUint8Array()}catch(p){if(p instanceof UE)return to("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Om(d,l,c)}catch(p){return to(p instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(n,c,null),l++)}),l}Tt(t){const n=new Map;this.ze.forEach((c,d)=>{const g=this.ot(d);if(g){if(c.current&&nm(g.target)){const p=new dt(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,sn.newNoDocument(p,t))}c.Be&&(n.set(d,c.ke()),c.qe())}});let s=xt();this.He.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.je.forEach((c,d)=>d.setReadTime(t));const l=new _h(t,n,this.Ye,this.je,s);return this.je=ar(),this.Je=Ic(),this.He=Ic(),this.Ye=new me(kt),l}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new gv,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new xe(kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new xe(kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new gv),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Ic(){return new me(dt.comparator)}function pv(){return new me(dt.comparator)}const aw={asc:"ASCENDING",desc:"DESCENDING"},ow={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lw={and:"AND",or:"OR"};class uw{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function sm(r,t){return r.useProto3Json||hh(t)?t:{value:t}}function $c(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fT(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function cw(r,t){return $c(r,t.toTimestamp())}function Ti(r){return Xt(!!r,49232),At.fromTimestamp(function(n){const s=$r(n);return new le(s.seconds,s.nanos)}(r))}function Vm(r,t){return am(r,t).canonicalString()}function am(r,t){const n=function(l){return new se(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function dT(r){const t=se.fromString(r);return Xt(_T(t),10190,{key:t.toString()}),t}function om(r,t){return Vm(r.databaseId,t.path)}function zd(r,t){const n=dT(t);if(n.get(1)!==r.databaseId.projectId)throw new at(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new at(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt(gT(n))}function mT(r,t){return Vm(r.databaseId,t)}function hw(r){const t=dT(r);return t.length===4?se.emptyPath():gT(t)}function lm(r){return new se(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function gT(r){return Xt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function yv(r,t,n){return{name:om(r,t),fields:n.value.mapValue.fields}}function fw(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(_,T){return _.useProto3Json?(Xt(T===void 0||typeof T=="string",58123),We.fromBase64String(T||"")):(Xt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),We.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(_){const T=_.code===void 0?Q.UNKNOWN:uT(_.code);return new at(T,_.message||"")}(d);n=new hT(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=zd(r,s.document.name),c=Ti(s.document.updateTime),d=s.document.createTime?Ti(s.document.createTime):At.min(),g=new Bn({mapValue:{fields:s.document.fields}}),p=sn.newFoundDocument(l,c,d,g),_=s.targetIds||[],T=s.removedTargetIds||[];n=new Uc(_,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=zd(r,s.document),c=s.readTime?Ti(s.readTime):At.min(),d=sn.newNoDocument(l,c),g=s.removedTargetIds||[];n=new Uc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=zd(r,s.document),c=s.removedTargetIds||[];n=new Uc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new ew(l,c),g=s.targetId;n=new cT(g,d)}}return n}function dw(r,t){let n;if(t instanceof Yl)n={update:yv(r,t.key,t.value)};else if(t instanceof lT)n={delete:om(r,t.key)};else if(t instanceof Xs)n={update:yv(r,t.key,t.data),updateMask:Aw(t.fieldMask)};else{if(!(t instanceof Wb))return _t(16599,{Vt:t.type});n={verify:om(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof Yc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Bl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof jl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Xc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:cw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)}(r,t.precondition)),n}function mw(r,t){return r&&r.length>0?(Xt(t!==void 0,14353),r.map(n=>function(l,c){let d=l.updateTime?Ti(l.updateTime):Ti(c);return d.isEqual(At.min())&&(d=Ti(c)),new Xb(d,l.transformResults||[])}(n,t))):[]}function gw(r,t){return{documents:[mT(r,t.path)]}}function pw(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=mT(r,l);const c=function(_){if(_.length!==0)return yT(Wn.create(_,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const d=function(_){if(_.length!==0)return _.map(T=>function(D){return{field:Qa(D.field),direction:vw(D.dir)}}(T))}(t.orderBy);d&&(n.structuredQuery.orderBy=d);const g=sm(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(t.endAt)),{ft:n,parent:l}}function yw(r){let t=hw(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Xt(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];n.where&&(c=function(I){const D=pT(I);return D instanceof Wn&&GE(D)?D.getFilters():[D]}(n.where));let d=[];n.orderBy&&(d=function(I){return I.map(D=>function($){return new Kc(Ka($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(D))}(n.orderBy));let g=null;n.limit&&(g=function(I){let D;return D=typeof I=="object"?I.value:I,hh(D)?null:D}(n.limit));let p=null;n.startAt&&(p=function(I){const D=!!I.before,H=I.values||[];return new Qc(H,D)}(n.startAt));let _=null;return n.endAt&&(_=function(I){const D=!I.before,H=I.values||[];return new Qc(H,D)}(n.endAt)),kb(t,l,d,c,g,"F",p,_)}function _w(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function pT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ka(n.unaryFilter.field);return De.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Ka(n.unaryFilter.field);return De.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ka(n.unaryFilter.field);return De.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ka(n.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}}(r):r.fieldFilter!==void 0?function(n){return De.create(Ka(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(s=>pT(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}}(n.compositeFilter.op))}(r):_t(30097,{filter:r})}function vw(r){return aw[r]}function Ew(r){return ow[r]}function Tw(r){return lw[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Ze.fromServerFormat(r.fieldPath)}function yT(r){return r instanceof De?function(n){if(n.op==="=="){if(rv(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(iv(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rv(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(iv(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:Ew(n.op),value:n.value}}}(r):r instanceof Wn?function(n){const s=n.getFilters().map(l=>yT(l));return s.length===1?s[0]:{compositeFilter:{op:Tw(n.op),filters:s}}}(r):_t(54877,{filter:r})}function Aw(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function _T(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(t,n,s,l,c=At.min(),d=At.min(),g=We.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Hr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t){this.yt=t}}function bw(r){const t=yw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.Cn=new Rw}addToCollectionParentIndex(t,n){return this.Cn.add(n),Y.resolve()}getCollectionParents(t,n){return Y.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return Y.resolve()}deleteFieldIndex(t,n){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,n){return Y.resolve()}getDocumentsMatchingTarget(t,n){return Y.resolve(null)}getIndexType(t,n){return Y.resolve(0)}getFieldIndexes(t,n){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,n){return Y.resolve(Xr.min())}getMinOffsetFromCollectionGroup(t,n){return Y.resolve(Xr.min())}updateCollectionGroup(t,n,s){return Y.resolve()}updateIndexEntries(t,n){return Y.resolve()}}class Rw{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new xe(se.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new xe(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vT=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(vT,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ro(0)}static cr(){return new ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="LruGarbageCollector",Iw=1048576;function Ev([r,t],[n,s]){const l=kt(r,n);return l===0?kt(t,s):l}class Cw{constructor(t){this.Ir=t,this.buffer=new xe(Ev),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Ev(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Dw{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(vv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ho(n)?ot(vv,"Ignoring IndexedDB error during garbage collection: ",n):await co(n)}await this.Vr(3e5)})}}class Nw{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Y.resolve(ch.ce);const s=new Cw(n);return this.mr.forEachTarget(t,l=>s.Ar(l.sequenceNumber)).next(()=>this.mr.pr(t,l=>s.Ar(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(_v)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_v):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,l,c,d,g,p,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(s=I,g=Date.now(),this.removeTargets(t,s,n))).next(I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(I=>(_=Date.now(),Fa()<=Ut.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${I} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I})))}}function Ow(r,t){return new Nw(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.changes=new Ys(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Y.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&Ml(s.mutation,l,$n.empty(),le.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,xt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=xt()){const l=Ls();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let d=Rl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,n){const s=Ls();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,xt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((d,g)=>{n.set(d,g)})})}computeViews(t,n,s,l){let c=ar();const d=Vl(),g=function(){return Vl()}();return n.forEach((p,_)=>{const T=s.get(_.key);l.has(_.key)&&(T===void 0||T.mutation instanceof Xs)?c=c.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Ml(T.mutation,_,T.mutation.getFieldMask(),le.now())):d.set(_.key,$n.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((_,T)=>d.set(_,T)),n.forEach((_,T)=>g.set(_,new Mw(T,d.get(_)??null))),g))}recalculateAndSaveOverlays(t,n){const s=Vl();let l=new me((d,g)=>d-g),c=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(d=>{for(const g of d)g.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||$n.empty();T=g.applyToLocalView(_,T),s.set(p,T);const I=(l.get(g.batchId)||xt()).add(p);l=l.insert(g.batchId,I)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,I=tT();T.forEach(D=>{if(!c.has(D)){const H=aT(n.get(D),s.get(D));H!==null&&I.set(D,H),c=c.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(t,_,I))}return Y.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):XE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):Y.resolve(Ls());let g=kl,p=c;return d.next(_=>Y.forEach(_,(T,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(T)?Y.resolve():this.remoteDocumentCache.getEntry(t,T).next(D=>{p=p.insert(T,D)}))).next(()=>this.populateOverlays(t,_,c)).next(()=>this.computeViews(t,p,_,xt())).next(T=>({batchId:g,changes:JE(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next(s=>{let l=Rl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let d=Rl();return this.indexManager.getCollectionParents(t,c).next(g=>Y.forEach(g,p=>{const _=function(I,D){return new Kl(D,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next(T=>{T.forEach((I,D)=>{d=d.insert(I,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(d=>{c.forEach((p,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,sn.newInvalidDocument(T)))});let g=Rl();return d.forEach((p,_)=>{const T=c.get(p);T!==void 0&&Ml(T.mutation,_,$n.empty(),le.now()),gh(n,_)&&(g=g.insert(p,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return Y.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Ti(l.createTime)}}(n)),Y.resolve()}getNamedQuery(t,n){return Y.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(l){return{name:l.name,query:bw(l.bundledQuery),readTime:Ti(l.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.overlays=new me(dt.comparator),this.qr=new Map}getOverlay(t,n){return Y.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Ls();return Y.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.St(t,n,c)}),Y.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(s)),Y.resolve()}getOverlaysForCollection(t,n,s){const l=Ls(),c=n.length+1,d=new dt(n.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new me((_,T)=>_-T);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=c.get(_.largestBatchId);T===null&&(T=Ls(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Ls(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>g.set(_,T)),!(g.size()>=l)););return Y.resolve(g)}St(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new tw(n,s));let c=this.qr.get(n);c===void 0&&(c=xt(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this.Qr=new xe(Fe.$r),this.Ur=new xe(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new Fe(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new Fe(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new dt(new se([])),s=new Fe(n,t),l=new Fe(n,t+1),c=[];return this.Ur.forEachInRange([s,l],d=>{this.Gr(d),c.push(d.key)}),c}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new dt(new se([])),s=new Fe(n,t),l=new Fe(n,t+1);let c=xt();return this.Ur.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(t){const n=new Fe(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Fe{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return dt.comparator(t.key,n.key)||kt(t.Yr,n.Yr)}static Kr(t,n){return kt(t.Yr,n.Yr)||dt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new xe(Fe.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Jb(c,n,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Fe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,n){return Y.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.ei(s),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?bm:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Fe(n,0),l=new Fe(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],d=>{const g=this.Xr(d.Yr);c.push(g)}),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new xe(kt);return n.forEach(l=>{const c=new Fe(l,0),d=new Fe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],g=>{s=s.add(g.Yr)})}),Y.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;dt.isDocumentKey(c)||(c=c.child(""));const d=new Fe(new dt(c),0);let g=new xe(kt);return this.Zr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(p.Yr)),!0)},d),Y.resolve(this.ti(g))}ti(t){const n=[];return t.forEach(s=>{const l=this.Xr(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){Xt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Y.forEach(n.mutations,l=>{const c=new Fe(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new Fe(n,0),l=this.Zr.firstAfterOrEqual(s);return Y.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t){this.ri=t,this.docs=function(){return new me(dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Y.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(t,n){let s=ar();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():sn.newInvalidDocument(l))}),Y.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=ar();const d=n.path,g=new dt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||mb(db(T),s)<=0||(l.has(T.key)||gh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,n,s,l){_t(9500)}ii(t,n){return Y.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new Bw(this)}getSize(t){return Y.resolve(this.size)}}class Bw extends Vw{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)}),Y.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(t){this.persistence=t,this.si=new Ys(n=>Im(n),Cm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Mm,this.targetCount=0,this.ai=ro.ur()}forEachTarget(t,n){return this.si.forEach((s,l)=>n(l)),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Y.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new ro(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,Y.resolve()}updateTargetData(t,n){return this.Pr(n),Y.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),Y.waitFor(c).next(()=>l)}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return Y.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),Y.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(d=>{c.push(l.markPotentiallyOrphaned(t,d))}),Y.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),Y.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return Y.resolve(s)}containsKey(t,n){return Y.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(t,n){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new xw,this.referenceDelegate=t(this),this.Pi=new jw(this),this.indexManager=new ww,this.remoteDocumentCache=function(l){return new zw(l)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new Sw(n),this.Ii=new Uw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new kw,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new Lw(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const l=new qw(this.ci.next());return this.referenceDelegate.Ei(),s(l).next(c=>this.referenceDelegate.di(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}Ai(t,n){return Y.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class qw extends pb{constructor(t){super(),this.currentSequenceNumber=t}}class Pm{constructor(t){this.persistence=t,this.Ri=new Mm,this.Vi=null}static mi(t){return new Pm(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Y.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),Y.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(l=>this.fi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.fi.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,s=>{const l=dt.fromPath(s);return this.gi(t,l).next(c=>{c||n.removeEntry(l,At.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return Y.or([()=>Y.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Zc{constructor(t,n){this.persistence=t,this.pi=new Ys(s=>vb(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=Ow(this,n)}static mi(t,n){return new Zc(t,n)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return Y.forEach(this.pi,(s,l)=>this.br(t,s,l).next(c=>c?Y.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,d=>this.br(t,d,n).next(g=>{g||(s++,c.removeEntry(d,At.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),Y.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),Y.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),Y.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Vc(t.data.value)),n}br(t,n,s){return Y.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.pi.get(n);return Y.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=l}static As(t,n){let s=xt(),l=xt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Um(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return US()?8:yb(an())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.ys(t,n).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ws(t,n,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Hw;return this.Ss(t,n,d).next(g=>{if(c.result=g,this.Vs)return this.bs(t,n,d,g.size)})}).next(()=>c.result)}bs(t,n,s,l){return s.documentReadCount<this.fs?(Fa()<=Ut.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Fa()<=Ut.DEBUG&&ot("QueryEngine","Query:",Ga(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Fa()<=Ut.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ei(n))):Y.resolve())}ys(t,n){if(lv(n))return Y.resolve(null);let s=Ei(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=rm(n,null,"F"),s=Ei(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const d=xt(...c);return this.ps.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const _=this.Ds(n,g);return this.Cs(n,_,d,p.readTime)?this.ys(t,rm(n,null,"F")):this.vs(t,_,n,p)}))})))}ws(t,n,s,l){return lv(n)||l.isEqual(At.min())?Y.resolve(null):this.ps.getDocuments(t,s).next(c=>{const d=this.Ds(n,c);return this.Cs(n,d,s,l)?Y.resolve(null):(Fa()<=Ut.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ga(n)),this.vs(t,d,n,fb(l,kl)).next(g=>g))})}Ds(t,n){let s=new xe(ZE(t));return n.forEach((l,c)=>{gh(t,c)&&(s=s.add(c))}),s}Cs(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,n,s){return Fa()<=Ut.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.ps.getDocumentsMatchingQuery(t,n,Xr.min(),s)}vs(t,n,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="LocalStore",Gw=3e8;class Qw{constructor(t,n,s,l){this.persistence=t,this.Fs=n,this.serializer=l,this.Ms=new me(kt),this.xs=new Ys(c=>Im(c),Cm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Pw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function Kw(r,t,n,s){return new Qw(r,t,n,s)}async function TT(r,t){const n=bt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=xt();for(const _ of l){d.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of c){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Ls:_,removedBatchIds:d,addedBatchIds:g}))})})}function Yw(r,t){const n=bt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return function(g,p,_,T){const I=_.batch,D=I.keys();let H=Y.resolve();return D.forEach($=>{H=H.next(()=>T.getEntry(p,$)).next(it=>{const Z=_.docVersions.get($);Xt(Z!==null,48541),it.version.compareTo(Z)<0&&(I.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),T.addEntry(it)))})}),H.next(()=>g.mutationQueue.removeMutationBatch(p,I))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=xt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function AT(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function Xw(r,t){const n=bt(r),s=t.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const g=[];t.targetChanges.forEach((T,I)=>{const D=l.get(I);if(!D)return;g.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,I).next(()=>n.Pi.addMatchingKeys(c,T.addedDocuments,I)));let H=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?H=H.withResumeToken(We.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,s)),l=l.insert(I,H),function(it,Z,Tt){return it.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=Gw?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(D,H,T)&&g.push(n.Pi.updateTargetData(c,H))});let p=ar(),_=xt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push($w(c,d,t.documentUpdates).next(T=>{p=T.ks,_=T.qs})),!s.isEqual(At.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next(I=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(T)}return Y.waitFor(g).next(()=>d.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,_)).next(()=>p)}).then(c=>(n.Ms=l,c))}function $w(r,t,n){let s=xt(),l=xt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let d=ar();return n.forEach((g,p)=>{const _=c.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):ot(km,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)}),{ks:d,qs:l}})}function Zw(r,t){const n=bt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=bm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function Ww(r,t){const n=bt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Pi.getTargetData(s,t).next(c=>c?(l=c,Y.resolve(l)):n.Pi.allocateTargetId(s).next(d=>(l=new Hr(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function um(r,t,n){const s=bt(r),l=s.Ms.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!ho(d))throw d;ot(km,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function Tv(r,t,n){const s=bt(r);let l=At.min(),c=xt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,_,T){const I=bt(p),D=I.xs.get(T);return D!==void 0?Y.resolve(I.Ms.get(D)):I.Pi.getTargetData(_,T)}(s,d,Ei(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,t,n?l:At.min(),n?c:xt())).next(g=>(Jw(s,Lb(t),g),{documents:g,Qs:c})))}function Jw(r,t,n){let s=r.Os.get(t)||At.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Os.set(t,s)}class Av{constructor(){this.activeTargetIds=Fb()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tR{constructor(){this.Mo=new Av,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Av,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="ConnectivityMonitor";class bv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(Sv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(Sv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cc=null;function cm(){return Cc===null?Cc=function(){return 268435456+Math.round(2147483648*Math.random())}():Cc++,"0x"+Cc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="RestConnection",nR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Fc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,n,s,l,c){const d=cm(),g=this.zo(t,n.toUriEncodedString());ot(Bd,`Sending RPC '${t}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,c);const{host:_}=new URL(g),T=oo(_);return this.Jo(t,g,p,s,T).then(I=>(ot(Bd,`Received RPC '${t}' ${d}: `,I),I),I=>{throw to(Bd,`RPC '${t}' ${d} failed with error: `,I,"url: ",g,"request:",s),I})}Ho(t,n,s,l,c,d){return this.Go(t,n,s,l,c)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}zo(t,n){const s=nR[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class sR extends iR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,l,c){const d=cm();return new Promise((g,p)=>{const _=new bE;_.setWithCredentials(!0),_.listenOnce(wE.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Oc.NO_ERROR:const I=_.getResponseJson();ot(nn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(I)),g(I);break;case Oc.TIMEOUT:ot(nn,`RPC '${t}' ${d} timed out`),p(new at(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const D=_.getStatus();if(ot(nn,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const $=H?.error;if($&&$.status&&$.message){const it=function(Tt){const rt=Tt.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(rt)>=0?rt:Q.UNKNOWN}($.status);p(new at(it,$.message))}else p(new at(Q.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new at(Q.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(nn,`RPC '${t}' ${d} completed.`)}});const T=JSON.stringify(l);ot(nn,`RPC '${t}' ${d} sending request:`,l),_.send(n,"POST",T,s,15)})}T_(t,n,s){const l=cm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=CE(),g=IE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=c.join("");ot(nn,`Creating RPC '${t}' stream ${l}: ${T}`,p);const I=d.createWebChannel(T,p);this.I_(I);let D=!1,H=!1;const $=new rR({Yo:Z=>{H?ot(nn,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(D||(ot(nn,`Opening RPC '${t}' stream ${l} transport.`),I.open(),D=!0),ot(nn,`RPC '${t}' stream ${l} sending:`,Z),I.send(Z))},Zo:()=>I.close()}),it=(Z,Tt,rt)=>{Z.listen(Tt,ut=>{try{rt(ut)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return it(I,wl.EventType.OPEN,()=>{H||(ot(nn,`RPC '${t}' stream ${l} transport opened.`),$.o_())}),it(I,wl.EventType.CLOSE,()=>{H||(H=!0,ot(nn,`RPC '${t}' stream ${l} transport closed`),$.a_(),this.E_(I))}),it(I,wl.EventType.ERROR,Z=>{H||(H=!0,to(nn,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),$.a_(new at(Q.UNAVAILABLE,"The operation could not be completed")))}),it(I,wl.EventType.MESSAGE,Z=>{if(!H){const Tt=Z.data[0];Xt(!!Tt,16349);const rt=Tt,ut=rt?.error||rt[0]?.error;if(ut){ot(nn,`RPC '${t}' stream ${l} received error:`,ut);const Pt=ut.status;let pt=function(S){const R=Ce[S];if(R!==void 0)return uT(R)}(Pt),Dt=ut.message;pt===void 0&&(pt=Q.INTERNAL,Dt="Unknown error status: "+Pt+" with message "+ut.message),H=!0,$.a_(new at(pt,Dt)),I.close()}else ot(nn,`RPC '${t}' stream ${l} received:`,Tt),$.u_(Tt)}}),it(g,RE.STAT_EVENT,Z=>{Z.stat===Zd.PROXY?ot(nn,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Zd.NOPROXY&&ot(nn,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{$.__()},0),$}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function jd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(r){return new uw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(t,n,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="PersistentStream";class bT{constructor(t,n,s,l,c,d,g,p){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ST(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.D_===n&&this.G_(s,l)},s=>{t(()=>{const l=new at(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(l=>{s(()=>this.z_(l))}),this.stream.onMessage(l=>{s(()=>++this.F_==1?this.J_(l):this.onNext(l))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return ot(wv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(ot(wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class aR extends bT{constructor(t,n,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=fw(this.serializer,t),s=function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Ti(d.readTime):At.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=lm(this.serializer),n.addTarget=function(c,d){let g;const p=d.target;if(g=nm(p)?{documents:gw(c,p)}:{query:pw(c,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=fT(c,d.resumeToken);const _=sm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=$c(c,d.snapshotVersion.toTimestamp());const _=sm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,t);const s=_w(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=lm(this.serializer),n.removeTarget=t,this.q_(n)}}class oR extends bT{constructor(t,n,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=mw(t.writeResults,t.commitTime),s=Ti(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=lm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>dw(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{}class uR extends lR{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Go(t,am(n,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(Q.UNKNOWN,c.toString())})}Ho(t,n,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(t,am(n,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(Q.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class cR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sr(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="RemoteStore";class hR{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{$s(this)&&(ot(Fs,"Restarting streams for network reachability change."),await async function(p){const _=bt(p);_.Ea.add(4),await $l(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Eh(_)}(this))})}),this.Ra=new cR(s,l)}}async function Eh(r){if($s(r))for(const t of r.da)await t(!0)}async function $l(r){for(const t of r.da)await t(!1)}function wT(r,t){const n=bt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Bm(n)?zm(n):fo(n).O_()&&Lm(n,t))}function xm(r,t){const n=bt(r),s=fo(n);n.Ia.delete(t),s.O_()&&RT(n,t),n.Ia.size===0&&(s.O_()?s.L_():$s(n)&&n.Ra.set("Unknown"))}function Lm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}fo(r).Y_(t)}function RT(r,t){r.Va.Ue(t),fo(r).Z_(t)}function zm(r){r.Va=new sw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),fo(r).start(),r.Ra.ua()}function Bm(r){return $s(r)&&!fo(r).x_()&&r.Ia.size>0}function $s(r){return bt(r).Ea.size===0}function IT(r){r.Va=void 0}async function fR(r){r.Ra.set("Online")}async function dR(r){r.Ia.forEach((t,n)=>{Lm(r,t)})}async function mR(r,t){IT(r),Bm(r)?(r.Ra.ha(t),zm(r)):r.Ra.set("Unknown")}async function gR(r,t,n){if(r.Ra.set("Online"),t instanceof hT&&t.state===2&&t.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))}(r,t)}catch(s){ot(Fs,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Wc(r,s)}else if(t instanceof Uc?r.Va.Ze(t):t instanceof cT?r.Va.st(t):r.Va.tt(t),!n.isEqual(At.min()))try{const s=await AT(r.localStore);n.compareTo(s)>=0&&await function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,_)=>{const T=c.Ia.get(p);if(!T)return;c.Ia.set(p,T.withResumeToken(We.EMPTY_BYTE_STRING,T.snapshotVersion)),RT(c,p);const I=new Hr(T.target,p,_,T.sequenceNumber);Lm(c,I)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){ot(Fs,"Failed to raise snapshot:",s),await Wc(r,s)}}async function Wc(r,t,n){if(!ho(t))throw t;r.Ea.add(1),await $l(r),r.Ra.set("Offline"),n||(n=()=>AT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ot(Fs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Eh(r)})}function CT(r,t){return t().catch(n=>Wc(r,n,t))}async function Th(r){const t=bt(r),n=Jr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:bm;for(;pR(t);)try{const l=await Zw(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,yR(t,l)}catch(l){await Wc(t,l)}DT(t)&&NT(t)}function pR(r){return $s(r)&&r.Ta.length<10}function yR(r,t){r.Ta.push(t);const n=Jr(r);n.O_()&&n.X_&&n.ea(t.mutations)}function DT(r){return $s(r)&&!Jr(r).x_()&&r.Ta.length>0}function NT(r){Jr(r).start()}async function _R(r){Jr(r).ra()}async function vR(r){const t=Jr(r);for(const n of r.Ta)t.ea(n.mutations)}async function ER(r,t,n){const s=r.Ta.shift(),l=Nm.from(s,t,n);await CT(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await Th(r)}async function TR(r,t){t&&Jr(r).X_&&await async function(s,l){if(function(d){return nw(d)&&d!==Q.ABORTED}(l.code)){const c=s.Ta.shift();Jr(s).B_(),await CT(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await Th(s)}}(r,t),DT(r)&&NT(r)}async function Rv(r,t){const n=bt(r);n.asyncQueue.verifyOperationInProgress(),ot(Fs,"RemoteStore received new credentials");const s=$s(n);n.Ea.add(3),await $l(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Eh(n)}async function AR(r,t){const n=bt(r);t?(n.Ea.delete(2),await Eh(n)):t||(n.Ea.add(2),await $l(n),n.Ra.set("Unknown"))}function fo(r){return r.ma||(r.ma=function(n,s,l){const c=bt(n);return c.sa(),new aR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{Xo:fR.bind(null,r),t_:dR.bind(null,r),r_:mR.bind(null,r),H_:gR.bind(null,r)}),r.da.push(async t=>{t?(r.ma.B_(),Bm(r)?zm(r):r.Ra.set("Unknown")):(await r.ma.stop(),IT(r))})),r.ma}function Jr(r){return r.fa||(r.fa=function(n,s,l){const c=bt(n);return c.sa(),new oR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:_R.bind(null,r),r_:TR.bind(null,r),ta:vR.bind(null,r),na:ER.bind(null,r)}),r.da.push(async t=>{t?(r.fa.B_(),await Th(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Fs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const d=Date.now()+s,g=new jm(t,n,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qm(r,t){if(sr("AsyncQueue",`${t}: ${r}`),ho(r))return new at(Q.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static emptySet(t){return new Xa(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=Rl(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Xa)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Xa;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.ga=new me(dt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class so{constructor(t,n,s,l,c,d,g,p,_){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,s,l,c){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new so(t,n,Xa.emptySet(n),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class bR{constructor(){this.queries=Cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=bt(n),c=l.queries;l.queries=Cv(),c.forEach((d,g)=>{for(const p of g.Sa)p.onError(s)})})(this,new at(Q.ABORTED,"Firestore shutting down"))}}function Cv(){return new Ys(r=>$E(r),mh)}async function Hm(r,t){const n=bt(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new SR,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const g=qm(d,`Initialization of query '${Ga(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.Sa.push(t),t.va(n.onlineState),c.wa&&t.Fa(c.wa)&&Gm(n)}async function Fm(r,t){const n=bt(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function wR(r,t){const n=bt(r);let s=!1;for(const l of t){const c=l.query,d=n.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&Gm(n)}function RR(r,t,n){const s=bt(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(n);s.queries.delete(t)}function Gm(r){r.Ca.forEach(t=>{t.next()})}var hm,Dv;(Dv=hm||(hm={})).Ma="default",Dv.Cache="cache";class Qm{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new so(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=so.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(t){this.key=t}}class VT{constructor(t){this.key=t}}class IR{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=ZE(t),this.tu=new Xa(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new Iv,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((T,I)=>{const D=l.get(T),H=gh(this.query,I)?I:null,$=!!D&&this.mutatedKeys.has(D.key),it=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;D&&H?D.data.isEqual(H.data)?$!==it&&(s.track({type:3,doc:H}),Z=!0):this.su(D,H)||(s.track({type:2,doc:H}),Z=!0,(p&&this.eu(H,p)>0||_&&this.eu(H,_)<0)&&(g=!0)):!D&&H?(s.track({type:0,doc:H}),Z=!0):D&&!H&&(s.track({type:1,doc:D}),Z=!0,(p||_)&&(g=!0)),Z&&(H?(d=d.add(H),c=it?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort((T,I)=>function(H,$){const it=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:Z})}};return it(H)-it($)}(T.type,I.type)||this.eu(T.doc,I.doc)),this.ou(s),l=l??!1;const g=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,_=p!==this.Za;return this.Za=p,d.length!==0||_?{snapshot:new so(this.query,t.tu,c,d,t.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Iv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=xt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new VT(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new OT(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=xt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Km="SyncEngine";class CR{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class DR{constructor(t){this.key=t,this.hu=!1}}class NR{constructor(t,n,s,l,c,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ys(g=>$E(g),mh),this.Iu=new Map,this.Eu=new Set,this.du=new me(dt.comparator),this.Au=new Map,this.Ru=new Mm,this.Vu={},this.mu=new Map,this.fu=ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OR(r,t,n=!0){const s=LT(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await MT(s,t,n,!0),l}async function VR(r,t){const n=LT(r);await MT(n,t,!0,!1)}async function MT(r,t,n,s){const l=await Ww(r.localStore,Ei(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await MR(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&wT(r.remoteStore,l),g}async function MR(r,t,n,s,l){r.pu=(I,D,H)=>async function(it,Z,Tt,rt){let ut=Z.view.ru(Tt);ut.Cs&&(ut=await Tv(it.localStore,Z.query,!1).then(({documents:M})=>Z.view.ru(M,ut)));const Pt=rt&&rt.targetChanges.get(Z.targetId),pt=rt&&rt.targetMismatches.get(Z.targetId)!=null,Dt=Z.view.applyChanges(ut,it.isPrimaryClient,Pt,pt);return Ov(it,Z.targetId,Dt.au),Dt.snapshot}(r,I,D,H);const c=await Tv(r.localStore,t,!0),d=new IR(t,c.Qs),g=d.ru(c.documents),p=Xl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,p);Ov(r,n,_.au);const T=new CR(t,n,d);return r.Tu.set(t,T),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),_.snapshot}async function PR(r,t,n){const s=bt(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter(d=>!mh(d,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await um(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&xm(s.remoteStore,l.targetId),fm(s,l.targetId)}).catch(co)):(fm(s,l.targetId),await um(s.localStore,l.targetId,!0))}async function UR(r,t){const n=bt(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),xm(n.remoteStore,s.targetId))}async function kR(r,t,n){const s=HR(r);try{const l=await function(d,g){const p=bt(d),_=le.now(),T=g.reduce((H,$)=>H.add($.key),xt());let I,D;return p.persistence.runTransaction("Locally write mutations","readwrite",H=>{let $=ar(),it=xt();return p.Ns.getEntries(H,T).next(Z=>{$=Z,$.forEach((Tt,rt)=>{rt.isValidDocument()||(it=it.add(Tt))})}).next(()=>p.localDocuments.getOverlayedDocuments(H,$)).next(Z=>{I=Z;const Tt=[];for(const rt of g){const ut=Zb(rt,I.get(rt.key).overlayedDocument);ut!=null&&Tt.push(new Xs(rt.key,ut,qE(ut.value.mapValue),nr.exists(!0)))}return p.mutationQueue.addMutationBatch(H,_,Tt,g)}).next(Z=>{D=Z;const Tt=Z.applyToLocalDocumentSet(I,it);return p.documentOverlayCache.saveOverlays(H,Z.batchId,Tt)})}).then(()=>({batchId:D.batchId,changes:JE(I)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let _=d.Vu[d.currentUser.toKey()];_||(_=new me(kt)),_=_.insert(g,p),d.Vu[d.currentUser.toKey()]=_}(s,l.batchId,n),await Zl(s,l.changes),await Th(s.remoteStore)}catch(l){const c=qm(l,"Failed to persist write");n.reject(c)}}async function PT(r,t){const n=bt(r);try{const s=await Xw(n.localStore,t);t.targetChanges.forEach((l,c)=>{const d=n.Au.get(c);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xt(d.hu,14607):l.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))}),await Zl(n,s,t)}catch(s){await co(s)}}function Nv(r,t,n){const s=bt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=bt(d);p.onlineState=g;let _=!1;p.queries.forEach((T,I)=>{for(const D of I.Sa)D.va(g)&&(_=!0)}),_&&Gm(p)}(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function xR(r,t,n){const s=bt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new me(dt.comparator);d=d.insert(c,sn.newNoDocument(c,At.min()));const g=xt().add(c),p=new _h(At.min(),new Map,new me(kt),d,g);await PT(s,p),s.du=s.du.remove(c),s.Au.delete(t),Ym(s)}else await um(s.localStore,t,!1).then(()=>fm(s,t,n)).catch(co)}async function LR(r,t){const n=bt(r),s=t.batch.batchId;try{const l=await Yw(n.localStore,t);kT(n,s,null),UT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Zl(n,l)}catch(l){await co(l)}}async function zR(r,t,n){const s=bt(r);try{const l=await function(d,g){const p=bt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next(I=>(Xt(I!==null,37113),T=I.keys(),p.mutationQueue.removeMutationBatch(_,I))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,t);kT(s,t,n),UT(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Zl(s,l)}catch(l){await co(l)}}function UT(r,t){(r.mu.get(t)||[]).forEach(n=>{n.resolve()}),r.mu.delete(t)}function kT(r,t,n){const s=bt(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function fm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach(s=>{r.Ru.containsKey(s)||xT(r,s)})}function xT(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(xm(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Ym(r))}function Ov(r,t,n){for(const s of n)s instanceof OT?(r.Ru.addReference(s.key,t),BR(r,s)):s instanceof VT?(ot(Km,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||xT(r,s.key)):_t(19791,{wu:s})}function BR(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ot(Km,"New document in limbo: "+n),r.Eu.add(s),Ym(r))}function Ym(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new dt(se.fromString(t)),s=r.fu.next();r.Au.set(s,new DR(n)),r.du=r.du.insert(n,s),wT(r.remoteStore,new Hr(Ei(dh(n.path)),s,"TargetPurposeLimboResolution",ch.ce))}}async function Zl(r,t,n){const s=bt(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((g,p)=>{d.push(s.pu(p,t,n).then(_=>{if((_||n)&&s.isPrimaryClient){const T=_?!_.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(_){l.push(_);const T=Um.As(p.targetId,_);c.push(T)}}))}),await Promise.all(d),s.Pu.H_(l),await async function(p,_){const T=bt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Y.forEach(_,D=>Y.forEach(D.Es,H=>T.persistence.referenceDelegate.addReference(I,D.targetId,H)).next(()=>Y.forEach(D.ds,H=>T.persistence.referenceDelegate.removeReference(I,D.targetId,H)))))}catch(I){if(!ho(I))throw I;ot(km,"Failed to update sequence numbers: "+I)}for(const I of _){const D=I.targetId;if(!I.fromCache){const H=T.Ms.get(D),$=H.snapshotVersion,it=H.withLastLimboFreeSnapshotVersion($);T.Ms=T.Ms.insert(D,it)}}}(s.localStore,c))}async function jR(r,t){const n=bt(r);if(!n.currentUser.isEqual(t)){ot(Km,"User change. New user:",t.toKey());const s=await TT(n.localStore,t);n.currentUser=t,function(c,d){c.mu.forEach(g=>{g.forEach(p=>{p.reject(new at(Q.CANCELLED,d))})}),c.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Zl(n,s.Ls)}}function qR(r,t){const n=bt(r),s=n.Au.get(t);if(s&&s.hu)return xt().add(s.key);{let l=xt();const c=n.Iu.get(t);if(!c)return l;for(const d of c){const g=n.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function LT(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=PT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xR.bind(null,t),t.Pu.H_=wR.bind(null,t.eventManager),t.Pu.yu=RR.bind(null,t.eventManager),t}function HR(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zR.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return Kw(this.persistence,new Fw,t.initialUser,this.serializer)}Cu(t){return new ET(Pm.mi,this.serializer)}Du(t){return new tR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class FR extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Xt(this.persistence.referenceDelegate instanceof Zc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Dw(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new ET(s=>Zc.mi(s,n),this.serializer)}}class dm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Nv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=jR.bind(null,this.syncEngine),await AR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new bR}()}createDatastore(t){const n=vh(t.databaseInfo.databaseId),s=function(c){return new sR(c)}(t.databaseInfo);return function(c,d,g,p){return new uR(c,d,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,d,g){return new hR(s,l,c,d,g)}(this.localStore,this.datastore,t.asyncQueue,n=>Nv(this.syncEngine,n,0),function(){return bv.v()?new bv:new eR}())}createSyncEngine(t,n){return function(l,c,d,g,p,_,T){const I=new NR(l,c,d,g,p,_);return T&&(I.gu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=bt(n);ot(Fs,"RemoteStore shutting down."),s.Ea.add(5),await $l(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}dm.provider={build:()=>new dm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):sr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class GR{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Sm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ot(ts,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ot(ts,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=qm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function qd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(ts,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await TT(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Vv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await QR(r);ot(ts,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Rv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>Rv(t.remoteStore,l)),r._onlineComponents=t}async function QR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(ts,"Using user provided OfflineComponentProvider");try{await qd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===Q.FAILED_PRECONDITION||l.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await qd(r,new Jc)}}else ot(ts,"Using default OfflineComponentProvider"),await qd(r,new FR(void 0));return r._offlineComponents}async function zT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(ts,"Using user provided OnlineComponentProvider"),await Vv(r,r._uninitializedComponentsProvider._online)):(ot(ts,"Using default OnlineComponentProvider"),await Vv(r,new dm))),r._onlineComponents}function KR(r){return zT(r).then(t=>t.syncEngine)}async function th(r){const t=await zT(r),n=t.eventManager;return n.onListen=OR.bind(null,t.syncEngine),n.onUnlisten=PR.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=VR.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=UR.bind(null,t.syncEngine),n}function YR(r,t,n={}){const s=new er;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,_){const T=new Xm({next:D=>{T.Nu(),d.enqueueAndForget(()=>Fm(c,I));const H=D.docs.has(g);!H&&D.fromCache?_.reject(new at(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&D.fromCache&&p&&p.source==="server"?_.reject(new at(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),I=new Qm(dh(g.path),T,{includeMetadataChanges:!0,qa:!0});return Hm(c,I)}(await th(r),r.asyncQueue,t,n,s)),s.promise}function XR(r,t,n={}){const s=new er;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,_){const T=new Xm({next:D=>{T.Nu(),d.enqueueAndForget(()=>Fm(c,I)),D.fromCache&&p.source==="server"?_.reject(new at(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),I=new Qm(g,T,{includeMetadataChanges:!0,qa:!0});return Hm(c,I)}(await th(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="firestore.googleapis.com",Pv=!0;class Uv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jT,this.ssl=Pv}else this.host=t.host,this.ssl=t.ssl??Pv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Iw)throw new at(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}hb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BT(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ah{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new eb;switch(s.type){case"firstParty":return new sb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Mv.get(n);s&&(ot("ComponentProvider","Removing Datastore"),Mv.delete(n),s.terminate())}(this),Promise.resolve()}}function $R(r,t,n,s={}){r=vi(r,Ah);const l=oo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${n}`;l&&(gE(`https://${g}`),pE("Firestore",!0)),c.host!==jT&&c.host!==g&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...c,host:g,ssl:l,emulatorOptions:s};if(!js(p,d)&&(r._setSettings(p),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=rn.MOCK_USER;else{_=RS(s.mockUserToken,r._app?.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new at(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new rn(I)}r._authCredentials=new nb(new NE(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Zs(this.firestore,t,this._query)}}class Ae{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ae(this.firestore,t,this._key)}toJSON(){return{type:Ae._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Ql(n,Ae._jsonSchema))return new Ae(t,s||null,new dt(se.fromString(n.referencePath)))}}Ae._jsonSchemaVersion="firestore/documentReference/1.0",Ae._jsonSchema={type:Ne("string",Ae._jsonSchemaVersion),referencePath:Ne("string")};class Yr extends Zs{constructor(t,n,s){super(t,n,dh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ae(this.firestore,null,new dt(t))}withConverter(t){return new Yr(this.firestore,t,this._path)}}function kv(r,t,...n){if(r=on(r),OE("collection","path",t),r instanceof Ah){const s=se.fromString(t,...n);return Y_(s),new Yr(r,null,s)}{if(!(r instanceof Ae||r instanceof Yr))throw new at(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(se.fromString(t,...n));return Y_(s),new Yr(r.firestore,null,s)}}function Ha(r,t,...n){if(r=on(r),arguments.length===1&&(t=Sm.newId()),OE("doc","path",t),r instanceof Ah){const s=se.fromString(t,...n);return K_(s),new Ae(r,null,new dt(s))}{if(!(r instanceof Ae||r instanceof Yr))throw new at(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(se.fromString(t,...n));return K_(s),new Ae(r.firestore,r instanceof Yr?r.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv="AsyncQueue";class Lv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ST(this,"async_queue_retry"),this._c=()=>{const s=jd();s&&ot(xv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=jd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=jd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new er;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ho(t))throw t;ot(xv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,sr("INTERNAL UNHANDLED ERROR: ",zv(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=jm.createAndSchedule(this,t,n,s,c=>this.hc(c));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:zv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function zv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1}(r,["next","error","complete"])}class ao extends Ah{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new Lv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Lv(t),this._firestoreClient=void 0,await t}}}function ZR(r,t){const n=typeof r=="object"?r:EE(),s=typeof r=="string"?r:Fc,l=Tm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=bS("firestore");c&&$R(l,...c)}return l}function Sh(r){if(r._terminated)throw new at(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||WR(r),r._firestoreClient}function WR(r){const t=r._freezeSettings(),n=function(l,c,d,g){return new Ab(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,BT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new GR(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn(We.fromBase64String(t))}catch(n){throw new at(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new jn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ql(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ne("string",jn._jsonSchemaVersion),bytes:Ne("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new at(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new at(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new at(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(t){if(Ql(t,Ai._jsonSchema))return new Ai(t.latitude,t.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:Ne("string",Ai._jsonSchemaVersion),latitude:Ne("number"),longitude:Ne("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Si._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ql(t,Si._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Si(t.vectorValues);throw new at(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Si._jsonSchemaVersion="firestore/vectorValue/1.0",Si._jsonSchema={type:Ne("string",Si._jsonSchemaVersion),vectorValues:Ne("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=/^__.*__$/;class tI{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Xs(t,this.data,this.fieldMask,n,this.fieldTransforms):new Yl(t,this.data,n,this.fieldTransforms)}}function HT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class Zm{constructor(t,n,s,l,c,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Zm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return eh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(HT(this.Ac)&&JR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class eI{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||vh(t)}Cc(t,n,s,l=!1){return new Zm({Ac:t,methodName:n,Dc:s,path:Ze.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function FT(r){const t=r._freezeSettings(),n=vh(r._databaseId);return new eI(r._databaseId,!!t.ignoreUndefinedProperties,n)}function nI(r,t,n,s,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,n,l);KT("Data must be an object, but it was:",d,s);const g=GT(s,d);let p,_;if(c.merge)p=new $n(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const I of c.mergeFields){const D=rI(t,I,n);if(!d.contains(D))throw new at(Q.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);aI(T,D)||T.push(D)}p=new $n(T),_=d.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,_=d.fieldTransforms;return new tI(new Bn(g),p,_)}function iI(r,t,n,s=!1){return Wm(n,r.Cc(s?4:3,t))}function Wm(r,t){if(QT(r=on(r)))return KT("Unsupported field value:",t,r),GT(r,t);if(r instanceof qT)return function(s,l){if(!HT(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const g of s){let p=Wm(g,l.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=on(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Gb(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=le.fromDate(s);return{timestampValue:$c(l.serializer,c)}}if(s instanceof le){const c=new le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$c(l.serializer,c)}}if(s instanceof Ai)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof jn)return{bytesValue:fT(l.serializer,s._byteString)};if(s instanceof Ae){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Si)return function(d,g){return{mapValue:{fields:{[BE]:{stringValue:jE},[Gc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Dm(g.serializer,_)})}}}}}}(s,l);throw l.Sc(`Unsupported field value: ${uh(s)}`)}(r,t)}function GT(r,t){const n={};return PE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ks(r,(s,l)=>{const c=Wm(l,t.mc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function QT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof le||r instanceof Ai||r instanceof jn||r instanceof Ae||r instanceof qT||r instanceof Si)}function KT(r,t,n){if(!QT(n)||!VE(n)){const s=uh(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function rI(r,t,n){if((t=on(t))instanceof $m)return t._internalPath;if(typeof t=="string")return YT(r,t);throw eh("Field path arguments must be of type string or ",r,!1,void 0,n)}const sI=new RegExp("[~\\*/\\[\\]]");function YT(r,t,n){if(t.search(sI)>=0)throw eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new $m(...t.split("."))._internalPath}catch{throw eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function eh(r,t,n,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new at(Q.INVALID_ARGUMENT,g+r+p)}function aI(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ae(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Jm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oI extends XT{data(){return super.data()}}function Jm(r,t){return typeof t=="string"?YT(r,t):t instanceof $m?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class lI extends tg{}function uI(r,t,...n){let s=[];t instanceof tg&&s.push(t),s=s.concat(n),function(c){const d=c.filter(p=>p instanceof eg).length,g=c.filter(p=>p instanceof bh).length;if(d>1||d>0&&g>0)throw new at(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class bh extends lI{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new bh(t,n,s)}_apply(t){const n=this._parse(t);return ZT(t._query,n),new Zs(t.firestore,t.converter,im(t._query,n))}_parse(t){const n=FT(t.firestore);return function(c,d,g,p,_,T,I){let D;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new at(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){qv(I,T);const $=[];for(const it of I)$.push(jv(p,c,it));D={arrayValue:{values:$}}}else D=jv(p,c,I)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||qv(I,T),D=iI(g,d,I,T==="in"||T==="not-in");return De.create(_,T,D)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function cI(r,t,n){const s=t,l=Jm("where",r);return bh._create(l,s,n)}class eg extends tg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new eg(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)ZT(d,p),d=im(d,p)}(t._query,n),new Zs(t.firestore,t.converter,im(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jv(r,t,n){if(typeof(n=on(n))=="string"){if(n==="")throw new at(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XE(t)&&n.indexOf("/")!==-1)throw new at(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(se.fromString(n));if(!dt.isDocumentKey(s))throw new at(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return nv(r,new dt(s))}if(n instanceof Ae)return nv(r,n._key);throw new at(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(n)}.`)}function qv(r,t){if(!Array.isArray(r)||r.length===0)throw new at(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ZT(r,t){const n=function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new at(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class hI{convertValue(t,n="none"){switch(Wr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Zr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ks(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){const n=t.fields?.[Gc].arrayValue?.values?.map(s=>Te(s.doubleValue));return new Si(n)}convertGeoPoint(t){return new Ai(Te(t.latitude),Te(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=fh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(xl(t));default:return null}}convertTimestamp(t){const n=$r(t);return new le(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=se.fromString(t);Xt(_T(s),9688,{name:t});const l=new Ll(s.get(1),s.get(3)),c=new dt(s.popFirst(5));return l.isEqual(n)||sr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(r,t,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(t,n):r.toFirestore(t):t,s}class Cl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class zs extends XT{constructor(t,n,s,l,c,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Jm("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",zs._jsonSchema={type:Ne("string",zs._jsonSchemaVersion),bundleSource:Ne("string","DocumentSnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class kc extends zs{data(t={}){return super.data(t)}}class Bs{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Cl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new kc(this._firestore,this._userDataWriter,s.key,s,new Cl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new kc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new kc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:dI(g.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Bs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Sm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function dI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(r){r=vi(r,Ae);const t=vi(r.firestore,ao);return YR(Sh(t),r._key).then(n=>WT(t,r,n))}Bs._jsonSchemaVersion="firestore/querySnapshot/1.0",Bs._jsonSchema={type:Ne("string",Bs._jsonSchemaVersion),bundleSource:Ne("string","QuerySnapshot"),bundleName:Ne("string"),bundle:Ne("string")};class ng extends hI{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ae(this.firestore,null,n)}}function mI(r){r=vi(r,Zs);const t=vi(r.firestore,ao),n=Sh(t),s=new ng(t);return $T(r._query),XR(n,r._query).then(l=>new Bs(t,s,r,l))}function ks(r,t,n){r=vi(r,Ae);const s=vi(r.firestore,ao),l=fI(r.converter,t,n);return pI(s,[nI(FT(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,nr.none())])}function gI(r,...t){r=on(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Bv(t[s])||(n=t[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Bv(t[s])){const p=t[s];t[s]=p.next?.bind(p),t[s+1]=p.error?.bind(p),t[s+2]=p.complete?.bind(p)}let c,d,g;if(r instanceof Ae)d=vi(r.firestore,ao),g=dh(r._key.path),c={next:p=>{t[s]&&t[s](WT(d,r,p))},error:t[s+1],complete:t[s+2]};else{const p=vi(r,Zs);d=vi(p.firestore,ao),g=p._query;const _=new ng(d);c={next:T=>{t[s]&&t[s](new Bs(d,_,p,T))},error:t[s+1],complete:t[s+2]},$T(r._query)}return function(_,T,I,D){const H=new Xm(D),$=new Qm(T,H,I);return _.asyncQueue.enqueueAndForget(async()=>Hm(await th(_),$)),()=>{H.Nu(),_.asyncQueue.enqueueAndForget(async()=>Fm(await th(_),$))}}(Sh(d),g,l,c)}function pI(r,t){return function(s,l){const c=new er;return s.asyncQueue.enqueueAndForget(async()=>kR(await KR(s),l,c)),c.promise}(Sh(r),t)}function WT(r,t,n){const s=n.docs.get(t._key),l=new ng(r);return new zs(r,l,t._key,s,new Cl(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(l){uo=l})(lo),Ja(new qs("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new ao(new ib(s.getProvider("auth-internal")),new ab(d,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(_.options.projectId,T)}(d,l),d);return c={useFetchStreams:n,...c},g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Qr(H_,F_,t),Qr(H_,F_,"esm2020")})();function JT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yI=JT,t0=new Fl("auth","Firebase",JT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new vm("@firebase/auth");function _I(r,...t){nh.logLevel<=Ut.WARN&&nh.warn(`Auth (${lo}): ${r}`,...t)}function xc(r,...t){nh.logLevel<=Ut.ERROR&&nh.error(`Auth (${lo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(r,...t){throw ig(r,...t)}function bi(r,...t){return ig(r,...t)}function e0(r,t,n){const s={...yI(),[t]:n};return new Fl("auth","Firebase",s).create(t,{appName:r.name})}function ir(r){return e0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ig(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return t0.create(r,...t)}function yt(r,t,...n){if(!r)throw ig(t,...n)}function Ji(r){const t="INTERNAL ASSERTION FAILED: "+r;throw xc(t),new Error(t)}function or(r,t){r||Ji(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(){return typeof self<"u"&&self.location?.href||""}function vI(){return Hv()==="http:"||Hv()==="https:"}function Hv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vI()||VS()||"connection"in navigator)?navigator.onLine:!0}function TI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,n){this.shortDelay=t,this.longDelay=n,or(n>t,"Short delay should be less than long delay!"),this.isMobile=DS()||MS()}get(){return EI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(r,t){or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bI=new Wl(3e4,6e4);function es(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ns(r,t,n,s,l={}){return i0(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Gl({key:r.config.apiKey,...d}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:p,...c};return OS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&oo(r.emulatorConfig.host)&&(_.credentials="include"),n0.fetch()(await r0(r,r.config.apiHost,n,g),_)})}async function i0(r,t,n){r._canInitEmulator=!1;const s={...AI,...t};try{const l=new RI(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Dc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw Dc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw Dc(r,"user-disabled",d);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw e0(r,T,_);Jn(r,T)}}catch(l){if(l instanceof lr)throw l;Jn(r,"network-request-failed",{message:String(l)})}}async function Jl(r,t,n,s,l={}){const c=await ns(r,t,n,s,l);return"mfaPendingCredential"in c&&Jn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function r0(r,t,n,s){const l=`${t}${n}?${s}`,c=r,d=c.config.emulator?rg(r.config,l):`${r.config.apiScheme}://${l}`;return SI.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function wI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(bi(this.auth,"network-request-failed")),bI.get())})}}function Dc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=bi(r,t,s);return l.customData._tokenResponse=n,l}function Fv(r){return r!==void 0&&r.enterprise!==void 0}class II{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return wI(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function CI(r,t){return ns(r,"GET","/v2/recaptchaConfig",es(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(r,t){return ns(r,"POST","/v1/accounts:delete",t)}async function ih(r,t){return ns(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function NI(r,t=!1){const n=on(r),s=await n.getIdToken(t),l=sg(s);yt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:Pl(Fd(l.auth_time)),issuedAtTime:Pl(Fd(l.iat)),expirationTime:Pl(Fd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(r){return Number(r)*1e3}function sg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return xc("JWT malformed, contained fewer than 3 sections"),null;try{const l=hE(n);return l?JSON.parse(l):(xc("Failed to decode base64 JWT payload"),null)}catch(l){return xc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Gv(r){const t=sg(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof lr&&OI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function OI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(r){const t=r.auth,n=await r.getIdToken(),s=await ql(r,ih(t,{idToken:n}));yt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?s0(l.providerUserInfo):[],d=PI(r.providerData,c),g=r.isAnonymous,p=!(r.email&&l.passwordHash)&&!d?.length,_=g?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new gm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,T)}async function MI(r){const t=on(r);await rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function PI(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function s0(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(r,t){const n=await i0(r,{},async()=>{const s=Gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await r0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return r.emulatorConfig&&oo(r.emulatorConfig.host)&&(p.credentials="include"),n0.fetch()(d,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kI(r,t){return ns(r,"POST","/v2/accounts:revokeToken",es(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Gv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const n=Gv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await UI(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,d=new $a;return s&&(yt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new VI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new gm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await ql(this,this.stsTokenManager.getToken(this.auth,t));return yt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return NI(this,t)}reload(){return MI(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await rh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(ir(this.auth));const t=await this.getIdToken();return await ql(this,DI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,_=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:I,emailVerified:D,isAnonymous:H,providerData:$,stsTokenManager:it}=n;yt(I&&it,t,"internal-error");const Z=$a.fromJSON(this.name,it);yt(typeof I=="string",t,"internal-error"),xr(s,t.name),xr(l,t.name),yt(typeof D=="boolean",t,"internal-error"),yt(typeof H=="boolean",t,"internal-error"),xr(c,t.name),xr(d,t.name),xr(g,t.name),xr(p,t.name),xr(_,t.name),xr(T,t.name);const Tt=new Zn({uid:I,auth:t,email:l,emailVerified:D,displayName:s,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:Z,createdAt:_,lastLoginAt:T});return $&&Array.isArray($)&&(Tt.providerData=$.map(rt=>({...rt}))),p&&(Tt._redirectEventId=p),Tt}static async _fromIdTokenResponse(t,n,s=!1){const l=new $a;l.updateFromServerResponse(n);const c=new Zn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await rh(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?s0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new $a;g.updateFromIdToken(s);const p=new Zn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new gm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new Map;function tr(r){or(r instanceof Function,"Expected a class definition");let t=Qv.get(r);return t?(or(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Qv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}a0.type="NONE";const Kv=a0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(r,t,n){return`firebase:${r}:${t}:${n}`}class Za{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Lc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ih(this.auth,{idToken:t}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Za(tr(Kv),t,s);const l=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||tr(Kv);const d=Lc(s,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const T=await _._get(d);if(T){let I;if(typeof T=="string"){const D=await ih(t,{idToken:T}).catch(()=>{});if(!D)break;I=await Zn._fromGetAccountInfoResponse(t,D,T)}else I=Zn._fromJSON(t,T);_!==c&&(g=I),c=_;break}}catch{}const p=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Za(c,t,s):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Za(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(c0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(o0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(f0(t))return"Blackberry";if(d0(t))return"Webos";if(l0(t))return"Safari";if((t.includes("chrome/")||u0(t))&&!t.includes("edge/"))return"Chrome";if(h0(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function o0(r=an()){return/firefox\//i.test(r)}function l0(r=an()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function u0(r=an()){return/crios\//i.test(r)}function c0(r=an()){return/iemobile/i.test(r)}function h0(r=an()){return/android/i.test(r)}function f0(r=an()){return/blackberry/i.test(r)}function d0(r=an()){return/webos/i.test(r)}function ag(r=an()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function xI(r=an()){return ag(r)&&!!window.navigator?.standalone}function LI(){return PS()&&document.documentMode===10}function m0(r=an()){return ag(r)||h0(r)||d0(r)||f0(r)||/windows phone/i.test(r)||c0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(r,t=[]){let n;switch(r){case"Browser":n=Yv(an());break;case"Worker":n=`${Yv(an())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${lo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((d,g)=>{try{const p=t(c);d(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(r,t={}){return ns(r,"GET","/v2/passwordPolicy",es(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=6;class qI{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??jI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xv(this),this.idTokenSubscription=new Xv(this),this.beforeStateQueue=new zI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ih(this,{idToken:t}),s=await Zn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await rh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=TI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(zn(this.app))return Promise.reject(ir(this));const n=t?on(t):null;return n&&yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return zn(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await BI(this),n=new qI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await kI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&tr(t)||this._popupRedirectResolver;yt(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{d=!0,p()}}else{const p=t.addObserver(n);return()=>{d=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=g0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&_I(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ws(r){return on(r)}class Xv{constructor(t){this.auth=t,this.observer=null,this.addObserver=qS(n=>this.observer=n)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FI(r){wh=r}function p0(r){return wh.loadJS(r)}function GI(){return wh.recaptchaEnterpriseScript}function QI(){return wh.gapiScript}function KI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class YI{constructor(){this.enterprise=new XI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class XI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const $I="recaptcha-enterprise",y0="NO_RECAPTCHA";class ZI{constructor(t){this.type=$I,this.auth=Ws(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{CI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const _=new II(p);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(p=>{g(p)})})}function l(c,d,g){const p=window.grecaptcha;Fv(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(y0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YI().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{s(this.auth).then(g=>{if(!n&&Fv(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=GI();p.length!==0&&(p+=g),p0(p).then(()=>{l(g,c,d)}).catch(_=>{d(_)})}}).catch(g=>{d(g)})})}}async function $v(r,t,n,s=!1,l=!1){const c=new ZI(r);let d;if(l)d=y0;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const g={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,_=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function pm(r,t,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await $v(r,t,n,n==="getOobCode");return s(r,c)}else return s(r,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await $v(r,t,n,n==="getOobCode");return s(r,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(r,t){const n=Tm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(js(c,t??{}))return l;Jn(l,"already-initialized")}return n.initialize({options:t})}function JI(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(tr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function tC(r,t,n){const s=Ws(r);yt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=_0(t),{host:d,port:g}=eC(t),p=g===null?"":`:${g}`,_={url:`${c}//${d}${p}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){yt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),yt(js(_,s.config.emulator)&&js(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,oo(d)?(gE(`${c}//${d}${p}`),pE("Auth",!0)):nC()}function _0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function eC(r){const t=_0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Zv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Zv(d)}}}function Zv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function nC(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(t){return Ji("not implemented")}_linkToIdToken(t,n){return Ji("not implemented")}_getReauthenticationResolver(t){return Ji("not implemented")}}async function iC(r,t){return ns(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(r,t){return Jl(r,"POST","/v1/accounts:signInWithPassword",es(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sC(r,t){return Jl(r,"POST","/v1/accounts:signInWithEmailLink",es(r,t))}async function aC(r,t){return Jl(r,"POST","/v1/accounts:signInWithEmailLink",es(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends og{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Hl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Hl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pm(t,n,"signInWithPassword",rC);case"emailLink":return sC(t,{email:this._email,oobCode:this._password});default:Jn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pm(t,s,"signUpPassword",iC);case"emailLink":return aC(t,{idToken:n,email:this._email,oobCode:this._password});default:Jn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(r,t){return Jl(r,"POST","/v1/accounts:signInWithIdp",es(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="http://localhost";class Gs extends og{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Gs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=n;if(!s||!l)return null;const d=new Gs(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return Wa(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Wa(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Wa(t,n)}buildRequest(){const t={requestUri:oC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Gl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uC(r){const t=Sl(bl(r)).link,n=t?Sl(bl(t)).deep_link_id:null,s=Sl(bl(r)).deep_link_id;return(s?Sl(bl(s)).link:null)||s||n||t||r}class lg{constructor(t){const n=Sl(bl(t)),s=n.apiKey??null,l=n.oobCode??null,c=lC(n.mode??null);yt(s&&l&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=uC(t);try{return new lg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.providerId=mo.PROVIDER_ID}static credential(t,n){return Hl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=lg.parseLink(n);return yt(s,"argument-error"),Hl._fromEmailAndCode(t,s.code,s.tenantId)}}mo.PROVIDER_ID="password";mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends v0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends tu{constructor(){super("facebook.com")}static credential(t){return Gs._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Gs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Br.credential(n,s)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends tu{constructor(){super("github.com")}static credential(t){return Gs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return jr.credential(t.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends tu{constructor(){super("twitter.com")}static credential(t,n){return Gs._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return qr.credential(n,s)}catch{return null}}}qr.TWITTER_SIGN_IN_METHOD="twitter.com";qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(r,t){return Jl(r,"POST","/v1/accounts:signUp",es(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await Zn._fromIdTokenResponse(t,s,l),d=Wv(s);return new Qs({user:c,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Wv(s);return new Qs({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Wv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends lr{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new sh(t,n,s,l)}}function E0(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(r,c,t,s):c})}async function hC(r,t,n=!1){const s=await ql(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Qs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fC(r,t,n=!1){const{auth:s}=r;if(zn(s.app))return Promise.reject(ir(s));const l="reauthenticate";try{const c=await ql(r,E0(s,l,t,r),n);yt(c.idToken,s,"internal-error");const d=sg(c.idToken);yt(d,s,"internal-error");const{sub:g}=d;return yt(r.uid===g,s,"user-mismatch"),Qs._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Jn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T0(r,t,n=!1){if(zn(r.app))return Promise.reject(ir(r));const s="signIn",l=await E0(r,s,t),c=await Qs._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function dC(r,t){return T0(Ws(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A0(r){const t=Ws(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function mC(r,t,n){if(zn(r.app))return Promise.reject(ir(r));const s=Ws(r),d=await pm(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",cC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&A0(r),p}),g=await Qs._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(g.user),g}function gC(r,t,n){return zn(r.app)?Promise.reject(ir(r)):dC(on(r),mo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&A0(r),s})}function pC(r,t,n,s){return on(r).onIdTokenChanged(t,n,s)}function yC(r,t,n){return on(r).beforeAuthStateChanged(t,n)}function _C(r,t,n,s){return on(r).onAuthStateChanged(t,n,s)}function vC(r){return on(r).signOut()}const ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=1e3,TC=10;class b0 extends S0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);LI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,TC):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},EC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}b0.type="LOCAL";const AC=b0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends S0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}w0.type="SESSION";const R0=w0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Rh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async _=>_(n.origin,c)),p=await SC(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const _=ug("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(I){const D=I;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function wC(r){wi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function RC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function IC(){return navigator?.serviceWorker?.controller||null}function CC(){return I0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="firebaseLocalStorageDb",DC=1,oh="firebaseLocalStorage",D0="fbase_key";class eu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ih(r,t){return r.transaction([oh],t?"readwrite":"readonly").objectStore(oh)}function NC(){const r=indexedDB.deleteDatabase(C0);return new eu(r).toPromise()}function ym(){const r=indexedDB.open(C0,DC);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(oh,{keyPath:D0})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(oh)?t(s):(s.close(),await NC(),t(await ym()))})})}async function Jv(r,t,n){const s=Ih(r,!0).put({[D0]:t,value:n});return new eu(s).toPromise()}async function OC(r,t){const n=Ih(r,!1).get(t),s=await new eu(n).toPromise();return s===void 0?null:s.value}function tE(r,t){const n=Ih(r,!0).delete(t);return new eu(n).toPromise()}const VC=800,MC=3;class N0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ym(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>MC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return I0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(CC()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RC(),!this.activeServiceWorker)return;this.sender=new bC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||IC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ym();return await Jv(t,ah,"1"),await tE(t,ah),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Jv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>OC(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>tE(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Ih(l,!1).getAll();return new eu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N0.type="LOCAL";const PC=N0;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(r,t){return t?tr(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends og{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wa(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Wa(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Wa(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function kC(r){return T0(r.auth,new cg(r),r.bypassAuthState)}function xC(r){const{auth:t,user:n}=r;return yt(n,t,"internal-error"),fC(n,new cg(r),r.bypassAuthState)}async function LC(r){const{auth:t,user:n}=r;return yt(n,t,"internal-error"),hC(n,new cg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return kC;case"linkViaPopup":case"linkViaRedirect":return LC;case"reauthViaPopup":case"reauthViaRedirect":return xC;default:Jn(this.auth,"internal-error")}}resolve(t){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new Wl(2e3,1e4);class Ya extends O0{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const t=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zC.get())};t()}}Ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="pendingRedirect",zc=new Map;class jC extends O0{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=zc.get(this.auth._key());if(!t){try{const s=await qC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}zc.set(this.auth._key(),t)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qC(r,t){const n=GC(t),s=FC(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function HC(r,t){zc.set(r._key(),t)}function FC(r){return tr(r._redirectPersistence)}function GC(r){return Lc(BC,r.config.apiKey,r.name)}async function QC(r,t,n=!1){if(zn(r.app))return Promise.reject(ir(r));const s=Ws(r),l=UC(s,t),d=await new jC(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=600*1e3;class YC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!XC(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!V0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(bi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=KC&&this.cachedEventUids.clear(),this.cachedEventUids.has(eE(t))}saveEventToCache(t){this.cachedEventUids.add(eE(t)),this.lastProcessedEventTime=Date.now()}}function eE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function V0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function XC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return V0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(r,t={}){return ns(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WC=/^https?/;async function JC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await $C(r);for(const n of t)try{if(t2(n))return}catch{}Jn(r,"unauthorized-domain")}function t2(r){const t=mm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!WC.test(n))return!1;if(ZC.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new Wl(3e4,6e4);function nE(){const r=wi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function n2(r){return new Promise((t,n)=>{function s(){nE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nE(),n(bi(r,"network-request-failed"))},timeout:e2.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)s();else{const l=KI("iframefcb");return wi()[l]=()=>{gapi.load?s():n(bi(r,"network-request-failed"))},p0(`${QI()}?onload=${l}`).catch(c=>n(c))}}).catch(t=>{throw Bc=null,t})}let Bc=null;function i2(r){return Bc=Bc||n2(r),Bc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=new Wl(5e3,15e3),s2="__/auth/iframe",a2="emulator/auth/iframe",o2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function u2(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?rg(t,a2):`https://${r.config.authDomain}/${s2}`,s={apiKey:t.apiKey,appName:r.name,v:lo},l=l2.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Gl(s).slice(1)}`}async function c2(r){const t=await i2(r),n=wi().gapi;return yt(n,r,"internal-error"),t.open({where:document.body,url:u2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o2,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=bi(r,"network-request-failed"),g=wi().setTimeout(()=>{c(d)},r2.get());function p(){wi().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},f2=500,d2=600,m2="_blank",g2="http://localhost";class iE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p2(r,t,n,s=f2,l=d2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...h2,width:s.toString(),height:l.toString(),top:c,left:d},_=an().toLowerCase();n&&(g=u0(_)?m2:n),o0(_)&&(t=t||g2,p.scrollbars="yes");const T=Object.entries(p).reduce((D,[H,$])=>`${D}${H}=${$},`,"");if(xI(_)&&g!=="_self")return y2(t||"",g),new iE(null);const I=window.open(t||"",g,T);yt(I,r,"popup-blocked");try{I.focus()}catch{}return new iE(I)}function y2(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="__/auth/handler",v2="emulator/auth/handler",E2=encodeURIComponent("fac");async function rE(r,t,n,s,l,c){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:lo,eventId:l};if(t instanceof v0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",jS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,I]of Object.entries({}))d[T]=I}if(t instanceof tu){const T=t.getScopes().filter(I=>I!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),_=p?`#${E2}=${encodeURIComponent(p)}`:"";return`${T2(r)}?${Gl(g).slice(1)}${_}`}function T2({config:r}){return r.emulator?rg(r,v2):`https://${r.authDomain}/${_2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="webStorageSupport";class A2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R0,this._completeRedirectFn=QC,this._overrideRedirectResult=HC}async _openPopup(t,n,s,l){or(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await rE(t,n,s,mm(),l);return p2(t,c,ug())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await rE(t,n,s,mm(),l);return wC(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(or(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await c2(t),s=new YC(t);return n.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Gd,{type:Gd},l=>{const c=l?.[0]?.[Gd];c!==void 0&&n(!!c),Jn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return m0()||l0()||ag()}}const S2=A2;var sE="@firebase/auth",aE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R2(r){Ja(new qs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g0(r)},_=new HI(s,l,c,p);return JI(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ja(new qs("auth-internal",t=>{const n=Ws(t.getProvider("auth").getImmediate());return(s=>new b2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(sE,aE,w2(r)),Qr(sE,aE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=300,C2=mE("authIdTokenMaxAge")||I2;let oE=null;const D2=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>C2)return;const l=n?.token;oE!==l&&(oE=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function N2(r=EE()){const t=Tm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=WI(r,{popupRedirectResolver:S2,persistence:[PC,AC,R0]}),s=mE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=D2(c.toString());yC(n,d,()=>d(n.currentUser)),pC(n,g=>d(g))}}const l=fE("auth");return l&&tC(n,`http://${l}`),n}function O2(){return document.getElementsByTagName("head")?.[0]??document}FI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=bi("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",O2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R2("Browser");const V2={apiKey:"AIzaSyBBOpAC4GH531hVexJHKWK7LqAWSaj6Uqc",authDomain:"calendar-f064a.firebaseapp.com",projectId:"calendar-f064a",storageBucket:"calendar-f064a.firebasestorage.app",messagingSenderId:"904299594",appId:"1:904299594:web:26a395a6d4a73f635792b3",measurementId:"G-7RXFJ1V686"},M0=vE(V2),Lr=ZR(M0),Nc=N2(M0);function M2(){const[r,t]=ye.useState(new Date),[n,s]=ye.useState(null),[l,c]=ye.useState({}),[d,g]=ye.useState(!0),[p,_]=ye.useState(()=>{const st=localStorage.getItem("darkMode");return st?JSON.parse(st):!1}),[T,I]=ye.useState(null),[D,H]=ye.useState(!1),[$,it]=ye.useState(!0),[Z,Tt]=ye.useState("login"),[rt,ut]=ye.useState(""),[Pt,pt]=ye.useState(""),[Dt,M]=ye.useState(""),[S,R]=ye.useState(""),[V,O]=ye.useState(""),[P,w]=ye.useState(!1),[ue,ae]=ye.useState(!0);ye.useEffect(()=>{p?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),localStorage.setItem("darkMode",JSON.stringify(p))},[p]);const q=st=>st.toISOString().split("T")[0],et=(st,St)=>new Date(st,St+1,0).getDate(),ct=()=>{_(st=>!st)},Lt=async(st,St=null)=>{if(!st.trim())return!0;w(!0);try{const Nt=kv(Lr,"users"),wt=uI(Nt,cI("displayName","==",st.trim())),Bt=await mI(wt);let zt=!0;return Bt.empty||Bt.forEach(oe=>{oe.id!==St&&(zt=!1)}),ae(zt),w(!1),zt}catch(Nt){return console.error("Error checking username:",Nt),w(!1),!1}};ye.useEffect(()=>{if(rt!==Pt&&Z==="register"){const st=setTimeout(()=>{Lt(rt)},500);return()=>clearTimeout(st)}},[rt,Z,Pt]),ye.useEffect(()=>{console.log("Setting up authentication listener");let st=!1;const St=_C(Nc,Nt=>{Nt?(console.log("User is signed in:",Nt.uid),I(Nt),H(!0),it(!1),st||(st=!0,C(Nt.uid))):(console.log("No user signed in"),I(null),H(!1),g(!1),st=!1)});return()=>St()},[]);const C=async st=>{try{g(!0),console.log(`Fetching user profile for ID: ${st}`);const St=Ha(Lr,"users",st),Nt=await Hd(St);if(Nt.exists()){const wt=Nt.data();if(wt.displayName)console.log("Profile found with name:",wt.displayName),ut(wt.displayName),pt(wt.displayName);else{console.warn("User profile exists but has no displayName");const Bt=`User_${st.slice(0,5)}`;ut(Bt),pt(Bt),await ks(St,{displayName:Bt},{merge:!0})}wt.darkMode!==void 0&&_(wt.darkMode)}else{console.warn("No user profile document found, creating one");const wt=`User_${st.slice(0,5)}`;await ks(St,{uid:st,displayName:wt,createdAt:new Date().toISOString(),darkMode:p}),ut(wt),pt(wt)}}catch(St){console.error("Error fetching user profile:",St)}finally{g(!1)}};ye.useEffect(()=>{if(!T){console.log("No user yet, skipping calendar data subscription");return}const st=r.getFullYear(),St=r.getMonth();console.log(`Setting up listener for month: ${St+1}/${st}`);const Nt=`${st}-${String(St+1).padStart(2,"0")}-01`,wt=et(st,St),Bt=`${st}-${String(St+1).padStart(2,"0")}-${wt}`;console.log(`Watching for availability from ${Nt} to ${Bt}`);const zt=kv(Lr,"availability");try{const oe=gI(zt,{includeMetadataChanges:!0},Oe=>{console.log(`Got snapshot with ${Oe.size} documents, fromCache: ${Oe.metadata.fromCache}`);const Je={};Oe.forEach(yn=>{const Hn=yn.id;Hn>=Nt&&Hn<=Bt&&(Je[Hn]=yn.data().users||{})}),console.log("Updated calendar data with new snapshot"),c(Je),g(!1)},Oe=>{console.error("Error in snapshot listener:",Oe),g(!1)});return()=>{console.log("Cleaning up calendar data listener"),oe()}}catch(oe){console.error("Failed to set up snapshot listener:",oe),g(!1)}},[r,T]);const X=async st=>{if(st.preventDefault(),O(""),!Dt||!S||!rt.trim()){O("Please fill in all fields");return}w(!0);const St=await Lt(rt);if(w(!1),!St){O("This username is already taken. Please choose another.");return}try{g(!0);const wt=(await mC(Nc,Dt,S)).user;await ks(Ha(Lr,"users",wt.uid),{uid:wt.uid,email:Dt,displayName:rt.trim(),createdAt:new Date().toISOString(),darkMode:p}),console.log("User registered successfully:",wt.uid),M(""),R(""),pt(rt),ut(rt.trim())}catch(Nt){console.error("Error registering user:",Nt),O(Nt.message),g(!1)}},nt=async st=>{if(st.preventDefault(),O(""),!Dt||!S){O("Please enter both email and password");return}try{await gC(Nc,Dt,S),console.log("User logged in successfully"),M(""),R("")}catch(St){console.error("Error logging in:",St),O(St.message)}},J=async()=>{try{await vC(Nc),console.log("User signed out"),it(!0)}catch(st){console.error("Error signing out:",st)}},ft=async st=>{if(!T){it(!0);return}const St=q(st);console.log(`Toggling availability for ${St}`);try{const Nt=Ha(Lr,"availability",St),wt=await Hd(Nt);let Bt={users:{}};wt.exists()&&(Bt=wt.data(),Bt.users||(Bt.users={}));const oe=Bt.users[T.uid]?.isAvailable===!0;console.log(`Current availability: ${oe}`),Bt.users[T.uid]={userId:T.uid,userName:rt,isAvailable:!oe,updatedAt:new Date().toISOString()},console.log("Saving to Firestore:",Bt),await ks(Nt,Bt),console.log("Availability toggled successfully"),c(Oe=>{const Je={...Oe};return Je[St]||(Je[St]={}),Je[St]={...Je[St],[T.uid]:{userId:T.uid,userName:rt,isAvailable:!oe,updatedAt:new Date().toISOString()}},Je})}catch(Nt){console.error("Error toggling availability:",Nt),alert("Failed to update availability. See console for details.")}},It=async()=>{if(!T||!rt.trim())return;if(rt===Pt){console.log("Name unchanged, skipping update");return}console.log(`Updating user name to: ${rt}`),w(!0);const st=await Lt(rt,T.uid);if(w(!1),!st){alert("This username is already taken. Please choose another."),ut(Pt);return}try{const St=Ha(Lr,"users",T.uid);await ks(St,{displayName:rt.trim()},{merge:!0});for(const Nt in l)if(l[Nt][T.uid])try{const Bt=Ha(Lr,"availability",Nt),zt=await Hd(Bt);if(zt.exists()){const oe=zt.data();oe.users&&oe.users[T.uid]&&(oe.users[T.uid].userName=rt.trim(),await ks(Bt,oe),console.log(`Updated name in date: ${Nt}`))}}catch(Bt){console.error(`Error updating name for date ${Nt}:`,Bt)}pt(rt.trim()),alert("Name updated successfully!")}catch(St){console.error("Error updating user name:",St),alert("Failed to update name. See console for details.")}},vt=async()=>{if(T)try{const st=Ha(Lr,"users",T.uid);await ks(st,{darkMode:p},{merge:!0}),console.log("Dark mode preference saved")}catch(st){console.error("Error saving dark mode preference:",st)}};ye.useEffect(()=>{T&&vt()},[p,T]);const Se=()=>T&&rt&&rt!=="",Wt=()=>{t(new Date(r.getFullYear(),r.getMonth()-1,1))},Rn=()=>{t(new Date(r.getFullYear(),r.getMonth()+1,1))},ti=()=>{const st=r.getFullYear(),St=r.getMonth(),Nt=new Date(st,St,1).getDay(),wt=et(st,St),Bt=[];for(let zt=0;zt<Nt;zt++)Bt.push(W.jsx("div",{className:"calendar-day empty"},`empty-${zt}`));for(let zt=1;zt<=wt;zt++){const oe=new Date(st,St,zt),Oe=q(oe),Je=l[Oe]||{},yn=Object.values(Je),Hn=yn.filter(Le=>Le.isAvailable).length,ce=T&&Je[T.uid]&&Je[T.uid].isAvailable,Qt=n&&q(n)===Oe,ln=new Date().toISOString().split("T")[0]===Oe;Bt.push(W.jsxs("div",{className:`calendar-day ${ce?"available":""} ${Qt?"selected":""} ${ln?"today":""}`,onClick:()=>{s(oe),ft(oe)},children:[W.jsx("div",{className:"day-number",children:zt}),yn.length>0&&W.jsxs("div",{className:"availability-count",children:[Hn,"/",yn.length," available"]})]},zt))}return Bt},qn=()=>{if(!n)return null;const st=q(n),St=l[st]||{},Nt=Object.values(St),wt=Nt.filter(zt=>zt.isAvailable),Bt=Nt.filter(zt=>!zt.isAvailable);return W.jsxs("div",{className:"selected-date-details",children:[W.jsx("h3",{children:n.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),W.jsxs("div",{className:"user-lists",children:[W.jsxs("div",{className:"available-users",children:[W.jsxs("h4",{children:["Available (",wt.length,")"]}),wt.length>0?wt.map(zt=>W.jsx("div",{className:"user-item available",children:zt.userName},zt.userId)):W.jsx("p",{children:"No one is available"})]}),W.jsxs("div",{className:"unavailable-users",children:[W.jsxs("h4",{children:["Unavailable (",Bt.length,")"]}),Bt.length>0?Bt.map(zt=>W.jsx("div",{className:"user-item unavailable",children:zt.userName},zt.userId)):W.jsx("p",{children:"No one is unavailable"})]})]})]})},ei=()=>W.jsxs("div",{className:"dark-mode-toggle",children:[W.jsx("span",{className:"toggle-icon light",children:"☀️"}),W.jsxs("label",{className:"switch",children:[W.jsx("input",{type:"checkbox",checked:p,onChange:ct}),W.jsx("span",{className:"slider round"})]}),W.jsx("span",{className:"toggle-icon dark",children:"🌙"})]}),Ii=()=>$?W.jsx("div",{className:"auth-overlay",children:W.jsxs("div",{className:"auth-container",children:[W.jsxs("div",{className:"auth-tabs",children:[W.jsx("button",{className:Z==="login"?"active":"",onClick:()=>Tt("login"),children:"Login"}),W.jsx("button",{className:Z==="register"?"active":"",onClick:()=>{Tt("register"),ae(!0)},children:"Register"}),W.jsx("button",{className:"close-button",onClick:()=>it(!1),children:"✕"})]}),W.jsxs("div",{className:"auth-form-container",children:[V&&W.jsx("div",{className:"auth-error",children:V}),Z==="login"?W.jsxs("form",{onSubmit:nt,className:"auth-form",children:[W.jsx("h2",{children:"Login"}),W.jsxs("div",{className:"form-group",children:[W.jsx("label",{htmlFor:"email",children:"Email"}),W.jsx("input",{id:"email",type:"email",value:Dt,onChange:st=>M(st.target.value),placeholder:"Enter your email"})]}),W.jsxs("div",{className:"form-group",children:[W.jsx("label",{htmlFor:"password",children:"Password"}),W.jsx("input",{id:"password",type:"password",value:S,onChange:st=>R(st.target.value),placeholder:"Enter your password"})]}),W.jsx("button",{type:"submit",className:"auth-button",children:"Login"})]}):W.jsxs("form",{onSubmit:X,className:"auth-form",children:[W.jsx("h2",{children:"Register"}),W.jsxs("div",{className:"form-group",children:[W.jsxs("label",{htmlFor:"reg-name",children:["Username",P&&W.jsx("span",{className:"checking-name",children:" (checking...)"})]}),W.jsx("input",{id:"reg-name",type:"text",value:rt,onChange:st=>ut(st.target.value),placeholder:"Choose a unique username",className:ue?"":"input-error"}),!ue&&W.jsx("div",{className:"input-error-message",children:"Username is already taken"})]}),W.jsxs("div",{className:"form-group",children:[W.jsx("label",{htmlFor:"reg-email",children:"Email"}),W.jsx("input",{id:"reg-email",type:"email",value:Dt,onChange:st=>M(st.target.value),placeholder:"Enter your email"})]}),W.jsxs("div",{className:"form-group",children:[W.jsx("label",{htmlFor:"reg-password",children:"Password"}),W.jsx("input",{id:"reg-password",type:"password",value:S,onChange:st=>R(st.target.value),placeholder:"Create a password"})]}),W.jsxs("div",{className:"form-group preference-group",children:[W.jsx("label",{children:"Display Mode"}),W.jsx(ei,{})]}),W.jsx("button",{type:"submit",className:"auth-button",disabled:P||!ue,children:"Register"})]})]})]})}):null;return W.jsxs("div",{className:`app ${p?"dark-mode":"light-mode"}`,children:[W.jsxs("header",{children:[W.jsx("h1",{children:"Group Availability Calendar"}),W.jsxs("div",{className:"header-controls",children:[W.jsx(ei,{}),D?d&&!Se()?W.jsx("div",{className:"loading-profile",children:"Loading profile..."}):W.jsxs("div",{className:"user-controls",children:[W.jsxs("div",{className:"username-field",children:[W.jsx("input",{type:"text",value:rt,onChange:st=>ut(st.target.value),placeholder:"Your name",className:ue?"":"input-error"}),rt!==Pt&&W.jsx("div",{className:"name-status",children:P?W.jsx("span",{className:"checking",children:"Checking..."}):ue?W.jsx("span",{className:"available",children:"Username available"}):W.jsx("span",{className:"taken",children:"Username already taken"})})]}),W.jsx("button",{onClick:It,disabled:rt===Pt||P||!ue,children:"Update Name"}),W.jsx("button",{onClick:J,children:"Sign Out"})]}):W.jsx("button",{onClick:()=>it(!0),className:"login-button",children:"Login / Register"})]})]}),W.jsx("main",{children:d&&D?W.jsxs("div",{className:"loading",children:[W.jsx("p",{children:"Loading calendar data..."}),W.jsx("p",{children:W.jsx("small",{children:"This may take a moment if this is your first time using the app."})})]}):W.jsxs(W.Fragment,{children:[!D&&!$&&W.jsx("div",{className:"login-prompt",children:W.jsxs("p",{children:["Please ",W.jsx("button",{onClick:()=>it(!0),children:"login or register"})," to interact with the calendar."]})}),W.jsxs("div",{className:"calendar",children:[W.jsxs("div",{className:"calendar-header",children:[W.jsx("button",{onClick:Wt,children:"< Prev"}),W.jsx("h2",{children:r.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),W.jsx("button",{onClick:Rn,children:"Next >"})]}),W.jsx("div",{className:"weekdays",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(st=>W.jsx("div",{className:"weekday",children:st},st))}),W.jsx("div",{className:"calendar-grid",children:ti()})]}),D&&qn()]})}),Ii(),W.jsx("footer",{children:W.jsxs("p",{children:["Made with Firebase & React •",D?`Signed in as ${rt}`:"Not signed in"," • Current date: ",new Date().toLocaleDateString()]})})]})}gS.createRoot(document.getElementById("root")).render(W.jsx(oS.StrictMode,{children:W.jsx(M2,{})}));
